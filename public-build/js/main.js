!function(e,t,n){function i(e){return function(){var t,n="["+(e?e+":":"")+arguments[0]+"] ",i=arguments[1],o=arguments;return t=n+i.replace(/\{\d+\}/g,function(e){var t,n=+e.slice(1,-1);return n+2<o.length?(t=o[n+2],k(t)?t.toString().replace(/ ?\{[\s\S]*$/,""):v(t)?"undefined":x(t)?t:I(t)):e}),new Error(t)}}function o(e){if(null==e||S(e))return!1;var t=e.length;return 1===e.nodeType&&t?!0:C(e)||!k(e)&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function a(e,t,n){var i;if(e)if(k(e))for(i in e)"prototype"!=i&&"length"!=i&&"name"!=i&&e.hasOwnProperty(i)&&t.call(n,e[i],i);else if(e.forEach&&e.forEach!==a)e.forEach(t,n);else if(o(e))for(i=0;i<e.length;i++)t.call(n,e[i],i);else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i);return e}function r(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function s(e,t,n){for(var i=r(e),o=0;o<i.length;o++)t.call(n,e[i[o]],i[o]);return i}function l(e){return function(t,n){e(n,t)}}function u(){for(var e,t=li.length;t;){if(t--,e=li[t].charCodeAt(0),57==e)return li[t]="A",li.join("");if(90!=e)return li[t]=String.fromCharCode(e+1),li.join("");li[t]="0"}return li.unshift("0"),li.join("")}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function d(e){var t=e.$$hashKey;return a(arguments,function(t){t!==e&&a(t,function(t,n){e[n]=t})}),c(e,t),e}function f(e){return parseInt(e,10)}function p(e,t){return d(new(d(function(){},{prototype:e})),t)}function h(){}function m(e){return e}function g(e){return function(){return e}}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!=e&&"object"==typeof e}function x(e){return"string"==typeof e}function w(e){return"number"==typeof e}function $(e){return"[object Date]"==ai.apply(e)}function C(e){return"[object Array]"==ai.apply(e)}function k(e){return"function"==typeof e}function T(e){return"[object RegExp]"==ai.apply(e)}function S(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function _(e){return e&&e.$evalAsync&&e.$watch}function E(e){return"[object File]"===ai.apply(e)}function M(e){return e&&(e.nodeName||e.on&&e.find)}function P(e,t,n){var i=[];return a(e,function(e,o,a){i.push(t.call(n,e,o,a))}),i}function D(e,t){return-1!=N(e,t)}function N(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function O(e,t){var n=N(e,t);return n>=0&&e.splice(n,1),t}function L(e,t){if(S(e)||_(e))throw ri("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw ri("cpi","Can't copy! Source and destination are identical.");if(C(e)){t.length=0;for(var n=0;n<e.length;n++)t.push(L(e[n]))}else{var i=t.$$hashKey;a(t,function(e,n){delete t[n]});for(var o in e)t[o]=L(e[o]);c(t,i)}}else t=e,e&&(C(e)?t=L(e,[]):$(e)?t=new Date(e.getTime()):T(e)?t=new RegExp(e.source):b(e)&&(t=L(e,{})));return t}function A(e,t){t=t||{};for(var n in e)e.hasOwnProperty(n)&&"$$"!==n.substr(0,2)&&(t[n]=e[n]);return t}function q(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,o,a,r=typeof e,s=typeof t;if(r==s&&"object"==r){if(!C(e)){if($(e))return $(t)&&e.getTime()==t.getTime();if(T(e)&&T(t))return e.toString()==t.toString();if(_(e)||_(t)||S(e)||S(t)||C(t))return!1;a={};for(o in e)if("$"!==o.charAt(0)&&!k(e[o])){if(!q(e[o],t[o]))return!1;a[o]=!0}for(o in t)if(!a.hasOwnProperty(o)&&"$"!==o.charAt(0)&&t[o]!==n&&!k(t[o]))return!1;return!0}if(!C(t))return!1;if((i=e.length)==t.length){for(o=0;i>o;o++)if(!q(e[o],t[o]))return!1;return!0}}return!1}function B(e,t,n){return e.concat(ii.call(t,n))}function j(e,t){return ii.call(e,t||0)}function H(e,t){var n=arguments.length>2?j(arguments,2):[];return!k(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(ii.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function F(e,i){var o=i;return/^\$+/.test(e)?o=n:S(i)?o="$WINDOW":i&&t===i?o="$DOCUMENT":_(i)&&(o="$SCOPE"),o}function I(e,t){return"undefined"==typeof e?n:JSON.stringify(e,F,t?"  ":null)}function R(e){return x(e)?JSON.parse(e):e}function U(e){if(e&&0!==e.length){var t=Qn(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function W(e){e=Kn(e).clone();try{e.html("")}catch(t){}var n=3,i=Kn("<div>").append(e).html();try{return e[0].nodeType===n?Qn(i):i.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Qn(t)})}catch(t){return Qn(i)}}function V(e){try{return decodeURIComponent(e)}catch(t){}}function z(e){var t,n,i={};return a((e||"").split("&"),function(e){if(e&&(t=e.split("="),n=V(t[0]),y(n))){var o=y(t[1])?V(t[1]):!0;i[n]?C(i[n])?i[n].push(o):i[n]=[i[n],o]:i[n]=o}}),i}function X(e){var t=[];return a(e,function(e,n){C(e)?a(e,function(e){t.push(Y(n,!0)+(e===!0?"":"="+Y(e,!0)))}):t.push(Y(n,!0)+(e===!0?"":"="+Y(e,!0)))}),t.length?t.join("&"):""}function Q(e){return Y(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function G(e,n){function i(e){e&&s.push(e)}var o,r,s=[e],l=["ng:app","ng-app","x-ng-app","data-ng-app"],u=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;a(l,function(n){l[n]=!0,i(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(a(e.querySelectorAll("."+n),i),a(e.querySelectorAll("."+n+"\\:"),i),a(e.querySelectorAll("["+n+"]"),i))}),a(s,function(e){if(!o){var t=" "+e.className+" ",n=u.exec(t);n?(o=e,r=(n[2]||"").replace(/\s+/g,",")):a(e.attributes,function(t){!o&&l[t.name]&&(o=e,r=t.value)})}}),o&&n(o,r?[r]:[])}function J(n,i){var o=function(){if(n=Kn(n),n.injector()){var e=n[0]===t?"document":W(n);throw ri("btstrpd","App Already Bootstrapped with this Element '{0}'",e)}i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.unshift("ng");var o=St(i);return o.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,i,o){e.$apply(function(){t.data("$injector",i),n(t)(e)}),o.enabled(!0)}]),o},r=/^NG_DEFER_BOOTSTRAP!/;return e&&!r.test(e.name)?o():(e.name=e.name.replace(r,""),si.resumeBootstrap=function(e){a(e,function(e){i.push(e)}),o()},void 0)}function K(e,t){return t=t||"_",e.replace(ci,function(e,n){return(n?t:"")+e.toLowerCase()})}function Z(){Zn=e.jQuery,Zn?(Kn=Zn,d(Zn.fn,{scope:xi.scope,controller:xi.controller,injector:xi.injector,inheritedData:xi.inheritedData}),st("remove",!0,!0,!1),st("empty",!1,!1,!1),st("html",!1,!1,!0)):Kn=lt,si.element=Kn}function et(e,t,n){if(!e)throw ri("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function tt(e,t,n){return n&&C(e)&&(e=e[e.length-1]),et(k(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function nt(e,t,n){if(!t)return e;for(var i,o=t.split("."),a=e,r=o.length,s=0;r>s;s++)i=o[s],e&&(e=(a=e)[i]);return!n&&k(e)?H(a,e):e}function it(e){function t(e,t,n){return e[t]||(e[t]=n())}return t(t(e,"angular",Object),"module",function(){var e={};return function(n,o,a){return o&&e.hasOwnProperty(n)&&(e[n]=null),t(e,n,function(){function e(e,n,i){return function(){return t[i||"push"]([e,n,arguments]),l}}if(!o)throw i("$injector")("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",n);var t=[],r=[],s=e("$injector","invoke"),l={_invokeQueue:t,_runBlocks:r,requires:o,name:n,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:s,run:function(e){return r.push(e),this}};return a&&s(a),l})}})}function ot(t){d(t,{bootstrap:J,copy:L,extend:d,equals:q,element:Kn,forEach:a,injector:St,noop:h,bind:H,toJson:I,fromJson:R,identity:m,isUndefined:v,isDefined:y,isString:x,isFunction:k,isObject:b,isNumber:w,isElement:M,isArray:C,$$minErr:i,version:di,isDate:$,lowercase:Qn,uppercase:Yn,callbacks:{counter:0}}),ei=it(e);try{ei("ngLocale")}catch(n){ei("ngLocale",[]).provider("$locale",Vt)}ei("ng",["ngLocale"],["$provide",function(e){e.provider("$compile",Nt).directive({a:Gi,input:ro,textarea:ro,form:eo,script:Uo,select:Vo,style:Xo,option:zo,ngBind:bo,ngBindHtml:wo,ngBindTemplate:xo,ngClass:$o,ngClassEven:ko,ngClassOdd:Co,ngCsp:_o,ngCloak:To,ngController:So,ngForm:to,ngHide:Bo,ngIf:Mo,ngInclude:Do,ngInit:No,ngNonBindable:Oo,ngPluralize:Lo,ngRepeat:Ao,ngShow:qo,ngStyle:jo,ngSwitch:Ho,ngSwitchWhen:Fo,ngSwitchDefault:Io,ngOptions:Wo,ngTransclude:Ro,ngModel:po,ngList:go,ngChange:ho,required:mo,ngRequired:mo,ngValue:yo}).directive(Ji).directive(Eo),e.provider({$anchorScroll:_t,$animate:Mi,$browser:Mt,$cacheFactory:Pt,$controller:Lt,$document:At,$exceptionHandler:qt,$filter:kn,$interpolate:Wt,$http:It,$httpBackend:Rt,$location:an,$log:rn,$parse:hn,$rootScope:vn,$q:mn,$sce:bn,$sceDelegate:yn,$sniffer:xn,$templateCache:Dt,$timeout:wn,$window:Cn,$$urlUtils:$n})}])}function at(){return++hi}function rt(e){return e.replace(vi,function(e,t,n,i){return i?n.toUpperCase():n}).replace(yi,"Moz$1")}function st(e,t,n,i){function o(e){var o,r,s,l,u,c,d,f=n&&e?[this.filter(e)]:[this],p=t;if(!i||null!=e)for(;f.length;)for(o=f.shift(),r=0,s=o.length;s>r;r++)for(l=Kn(o[r]),p?l.triggerHandler("$destroy"):p=!p,u=0,c=(d=l.children()).length;c>u;u++)f.push(Zn(d[u]));return a.apply(this,arguments)}var a=Zn.fn[e];a=a.$original||a,o.$original=a,Zn.fn[e]=o}function lt(e){if(e instanceof lt)return e;if(!(this instanceof lt)){if(x(e)&&"<"!=e.charAt(0))throw bi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new lt(e)}if(x(e)){var n=t.createElement("div");n.innerHTML="<div>&#160;</div>"+e,n.removeChild(n.firstChild),yt(this,n.childNodes);var i=Kn(t.createDocumentFragment());i.append(this)}else yt(this,e)}function ut(e){return e.cloneNode(!0)}function ct(e){ft(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)ct(n[t])}function dt(e,t,n,i){if(y(i))throw bi("offargs","jqLite#off() does not support the `selector` argument");var o=pt(e,"events"),r=pt(e,"handle");r&&(v(t)?a(o,function(t,n){gi(e,n,t),delete o[n]}):a(t.split(" "),function(t){v(n)?(gi(e,t,o[t]),delete o[t]):O(o[t]||[],n)}))}function ft(e,t){var i=e[pi],o=fi[i];if(o){if(t)return delete fi[i].data[t],void 0;o.handle&&(o.events.$destroy&&o.handle({},"$destroy"),dt(e)),delete fi[i],e[pi]=n}}function pt(e,t,n){var i=e[pi],o=fi[i||-1];return y(n)?(o||(e[pi]=i=at(),o=fi[i]={}),o[t]=n,void 0):o&&o[t]}function ht(e,t,n){var i=pt(e,"data"),o=y(n),a=!o&&y(t),r=a&&!b(t);if(i||r||pt(e,"data",i={}),o)i[t]=n;else{if(!a)return i;if(r)return i&&i[t];d(i,t)}}function mt(e,t){return(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function gt(e,t){t&&a(t.split(" "),function(t){e.className=ui((" "+e.className+" ").replace(/[\n\t]/g," ").replace(" "+ui(t)+" "," "))})}function vt(e,t){t&&a(t.split(" "),function(t){mt(e,t)||(e.className=ui(e.className+" "+ui(t)))})}function yt(e,t){if(t){t=t.nodeName||!y(t.length)||S(t)?[t]:t;for(var n=0;n<t.length;n++)e.push(t[n])}}function bt(e,t){return xt(e,"$"+(t||"ngController")+"Controller")}function xt(e,t,i){for(e=Kn(e),9==e[0].nodeType&&(e=e.find("html"));e.length;){if((i=e.data(t))!==n)return i;e=e.parent()}}function wt(e,t){var n=wi[t.toLowerCase()];return n&&$i[e.nodeName]&&n}function $t(e,n){var i=function(i,o){if(i.preventDefault||(i.preventDefault=function(){i.returnValue=!1}),i.stopPropagation||(i.stopPropagation=function(){i.cancelBubble=!0}),i.target||(i.target=i.srcElement||t),v(i.defaultPrevented)){var r=i.preventDefault;i.preventDefault=function(){i.defaultPrevented=!0,r.call(i)},i.defaultPrevented=!1}i.isDefaultPrevented=function(){return i.defaultPrevented||0==i.returnValue},a(n[o||i.type],function(t){t.call(e,i)}),8>=ni?(i.preventDefault=null,i.stopPropagation=null,i.isDefaultPrevented=null):(delete i.preventDefault,delete i.stopPropagation,delete i.isDefaultPrevented)};return i.elem=e,i}function Ct(e){var t,i=typeof e;return"object"==i&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():t===n&&(t=e.$$hashKey=u()):t=e,i+":"+t}function kt(e){a(e,this.put,this)}function Tt(e){var t,n,i,o;return"function"==typeof e?(t=e.$inject)||(t=[],n=e.toString().replace(Si,""),i=n.match(Ci),a(i[1].split(ki),function(e){e.replace(Ti,function(e,n,i){t.push(i)})}),e.$inject=t):C(e)?(o=e.length-1,tt(e[o],"fn"),t=e.slice(0,o)):tt(e,"fn",!0),t}function St(e){function t(e){return function(t,n){return b(t)?(a(t,l(e)),void 0):e(t,n)}}function n(e,t){if((k(t)||C(t))&&(t=w.instantiate(t)),!t.$get)throw _i("pget","Provider '{0}' must define $get factory method.",e);return y[e+p]=t}function i(e,t){return n(e,{$get:t})}function o(e,t){return i(e,["$injector",function(e){return e.instantiate(t)}])}function r(e,t){return i(e,g(t))}function s(e,t){y[e]=t,$[e]=t}function u(e,t){var n=w.get(e+p),i=n.$get;n.$get=function(){var e=T.invoke(i,n);return T.invoke(t,null,{$delegate:e})}}function c(e){var t=[];return a(e,function(e){if(!v.get(e)){v.put(e,!0);try{if(x(e)){var n=ei(e);t=t.concat(c(n.requires)).concat(n._runBlocks);for(var i=n._invokeQueue,o=0,a=i.length;a>o;o++){var r=i[o],s=w.get(r[0]);s[r[1]].apply(s,r[2])}}else k(e)?t.push(w.invoke(e)):C(e)?t.push(w.invoke(e)):tt(e,"module")}catch(l){throw C(e)&&(e=e[e.length-1]),l.message&&l.stack&&-1==l.stack.indexOf(l.message)&&(l=l.message+"\n"+l.stack),_i("modulerr","Failed to instantiate module {0} due to:\n{1}",e,l.stack||l.message||l)}}}),t}function d(e,t){function n(n){if(e.hasOwnProperty(n)){if(e[n]===f)throw _i("cdep","Circular dependency found: {0}",m.join(" <- "));return e[n]}try{return m.unshift(n),e[n]=f,e[n]=t(n)}finally{m.shift()}}function i(e,t,i){var o,a,r,s=[],l=Tt(e);for(a=0,o=l.length;o>a;a++){if(r=l[a],"string"!=typeof r)throw _i("itkn","Incorrect injection token! Expected service name as string, got {0}",r);s.push(i&&i.hasOwnProperty(r)?i[r]:n(r))}switch(e.$inject||(e=e[o]),t?-1:s.length){case 0:return e();case 1:return e(s[0]);case 2:return e(s[0],s[1]);case 3:return e(s[0],s[1],s[2]);case 4:return e(s[0],s[1],s[2],s[3]);case 5:return e(s[0],s[1],s[2],s[3],s[4]);case 6:return e(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6]);case 8:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7]);case 9:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8]);case 10:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9]);default:return e.apply(t,s)}}function o(e,t){var n,o,a=function(){};return a.prototype=(C(e)?e[e.length-1]:e).prototype,n=new a,o=i(e,n,t),b(o)?o:n}return{invoke:i,instantiate:o,get:n,annotate:Tt,has:function(t){return y.hasOwnProperty(t+p)||e.hasOwnProperty(t)}}}var f={},p="Provider",m=[],v=new kt,y={$provide:{provider:t(n),factory:t(i),service:t(o),value:t(r),constant:t(s),decorator:u}},w=y.$injector=d(y,function(){throw _i("unpr","Unknown provider: {0}",m.join(" <- "))}),$={},T=$.$injector=d($,function(e){var t=w.get(e+p);return T.invoke(t.$get,t)});return a(c(e),function(e){T.invoke(e||h)}),T}function _t(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function o(e){var t=null;return a(e,function(e){t||"a"!==Qn(e.nodeName)||(t=e)}),t}function r(){var e,i=n.hash();i?(e=s.getElementById(i))?e.scrollIntoView():(e=o(s.getElementsByName(i)))?e.scrollIntoView():"top"===i&&t.scrollTo(0,0):t.scrollTo(0,0)}var s=t.document;return e&&i.$watch(function(){return n.hash()},function(){i.$evalAsync(r)}),r}]}function Et(e,t,i,o){function r(e){try{e.apply(null,j(arguments,1))}finally{if(y--,0===y)for(;b.length;)try{b.pop()()}catch(t){i.error(t)}}}function s(e,t){!function n(){a($,function(e){e()}),w=t(n,e)}()}function l(){C!=u.url()&&(C=u.url(),a(S,function(e){e(u.url())}))}var u=this,c=t[0],d=e.location,f=e.history,p=e.setTimeout,m=e.clearTimeout,g={};u.isMock=!1;var y=0,b=[];u.$$completeOutstandingRequest=r,u.$$incOutstandingRequestCount=function(){y++},u.notifyWhenNoOutstandingRequests=function(e){a($,function(e){e()}),0===y?e():b.push(e)};var w,$=[];u.addPollFn=function(e){return v(w)&&s(100,p),$.push(e),e};var C=d.href,k=t.find("base"),T=null;u.url=function(e,t){if(e){if(C==e)return;return C=e,o.history?t?f.replaceState(null,"",e):(f.pushState(null,"",e),k.attr("href",k.attr("href"))):t?(d.replace(e),T=e):(d.href=e,T=null),u}return T||d.href.replace(/%27/g,"'")};var S=[],_=!1;u.onUrlChange=function(t){return _||(o.history&&Kn(e).on("popstate",l),o.hashchange?Kn(e).on("hashchange",l):u.addPollFn(l),_=!0),S.push(t),t},u.baseHref=function(){var e=k.attr("href");return e?e.replace(/^https?\:\/\/[^\/]*/,""):""};var E={},M="",P=u.baseHref();u.cookies=function(e,t){var o,a,r,s,l;if(!e){if(c.cookie!==M)for(M=c.cookie,a=M.split("; "),E={},s=0;s<a.length;s++)if(r=a[s],l=r.indexOf("="),l>0){var e=unescape(r.substring(0,l));E[e]===n&&(E[e]=unescape(r.substring(l+1)))}return E}t===n?c.cookie=escape(e)+"=;path="+P+";expires=Thu, 01 Jan 1970 00:00:00 GMT":x(t)&&(o=(c.cookie=escape(e)+"="+escape(t)+";path="+P).length+1,o>4096&&i.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+o+" > 4096 bytes)!"))},u.defer=function(e,t){var n;return y++,n=p(function(){delete g[n],r(e)},t||0),g[n]=!0,n},u.defer.cancel=function(e){return g[e]?(delete g[e],m(e),r(h),!0):!1}}function Mt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new Et(e,i,t,n)}]}function Pt(){this.$get=function(){function e(e,n){function o(e){e!=f&&(p?p==e&&(p=e.n):p=e,a(e.n,e.p),a(e,f),f=e,f.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var r=0,s=d({},n,{id:e}),l={},u=n&&n.capacity||Number.MAX_VALUE,c={},f=null,p=null;return t[e]={put:function(e,t){var n=c[e]||(c[e]={key:e});return o(n),v(t)?void 0:(e in l||r++,l[e]=t,r>u&&this.remove(p.key),t)},get:function(e){var t=c[e];if(t)return o(t),l[e]},remove:function(e){var t=c[e];t&&(t==f&&(f=t.p),t==p&&(p=t.n),a(t.n,t.p),delete c[e],delete l[e],r--)},removeAll:function(){l={},r=0,c={},f=p=null},destroy:function(){l=null,s=null,c=null,delete t[e]},info:function(){return d({},s,{size:r})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Dt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Nt(e){var i={},o="Directive",r=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,s=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,u=/^\s*(https?|ftp|mailto|file):/,c=/^\s*(https?|ftp|file):|data:image\//,f=/^(on[a-z]*|formaction)$/;this.directive=function h(t,n){return x(t)?(et(n,"directiveFactory"),i.hasOwnProperty(t)||(i[t]=[],e.factory(t+o,["$injector","$exceptionHandler",function(e,n){var o=[];return a(i[t],function(i){try{var a=e.invoke(i);k(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.name=a.name||t,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"A",o.push(a)}catch(r){n(r)}}),o}])),i[t].push(n)):a(t,l(h)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(u=e,this):u},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(c=e,this):c},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$$urlUtils","$animate",function(e,l,h,v,y,w,$,T,S,_,E,M){function P(e,t,n,i){e instanceof Kn||(e=Kn(e)),a(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=t=Kn(t).wrap("<span></span>").parent()[0])});var o=N(e,t,e,n,i);return function(t,n){et(t,"scope");for(var i=n?xi.clone.call(e):e,a=0,r=i.length;r>a;a++){var s=i[a];(1==s.nodeType||9==s.nodeType)&&i.eq(a).data("$scope",t)}return D(i,"ng-scope"),n&&n(i,t),o&&o(t,i,i),i}}function D(e,t){try{e.addClass(t)}catch(n){}}function N(e,t,i,o,a){function r(e,i,o,a){var r,s,l,u,c,d,p,h,m=[];for(d=0,p=i.length;p>d;d++)m.push(i[d]);for(d=0,h=0,p=f.length;p>d;h++)l=m[h],r=f[d++],s=f[d++],r?(r.scope?(u=e.$new(b(r.scope)),Kn(l).data("$scope",u)):u=e,c=r.transclude,c||!a&&t?r(s,u,l,o,function(t){return function(n){var i=e.$new();return i.$$transcluded=!0,t(i,n).on("$destroy",H(i,i.$destroy))}}(c||t)):r(s,u,l,n,a)):s&&s(e,l.childNodes,n,a)}for(var s,l,u,c,d,f=[],p=0;p<e.length;p++)c=new G,u=O(e[p],[],c,0==p?o:n,a),s=u.length?B(u,e[p],c,t,i):null,l=s&&s.terminal||!e[p].childNodes||!e[p].childNodes.length?null:N(e[p].childNodes,s?s.transclude:t),f.push(s),f.push(l),d=d||s||l;return d?r:null}function O(e,t,n,i,o){var a,l,u=e.nodeType,c=n.$attr;switch(u){case 1:F(t,Ot(ti(e).toLowerCase()),"E",i,o);for(var d,f,p,h,m,g=e.attributes,v=0,y=g&&g.length;y>v;v++){var b,w,$;d=g[v],(!ni||ni>=8||d.specified)&&(f=d.name,h=Ot(f),nt.test(h)&&(f=h.substr(6).toLowerCase()),-1!=($=h.lastIndexOf("Start"))&&$==h.length-5&&(b=f,w=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),p=Ot(f.toLowerCase()),c[p]=f,n[p]=m=ui(ni&&"href"==f?decodeURIComponent(e.getAttribute(f,2)):d.value),wt(e,p)&&(n[p]=!0),Q(e,t,m,p),F(t,p,"A",i,o,b,w))}if(l=e.className,x(l)&&""!==l)for(;a=s.exec(l);)p=Ot(a[2]),F(t,p,"C",i,o)&&(n[p]=ui(a[3])),l=l.substr(a.index+a[0].length);break;case 3:z(t,e.nodeValue);break;case 8:try{a=r.exec(e.nodeValue),a&&(p=Ot(a[1]),F(t,p,"M",i,o)&&(n[p]=ui(a[2])))}catch(C){}}return t.sort(U),t}function L(e,t,n){var i=[],o=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Pi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1==e.nodeType&&(e.hasAttribute(t)&&o++,e.hasAttribute(n)&&o--),i.push(e),e=e.nextSibling}while(o>0)}else i.push(e);return Kn(i)}function q(e,t,n){return function(i,o,a,r){return o=L(o[0],t,n),e(i,o,a,r)}}function B(e,i,o,r,s,u){function c(e,t,n,i){e&&(n&&(e=q(e,n,i)),e.require=p.require,E.push(e)),t&&(n&&(t=q(t,n,i)),t.require=p.require,M.push(t))}function d(e,t){var n,i="data",o=!1;if(x(e)){for(;"^"==(n=e.charAt(0))||"?"==n;)e=e.substr(1),"^"==n&&(i="inheritedData"),o=o||"?"==n;if(n=t[i]("$"+e+"Controller"),!n&&!o)throw Pi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,m);return n}return C(e)&&(n=[],a(e,function(e){n.push(d(e,t))})),n}function f(e,t,r,s,u){var c,f,p,m,g,v;if(c=i===r?o:A(o,new G(Kn(r),o.$attr)),f=c.$$element,B){var b=/^\s*([@=&])(\??)\s*(\w*)\s*$/,x=t.$parent||t;a(B.scope,function(e,n){var i,o,a,r=e.match(b)||[],s=r[3]||n,u="?"==r[2],d=r[1];switch(t.$$isolateBindings[n]=d+s,d){case"@":c.$observe(s,function(e){t[n]=e}),c.$$observers[s].$$scope=x,c[s]&&(t[n]=l(c[s])(x));break;case"=":if(u&&!c[s])return;o=w(c[s]),a=o.assign||function(){throw i=t[n]=o(x),Pi("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",c[s],B.name)},i=t[n]=o(x),t.$watch(function(){var e=o(x);return e!==t[n]&&(e!==i?i=t[n]=e:a(x,e=i=t[n])),e});break;case"&":o=w(c[s]),t[n]=function(e){return o(x,e)};break;default:throw Pi("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",B.name,n,e)}})}for(y&&a(y,function(e){var n,i={$scope:t,$element:f,$attrs:c,$transclude:u};v=e.controller,"@"==v&&(v=c[e.name]),n=$(v,i),f.data("$"+e.name+"Controller",n),e.controllerAs&&(i.$scope[e.controllerAs]=n)}),p=0,m=E.length;m>p;p++)try{g=E[p],g(t,f,c,g.require&&d(g.require,f))}catch(C){h(C,W(f))}for(e&&e(t,r.childNodes,n,u),p=0,m=M.length;m>p;p++)try{g=M[p],g(t,f,c,g.require&&d(g.require,f))}catch(C){h(C,W(f))}}for(var p,m,g,v,y,T,S,_=-Number.MAX_VALUE,E=[],M=[],N=null,B=null,H=null,F=o.$$element=Kn(i),U=u,z=r,X=0,Q=e.length;Q>X;X++){p=e[X];var J=p.$$start,K=p.$$end;if(J&&(F=L(i,J,K)),g=n,_>p.priority)break;if((S=p.scope)&&(V("isolated scope",B,p,F),b(S)&&(D(F,"ng-isolate-scope"),B=p),D(F,"ng-scope"),N=N||p),m=p.name,(S=p.controller)&&(y=y||{},V("'"+m+"' controller",y[m],p,F),y[m]=p),(S=p.transclude)&&(V("transclusion",v,p,F),v=p,_=p.priority,"element"==S?(g=L(i,J,K),F=o.$$element=Kn(t.createComment(" "+m+": "+o[m]+" ")),i=F[0],Y(s,Kn(j(g)),i),z=P(g,r,_,U&&U.name)):(g=Kn(ut(i)).contents(),F.html(""),z=P(g,r))),p.template)if(V("template",H,p,F),H=p,S=k(p.template)?p.template(F,o):p.template,S=tt(S),p.replace){if(U=p,g=Kn("<div>"+ui(S)+"</div>").contents(),i=g[0],1!=g.length||1!==i.nodeType)throw Pi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");Y(s,F,i);var Z={$attr:{}};e=e.concat(O(i,e.splice(X+1,e.length-(X+1)),Z)),I(o,Z),Q=e.length}else F.html(S);if(p.templateUrl)V("template",H,p,F),H=p,p.replace&&(U=p),f=R(e.splice(X,e.length-X),f,F,o,s,z),Q=e.length;else if(p.compile)try{T=p.compile(F,o,z),k(T)?c(null,T,J,K):T&&c(T.pre,T.post,J,K)}catch(et){h(et,W(F))}p.terminal&&(f.terminal=!0,_=Math.max(_,p.priority))}return f.scope=N&&N.scope,f.transclude=v&&z,f}function F(t,a,r,s,l,u,c){if(a===l)return null;var d=null;if(i.hasOwnProperty(a))for(var f,m=e.get(a+o),g=0,v=m.length;v>g;g++)try{f=m[g],(s===n||s>f.priority)&&-1!=f.restrict.indexOf(r)&&(u&&(f=p(f,{$$start:u,$$end:c})),t.push(f),d=f)}catch(y){h(y)}return d}function I(e,t){var n=t.$attr,i=e.$attr,o=e.$$element;a(e,function(i,o){"$"!=o.charAt(0)&&(t[o]&&(i+=("style"===o?";":" ")+t[o]),e.$set(o,i,!0,n[o]))}),a(t,function(t,a){"class"==a?(D(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==a?o.attr("style",o.attr("style")+";"+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,i[a]=n[a])})}function R(e,t,n,i,o,r){var s,l,u=[],c=n[0],f=e.shift(),p=d({},f,{controller:null,templateUrl:null,transclude:null,scope:null,replace:null}),h=k(f.templateUrl)?f.templateUrl(n,i):f.templateUrl;return n.html(""),v.get(_.getTrustedResourceUrl(h),{cache:y}).success(function(d){var m,g,v;if(d=tt(d),f.replace){if(v=Kn("<div>"+ui(d)+"</div>").contents(),m=v[0],1!=v.length||1!==m.nodeType)throw Pi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",f.name,h);g={$attr:{}},Y(o,n,m),O(m,e,g),I(i,g)}else m=c,n.html(d);for(e.unshift(p),s=B(e,m,i,r,n,f),a(o,function(e,t){e==m&&(o[t]=n[0])}),l=N(n[0].childNodes,r);u.length;){var y=u.shift(),b=u.shift(),x=u.shift(),w=u.shift(),$=n[0];b!==c&&($=ut(m),Y(x,Kn(b),$)),s(t(l,y,$,o,w),y,$,o,w)}u=null}).error(function(e,t,n,i){throw Pi("tpload","Failed to load template: {0}",i.url)}),function(e,n,i,o,a){u?(u.push(n),u.push(i),u.push(o),u.push(a)):s(function(){t(l,n,i,o,a)},n,i,o,a)}}function U(e,t){return t.priority-e.priority}function V(e,t,n,i){if(t)throw Pi("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,W(i))}function z(e,t){var n=l(t,!0);n&&e.push({priority:0,compile:g(function(e,t){var i=t.parent(),o=i.data("$binding")||[];o.push(n),D(i.data("$binding",o),"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})})})}function X(e,t){return"xlinkHref"==t||"IMG"!=ti(e)&&("src"==t||"ngSrc"==t)?_.RESOURCE_URL:void 0}function Q(e,t,n,i){var o=l(n,!0);if(o){if("multiple"===i&&"SELECT"===ti(e))throw Pi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",W(e));t.push({priority:100,compile:g(function(t,n,a){var r=a.$$observers||(a.$$observers={});if(f.test(i))throw Pi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");o=l(a[i],!0,X(e,i)),o&&(a[i]=o(t),(r[i]||(r[i]=[])).$$inter=!0,(a.$$observers&&a.$$observers[i].$$scope||t).$watch(o,function(e){a.$set(i,e)}))})})}}function Y(e,n,i){var o,a,r=n[0],s=n.length,l=r.parentNode;if(e)for(o=0,a=e.length;a>o;o++)if(e[o]==r){e[o++]=i;for(var u=o,c=u+s-1,d=e.length;d>u;u++,c++)d>c?e[u]=e[c]:delete e[u];e.length-=s-1;break}l&&l.replaceChild(i,r);var f=t.createDocumentFragment();f.appendChild(r),i[Kn.expando]=r[Kn.expando];for(var p=1,h=n.length;h>p;p++){var m=n[p];Kn(m).remove(),f.appendChild(m),delete n[p]}n[0]=i,n.length=1}var G=function(e,t){this.$$element=e,this.$attr=t||{}};G.prototype={$normalize:Ot,$addClass:function(e){e&&e.length>0&&M.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&M.removeClass(this.$$element,e)},$set:function(e,t,i,o){function r(e,t){var n=[],i=e.split(/\s+/),o=t.split(/\s+/);e:for(var a=0;a<i.length;a++){for(var r=i[a],s=0;s<o.length;s++)if(r==o[s])continue e;n.push(r)}return n}if("class"==e){t=t||"";var s=this.$$element.attr("class")||"";this.$removeClass(r(s,t).join(" ")),this.$addClass(r(t,s).join(" "))}else{var l,d,f=wt(this.$$element[0],e);f&&(this.$$element.prop(e,t),o=f),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=K(e,"-"))),d=ti(this.$$element),("A"===d&&"href"===e||"IMG"===d&&"src"===e)&&(!ni||ni>=8)&&(l=E.resolve(t),""!==l&&("href"===e&&!l.match(u)||"src"===e&&!l.match(c))&&(this[e]=t="unsafe:"+l)),i!==!1&&(null===t||t===n?this.$$element.removeAttr(o):this.$$element.attr(o,t))}var p=this.$$observers;p&&a(p[e],function(e){try{e(t)}catch(n){h(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers={}),o=i[e]||(i[e]=[]);return o.push(t),T.$evalAsync(function(){o.$$inter||t(n[e])}),t}};var J=(S[0].createElement("a"),l.startSymbol()),Z=l.endSymbol(),tt="{{"==J||"}}"==Z?m:function(e){return e.replace(/\{\{/g,J).replace(/}}/g,Z)},nt=/^ngAttr[A-Z]/;return P}]}function Ot(e){return rt(e.replace(Di,""))}function Lt(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){b(t)?d(e,t):e[t]=n},this.$get=["$injector","$window",function(n,o){return function(a,r){var s,l,u,c;if(x(a)&&(l=a.match(t),u=l[1],c=l[3],a=e.hasOwnProperty(u)?e[u]:nt(r.$scope,u,!0)||nt(o,u,!0),tt(a,u,!0)),s=n.instantiate(a,r),c){if(!r||"object"!=typeof r.$scope)throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",u||a.name,c);r.$scope[c]=s}return s}}]}function At(){this.$get=["$window",function(e){return Kn(e.document)}]}function qt(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function Bt(e){var t,n,i,o={};return e?(a(e.split("\n"),function(e){i=e.indexOf(":"),t=Qn(ui(e.substr(0,i))),n=ui(e.substr(i+1)),t&&(o[t]?o[t]+=", "+n:o[t]=n)}),o):o}function jt(e){var t=b(e)?e:n;return function(n){return t||(t=Bt(e)),n?t[Qn(n)]||null:t}}function Ht(e,t,n){return k(n)?n(e,t):(a(n,function(n){e=n(e,t)}),e)}function Ft(e){return e>=200&&300>e}function It(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,i=/^\)\]\}',?\n/,o={"Content-Type":"application/json;charset=utf-8"},r=this.defaults={transformResponse:[function(n){return x(n)&&(n=n.replace(i,""),e.test(n)&&t.test(n)&&(n=R(n,!0))),n}],transformRequest:[function(e){return b(e)&&!E(e)?I(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:o,put:o,patch:o},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},l=this.interceptors=[],u=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector","$$urlUtils",function(e,t,i,o,c,f,p){function h(e){function i(e){var t=d({},e,{data:Ht(e.data,e.headers,s.transformResponse)});return Ft(e.status)?t:c.reject(t)}function o(e){function t(e){var t;a(e,function(n,i){k(n)&&(t=n(),null!=t?e[i]=t:delete e[i])})}var n,i,o,s=r.headers,l=d({},e.headers);s=d({},s.common,s[Qn(e.method)]),t(s),t(l);e:for(n in s){i=Qn(n);for(o in l)if(Qn(o)===i)continue e;l[n]=s[n]}return l}var s={transformRequest:r.transformRequest,transformResponse:r.transformResponse},l=o(e);d(s,e),s.headers=l,s.method=Yn(s.method);var u=p.isSameOrigin(s.url)?t.cookies()[s.xsrfCookieName||r.xsrfCookieName]:n;u&&(l[s.xsrfHeaderName||r.xsrfHeaderName]=u);var f=function(e){l=e.headers;var t=Ht(e.data,jt(l),e.transformRequest);return v(e.data)&&a(l,function(e,t){"content-type"===Qn(t)&&delete l[t]}),v(e.withCredentials)&&!v(r.withCredentials)&&(e.withCredentials=r.withCredentials),y(e,t,l).then(i,i)},h=[f,n],m=c.when(s);for(a(T,function(e){(e.request||e.requestError)&&h.unshift(e.request,e.requestError),(e.response||e.responseError)&&h.push(e.response,e.responseError)
});h.length;){var g=h.shift(),b=h.shift();m=m.then(g,b)}return m.success=function(e){return m.then(function(t){e(t.data,t.status,t.headers,s)}),m},m.error=function(e){return m.then(null,function(t){e(t.data,t.status,t.headers,s)}),m},m}function m(){a(arguments,function(e){h[e]=function(t,n){return h(d(n||{},{method:e,url:t}))}})}function g(){a(arguments,function(e){h[e]=function(t,n,i){return h(d(i||{},{method:e,url:t,data:n}))}})}function y(t,n,i){function a(e,t,n){u&&(Ft(e)?u.put(m,[e,t,Bt(n)]):u.remove(m)),s(t,e,n),o.$$phase||o.$apply()}function s(e,n,i){n=Math.max(n,0),(Ft(n)?f.resolve:f.reject)({data:e,status:n,headers:jt(i),config:t})}function l(){var e=N(h.pendingRequests,t);-1!==e&&h.pendingRequests.splice(e,1)}var u,d,f=c.defer(),p=f.promise,m=w(t.url,t.params);if(h.pendingRequests.push(t),p.then(l,l),(t.cache||r.cache)&&t.cache!==!1&&"GET"==t.method&&(u=b(t.cache)?t.cache:b(r.cache)?r.cache:$),u)if(d=u.get(m)){if(d.then)return d.then(l,l),d;C(d)?s(d[1],d[0],L(d[2])):s(d,200,{})}else u.put(m,p);return d||e(t.method,m,n,a,i,t.timeout,t.withCredentials,t.responseType),p}function w(e,t){if(!t)return e;var i=[];return s(t,function(e,t){null!=e&&e!=n&&(C(e)||(e=[e]),a(e,function(e){b(e)&&(e=I(e)),i.push(Y(t)+"="+Y(e))}))}),e+(-1==e.indexOf("?")?"?":"&")+i.join("&")}var $=i("$http"),T=[];return a(l,function(e){T.unshift(x(e)?f.get(e):f.invoke(e))}),a(u,function(e,t){var n=x(e)?f.get(e):f.invoke(e);T.splice(t,0,{response:function(e){return n(c.when(e))},responseError:function(e){return n(c.reject(e))}})}),h.pendingRequests=[],m("get","delete","head","jsonp"),g("post","put"),h.defaults=r,h}]}function Rt(){this.$get=["$browser","$window","$document",function(e,t,n){return Ut(e,Ni,e.defer,t.angular.callbacks,n[0],t.location.protocol.replace(":",""))}]}function Ut(e,t,n,i,o,r){function s(e,t){var n=o.createElement("script"),i=function(){o.body.removeChild(n),t&&t()};return n.type="text/javascript",n.src=e,ni?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&i()}:n.onload=n.onerror=i,o.body.appendChild(n),i}return function(o,l,u,c,d,f,p,m){function g(){y=-1,x&&x(),w&&w.abort()}function v(t,i,o,a){var s=(l.match(Li)||["",r])[1];$&&n.cancel($),x=w=null,i="file"==s?o?200:404:i,i=1223==i?204:i,t(i,o,a),e.$$completeOutstandingRequest(h)}var y;if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==Qn(o)){var b="_"+(i.counter++).toString(36);i[b]=function(e){i[b].data=e};var x=s(l.replace("JSON_CALLBACK","angular.callbacks."+b),function(){i[b].data?v(c,200,i[b].data):v(c,y||-2),delete i[b]})}else{var w=new t;w.open(o,l,!0),a(d,function(e,t){e&&w.setRequestHeader(t,e)}),w.onreadystatechange=function(){if(4==w.readyState){var e=w.getAllResponseHeaders(),t=["Cache-Control","Content-Language","Content-Type","Expires","Last-Modified","Pragma"];e||(e="",a(t,function(t){var n=w.getResponseHeader(t);n&&(e+=t+": "+n+"\n")})),v(c,y||w.status,w.responseType?w.response:w.responseText,e)}},p&&(w.withCredentials=!0),m&&(w.responseType=m),w.send(u||"")}if(f>0)var $=n(g,f);else f&&f.then&&f.then(g)}}function Wt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(i,o,a){function r(r,u,c){for(var d,f,p,h,m=0,g=[],v=r.length,y=!1,b=[];v>m;)-1!=(d=r.indexOf(e,m))&&-1!=(f=r.indexOf(t,d+s))?(m!=d&&g.push(r.substring(m,d)),g.push(p=i(h=r.substring(d+s,f))),p.exp=h,m=f+l,y=!0):(m!=v&&g.push(r.substring(m)),m=v);if((v=g.length)||(g.push(""),v=1),c&&g.length>1)throw Oi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",r);return!u||y?(b.length=v,p=function(e){try{for(var t,i=0,s=v;s>i;i++)"function"==typeof(t=g[i])&&(t=t(e),t=c?a.getTrusted(c,t):a.valueOf(t),null==t||t==n?t="":"string"!=typeof t&&(t=I(t))),b[i]=t;return b.join("")}catch(l){var u=Oi("interr","Can't interpolate: {0}\n{1}",r,l.toString());o(u)}},p.exp=r,p.parts=g,p):void 0}var s=e.length,l=t.length;return r.startSymbol=function(){return e},r.endSymbol=function(){return t},r}]}function Vt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function zt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Q(t[n]);return t.join("/")}function Xt(e,t){var n=Li.exec(e);t.$$protocol=n[1],t.$$host=n[3],t.$$port=f(n[5])||qi[n[1]]||null}function Qt(e,t){var n=Ai.exec(e);t.$$path=decodeURIComponent(n[1]),t.$$search=z(n[3]),t.$$hash=decodeURIComponent(n[5]||""),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Yt(e,t,n){return 0==t.indexOf(e)?t.substr(e.length):n}function Gt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Jt(e){return e.substr(0,Gt(e).lastIndexOf("/")+1)}function Kt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Zt(e,t){this.$$html5=!0,t=t||"";var i=Jt(e);this.$$parse=function(e){var t={};Xt(e,t);var n=Yt(i,e);if(!x(n))throw Bi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,i);Qt(n,t),d(this,t),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=X(this.$$search),t=this.$$hash?"#"+Q(this.$$hash):"";this.$$url=zt(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=i+this.$$url.substr(1)},this.$$rewrite=function(o){var a,r;return(a=Yt(e,o))!==n?(r=a,(a=Yt(t,a))!==n?i+(Yt("/",a)||a):e+r):(a=Yt(i,o))!==n?i+a:i==o+"/"?i:void 0}}function en(e,t){var n=Jt(e);Xt(e,this),this.$$parse=function(i){var o=Yt(e,i)||Yt(n,i),a="#"==o.charAt(0)?Yt(t,o):this.$$html5?o:"";if(!x(a))throw Bi("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',i,t);Qt(a,this),this.$$compose()},this.$$compose=function(){var n=X(this.$$search),i=this.$$hash?"#"+Q(this.$$hash):"";this.$$url=zt(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$rewrite=function(t){return Gt(e)==Gt(t)?t:void 0}}function tn(e,t){this.$$html5=!0,en.apply(this,arguments);var n=Jt(e);this.$$rewrite=function(i){var o;return e==Gt(i)?i:(o=Yt(n,i))?e+t+o:n===i+"/"?n:void 0}}function nn(e){return function(){return this[e]}}function on(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function an(){var t="",n=!1;this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(e){return y(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(i,o,a,r){function s(e){i.$broadcast("$locationChangeSuccess",l.absUrl(),e)}var l,u,c,d=o.baseHref(),f=o.url();n?(c=Kt(f)+(d||"/"),u=a.history?Zt:tn):(c=Gt(f),u=en),l=new u(c,"#"+t),l.$$parse(l.$$rewrite(f)),r.on("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var n=Kn(t.target);"a"!==Qn(n[0].nodeName);)if(n[0]===r[0]||!(n=n.parent())[0])return;var a=n.prop("href"),s=l.$$rewrite(a);a&&!n.attr("target")&&s&&!t.isDefaultPrevented()&&(t.preventDefault(),s!=o.url()&&(l.$$parse(s),i.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}),l.absUrl()!=f&&o.url(l.absUrl(),!0),o.onUrlChange(function(e){if(l.absUrl()!=e){if(i.$broadcast("$locationChangeStart",e,l.absUrl()).defaultPrevented)return o.url(l.absUrl()),void 0;i.$evalAsync(function(){var t=l.absUrl();l.$$parse(e),s(t)}),i.$$phase||i.$digest()}});var p=0;return i.$watch(function(){var e=o.url(),t=l.$$replace;return p&&e==l.absUrl()||(p++,i.$evalAsync(function(){i.$broadcast("$locationChangeStart",l.absUrl(),e).defaultPrevented?l.$$parse(e):(o.url(l.absUrl(),t),s(e))})),l.$$replace=!1,p}),l}]}function rn(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||h;return o.apply?function(){var e=[];return a(arguments,function(t){e.push(i(t))}),o.apply(t,e)}:function(e,t){o(e,t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function sn(e,t){if("constructor"===e)throw ji("isecfld",'Referencing "constructor" field in Angular expressions is disallowed! Expression: {0}',t);return e}function ln(e,t){if(e&&e.constructor===e)throw ji("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);return e}function un(e,t){function n(e){return-1!=e.indexOf(m)}function i(e){return-1!=e.indexOf(x)}function o(t){var n=t||1;return v+n<e.length?e.charAt(v+n):!1}function a(e){return e>="0"&&"9">=e}function r(e){return" "==e||"\r"==e||"	"==e||"\n"==e||""==e||" "==e}function s(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"==e||"$"==e}function l(e){return"-"==e||"+"==e||a(e)}function u(t,n,i){i=i||v;var o=y(n)?"s "+n+"-"+v+" ["+e.substring(n,i)+"]":" "+i;throw ji("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,o,e)}function c(){for(var t="",n=v;v<e.length;){var i=Qn(e.charAt(v));if("."==i||a(i))t+=i;else{var r=o();if("e"==i&&l(r))t+=i;else if(l(i)&&r&&a(r)&&"e"==t.charAt(t.length-1))t+=i;else{if(!l(i)||r&&a(r)||"e"!=t.charAt(t.length-1))break;u("Invalid exponent")}}v++}t=1*t,g.push({index:n,text:t,json:!0,fn:function(){return t}})}function f(){for(var n,i,o,l,u="",c=v;v<e.length&&(l=e.charAt(v),"."==l||s(l)||a(l));)"."==l&&(n=v),u+=l,v++;if(n)for(i=v;i<e.length;){if(l=e.charAt(i),"("==l){o=u.substr(n-c+1),u=u.substr(0,n-c),v=i;break}if(!r(l))break;i++}var f={index:c,text:u};if(Hi.hasOwnProperty(u))f.fn=f.json=Hi[u];else{var p=pn(u,t,e);f.fn=d(function(e,t){return p(e,t)},{assign:function(t,n){return dn(t,u,n,e)}})}g.push(f),o&&(g.push({index:n,text:".",json:!1}),g.push({index:n+1,text:o,json:!1}))}function p(t){var n=v;v++;for(var i="",o=t,a=!1;v<e.length;){var r=e.charAt(v);if(o+=r,a){if("u"==r){var s=e.substring(v+1,v+5);s.match(/[\da-f]{4}/i)||u("Invalid unicode escape [\\u"+s+"]"),v+=4,i+=String.fromCharCode(parseInt(s,16))}else{var l=Fi[r];i+=l?l:r}a=!1}else if("\\"==r)a=!0;else{if(r==t)return v++,g.push({index:n,text:o,string:i,json:!0,fn:function(){return i}}),void 0;i+=r}v++}u("Unterminated quote",n)}for(var h,m,g=[],v=0,b=[],x=":";v<e.length;){if(m=e.charAt(v),n("\"'"))p(m);else if(a(m)||n(".")&&a(o()))c();else if(s(m))f(),i("{,")&&"{"==b[0]&&(h=g[g.length-1])&&(h.json=-1==h.text.indexOf("."));else if(n("(){}[].,;:?"))g.push({index:v,text:m,json:i(":[,")&&n("{[")||n("}]:,")}),n("{[")&&b.unshift(m),n("}]")&&b.shift(),v++;else{if(r(m)){v++;continue}var w=m+o(),$=w+o(2),C=Hi[m],k=Hi[w],T=Hi[$];T?(g.push({index:v,text:$,fn:T}),v+=3):k?(g.push({index:v,text:w,fn:k}),v+=2):C?(g.push({index:v,text:m,fn:C,json:i("[,:")&&n("+-")}),v+=1):u("Unexpected next character ",v,v+1)}x=m}return g}function cn(e,t,i,o){function a(t,n){throw ji("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",n.text,t,n.index+1,e,e.substring(n.index))}function r(){if(0===B.length)throw ji("ueoe","Unexpected end of expression: {0}",e);return B[0]}function s(e,t,n,i){if(B.length>0){var o=B[0],a=o.text;if(a==e||a==t||a==n||a==i||!e&&!t&&!n&&!i)return o}return!1}function l(e,n,i,o){var r=s(e,n,i,o);return r?(t&&!r.json&&a("is not valid json",r),B.shift(),r):!1}function u(e){l(e)||a("is unexpected, expecting ["+e+"]",s())}function c(e,t){return d(function(n,i){return e(n,i,t)},{constant:t.constant})}function f(e,t,n){return d(function(i,o){return e(i,o)?t(i,o):n(i,o)},{constant:e.constant&&t.constant&&n.constant})}function p(e,t,n){return d(function(i,o){return t(i,o,e,n)},{constant:e.constant&&n.constant})}function m(){for(var e=[];;)if(B.length>0&&!s("}",")",";","]")&&e.push(R()),!l(";"))return 1==e.length?e[0]:function(t,n){for(var i,o=0;o<e.length;o++){var a=e[o];a&&(i=a(t,n))}return i}}function v(){for(var e,t=b();;){if(!(e=l("|")))return t;t=p(t,e.fn,y())}}function y(){for(var e=l(),t=i(e.text),n=[];;){if(!(e=l(":"))){var o=function(e,i,o){for(var a=[o],r=0;r<n.length;r++)a.push(n[r](e,i));return t.apply(e,a)};return function(){return o}}n.push(b())}}function b(){return j()}function x(){var t,n,i=w();return(n=l("="))?(i.assign||a("implies assignment but ["+e.substring(0,n.index)+"] can not be assigned to",n),t=w(),function(e,n){return i.assign(e,t(e,n),n)}):i}function w(){var e,t,n=$();return(t=l("?"))?(e=w(),(t=l(":"))?f(n,e,w()):(a("expected :",t),void 0)):n}function $(){for(var e,t=C();;){if(!(e=l("||")))return t;t=p(t,e.fn,C())}}function C(){var e,t=k();return(e=l("&&"))&&(t=p(t,e.fn,C())),t}function k(){var e,t=T();return(e=l("==","!=","===","!=="))&&(t=p(t,e.fn,k())),t}function T(){var e,t=S();return(e=l("<",">","<=",">="))&&(t=p(t,e.fn,T())),t}function S(){for(var e,t=_();e=l("+","-");)t=p(t,e.fn,_());return t}function _(){for(var e,t=E();e=l("*","/","%");)t=p(t,e.fn,E());return t}function E(){var e;return l("+")?M():(e=l("-"))?p(q,e.fn,E()):(e=l("!"))?c(e.fn,E()):M()}function M(){var e;if(l("("))e=R(),u(")");else if(l("["))e=O();else if(l("{"))e=L();else{var t=l();e=t.fn,e||a("not a primary expression",t),t.json&&(e.constant=e.literal=!0)}for(var n,i;n=l("(","[",".");)"("===n.text?(e=H(e,i),i=null):"["===n.text?(i=e,e=I(e)):"."===n.text?(i=e,e=F(e)):a("IMPOSSIBLE");return e}function P(t){var n=l().text,i=pn(n,o,e);return d(function(e,n,o){return i(o||t(e,n),n)},{assign:function(i,o,a){return dn(t(i,a),n,o,e)}})}function D(t){var i=b();return u("]"),d(function(o,a){var r,s,l=t(o,a),u=i(o,a);return l?(r=ln(l[u],e),r&&r.then&&(s=r,"$$v"in r||(s.$$v=n,s.then(function(e){s.$$v=e})),r=r.$$v),r):n},{assign:function(n,o,a){var r=i(n,a);return ln(t(n,a),e)[r]=o}})}function N(e,t){var n=[];if(")"!=r().text)do n.push(b());while(l(","));return u(")"),function(i,o){for(var a=[],r=t?t(i,o):i,s=0;s<n.length;s++)a.push(n[s](i,o));var l=e(i,o,r)||h;return l.apply?l.apply(r,a):l(a[0],a[1],a[2],a[3],a[4])}}function O(){var e=[],t=!0;if("]"!=r().text)do{var n=b();e.push(n),n.constant||(t=!1)}while(l(","));return u("]"),d(function(t,n){for(var i=[],o=0;o<e.length;o++)i.push(e[o](t,n));return i},{literal:!0,constant:t})}function L(){var e=[],t=!0;if("}"!=r().text)do{var n=l(),i=n.string||n.text;u(":");var o=b();e.push({key:i,value:o}),o.constant||(t=!1)}while(l(","));return u("}"),d(function(t,n){for(var i={},o=0;o<e.length;o++){var a=e[o];i[a.key]=a.value(t,n)}return i},{literal:!0,constant:t})}var A,q=g(0),B=un(e,o),j=x,H=N,F=P,I=D,R=v;return t?(j=$,H=F=I=R=function(){a("is not valid json",{text:e,index:0})},A=M()):A=m(),0!==B.length&&a("is an unexpected token",B[0]),A.literal=!!A.literal,A.constant=!!A.constant,A}function dn(e,t,i,o){for(var a,r=t.split("."),s=0;r.length>1;s++){a=sn(r.shift(),o);var l=e[a];l||(l={},e[a]=l),e=l,e.then&&("$$v"in e||function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return a=sn(r.shift(),o),e[a]=i,i}function fn(e,t,i,o,a,r){return sn(e,r),sn(t,r),sn(i,r),sn(o,r),sn(a,r),function(r,s){var l,u=s&&s.hasOwnProperty(e)?s:r;return null===u||u===n?u:(u=u[e],u&&u.then&&("$$v"in u||(l=u,l.$$v=n,l.then(function(e){l.$$v=e})),u=u.$$v),t&&null!==u&&u!==n?(u=u[t],u&&u.then&&("$$v"in u||(l=u,l.$$v=n,l.then(function(e){l.$$v=e})),u=u.$$v),i&&null!==u&&u!==n?(u=u[i],u&&u.then&&("$$v"in u||(l=u,l.$$v=n,l.then(function(e){l.$$v=e})),u=u.$$v),o&&null!==u&&u!==n?(u=u[o],u&&u.then&&("$$v"in u||(l=u,l.$$v=n,l.then(function(e){l.$$v=e})),u=u.$$v),a&&null!==u&&u!==n?(u=u[a],u&&u.then&&("$$v"in u||(l=u,l.$$v=n,l.then(function(e){l.$$v=e})),u=u.$$v),u):u):u):u):u)}}function pn(e,t,i){if(Ii.hasOwnProperty(e))return Ii[e];var o,r=e.split("."),s=r.length;if(t)o=6>s?fn(r[0],r[1],r[2],r[3],r[4],i):function(e,t){var o,a=0;do o=fn(r[a++],r[a++],r[a++],r[a++],r[a++],i)(e,t),t=n,e=o;while(s>a);return o};else{var l="var l, fn, p;\n";a(r,function(e,t){sn(e,i),l+="if(s === null || s === undefined) return s;\nl=s;\ns="+(t?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"]'+";\n"+"if (s && s.then) {\n"+' if (!("$$v" in s)) {\n'+" p=s;\n"+" p.$$v = undefined;\n"+" p.then(function(v) {p.$$v=v;});\n"+"}\n"+" s=s.$$v\n"+"}\n"}),l+="return s;",o=Function("s","k",l),o.toString=function(){return l}}return Ii[e]=o}function hn(){var e={};this.$get=["$filter","$sniffer",function(t,n){return function(i){switch(typeof i){case"string":return e.hasOwnProperty(i)?e[i]:e[i]=cn(i,!1,t,n.csp);case"function":return i;default:return h}}}]}function mn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return gn(function(t){e.$evalAsync(t)},t)}]}function gn(e,t){function i(e){return e}function o(e){return u(e)}function r(e){var t=s(),n=0,i=C(e)?[]:{};return a(e,function(e,o){n++,l(e).then(function(e){i.hasOwnProperty(o)||(i[o]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(o)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}var s=function(){var a,r,c=[];return r={resolve:function(t){if(c){var i=c;c=n,a=l(t),i.length&&e(function(){for(var e,t=0,n=i.length;n>t;t++)e=i[t],a.then(e[0],e[1],e[2])})}},reject:function(e){r.resolve(u(e))},notify:function(t){if(c){var n=c;c.length&&e(function(){for(var e,i=0,o=n.length;o>i;i++)e=n[i],e[2](t)})}},promise:{then:function(e,n,r){var l=s(),u=function(n){try{l.resolve((e||i)(n))}catch(o){l.reject(o),t(o)}},d=function(e){try{l.resolve((n||o)(e))}catch(i){l.reject(i),t(i)}},f=function(e){try{l.notify((r||i)(e))}catch(n){t(n)}};return c?c.push([u,d,f]):a.then(u,d,f),l.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){var n=s();return t?n.resolve(e):n.reject(e),n.promise}function n(n,o){var a=null;try{a=(e||i)()}catch(r){return t(r,!1)}return a&&a.then?a.then(function(){return t(n,o)},function(e){return t(e,!1)}):t(n,o)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}}},l=function(t){return t&&t.then?t:{then:function(n){var i=s();return e(function(){i.resolve(n(t))}),i.promise}}},u=function(t){return{then:function(n,i){var a=s();return e(function(){a.resolve((i||o)(t))}),a.promise}}},c=function(n,a,r,c){var d,f=s(),p=function(e){try{return(a||i)(e)}catch(n){return t(n),u(n)}},h=function(e){try{return(r||o)(e)}catch(n){return t(n),u(n)}},m=function(e){try{return(c||i)(e)}catch(n){t(n)}};return e(function(){l(n).then(function(e){d||(d=!0,f.resolve(l(e).then(p,h,m)))},function(e){d||(d=!0,f.resolve(h(e)))},function(e){d||f.notify(m(e))})}),f.promise};return{defer:s,reject:u,when:c,all:r}}function vn(){var e=10,t=i("$rootScope");this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse",function(n,i,a){function r(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$listeners={},this.$$isolateBindings={}}function s(e){if(f.$$phase)throw t("inprog","{0} already in progress",f.$$phase);f.$$phase=e}function l(){f.$$phase=null}function c(e,t){var n=a(e);return tt(n,t),n}function d(){}r.prototype={$new:function(e){var t,n;return e?(n=new r,n.$root=this.$root,n.$$asyncQueue=this.$$asyncQueue):(t=function(){},t.prototype=this,n=new t,n.$id=u()),n["this"]=n,n.$$listeners={},n.$parent=this,n.$$watchers=n.$$nextSibling=n.$$childHead=n.$$childTail=null,n.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=n,this.$$childTail=n):this.$$childHead=this.$$childTail=n,n},$watch:function(e,t,n){var i=this,o=c(e,"watch"),a=i.$$watchers,r={fn:t,last:d,get:o,exp:e,eq:!!n};if(!k(t)){var s=c(t||h,"listener");r.fn=function(e,t,n){s(n)}}if("string"==typeof e&&o.constant){var l=r.fn;r.fn=function(e,t,n){l.call(this,e,t,n),O(a,r)}}return a||(a=i.$$watchers=[]),a.unshift(r),function(){O(a,r)}},$watchCollection:function(e,t){function n(){s=c(l);var e,t;if(b(s))if(o(s)){r!==d&&(r=d,p=r.length=0,u++),e=s.length,p!==e&&(u++,r.length=p=e);for(var n=0;e>n;n++)r[n]!==s[n]&&(u++,r[n]=s[n])}else{r!==f&&(r=f={},p=0,u++),e=0;for(t in s)s.hasOwnProperty(t)&&(e++,r.hasOwnProperty(t)?r[t]!==s[t]&&(u++,r[t]=s[t]):(p++,r[t]=s[t],u++));if(p>e){u++;for(t in r)r.hasOwnProperty(t)&&!s.hasOwnProperty(t)&&(p--,delete r[t])}}else r!==s&&(r=s,u++);return u}function i(){t(s,r,l)}var r,s,l=this,u=0,c=a(e),d=[],f={},p=0;return this.$watch(n,i)},$digest:function(){var n,o,a,r,u,c,f,p,h,m,g=this.$$asyncQueue,v=e,y=this,b=[];s("$digest");do{for(c=!1,p=y;g.length;)try{p.$eval(g.shift())}catch(x){i(x)}do{if(r=p.$$watchers)for(u=r.length;u--;)try{n=r[u],n&&(o=n.get(p))!==(a=n.last)&&!(n.eq?q(o,a):"number"==typeof o&&"number"==typeof a&&isNaN(o)&&isNaN(a))&&(c=!0,n.last=n.eq?L(o):o,n.fn(o,a===d?o:a,p),5>v&&(h=4-v,b[h]||(b[h]=[]),m=k(n.exp)?"fn: "+(n.exp.name||n.exp.toString()):n.exp,m+="; newVal: "+I(o)+"; oldVal: "+I(a),b[h].push(m)))}catch(x){i(x)}if(!(f=p.$$childHead||p!==y&&p.$$nextSibling))for(;p!==y&&!(f=p.$$nextSibling);)p=p.$parent}while(p=f);if(c&&!v--)throw l(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,I(b))}while(c||g.length);l()},$destroy:function(){if(f!=this&&!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(e,t){return a(e)(this,t)},$evalAsync:function(e){this.$$asyncQueue.push(e)},$apply:function(e){try{return s("$apply"),this.$eval(e)}catch(t){i(t)}finally{l();try{f.$digest()}catch(t){throw i(t),t}}},$on:function(e,t){var n=this.$$listeners[e];return n||(this.$$listeners[e]=n=[]),n.push(t),function(){n[N(n,t)]=null}},$emit:function(e){var t,n,o,a=[],r=this,s=!1,l={name:e,targetScope:r,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=B([l],arguments,1);do{for(t=r.$$listeners[e]||a,l.currentScope=r,n=0,o=t.length;o>n;n++)if(t[n])try{if(t[n].apply(null,u),s)return l}catch(c){i(c)}else t.splice(n,1),n--,o--;r=r.$parent}while(r);return l},$broadcast:function(e){var t,n,o,a=this,r=a,s=a,l={name:e,targetScope:a,preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=B([l],arguments,1);do{for(r=s,l.currentScope=r,t=r.$$listeners[e]||[],n=0,o=t.length;o>n;n++)if(t[n])try{t[n].apply(null,u)}catch(c){i(c)}else t.splice(n,1),n--,o--;if(!(s=r.$$childHead||r!==a&&r.$$nextSibling))for(;r!==a&&!(s=r.$$nextSibling);)r=r.$parent}while(r=s);return l}};var f=new r;return f}]}function yn(){this.SCE_CONTEXTS=Ui;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=t),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=e),t},this.$get=["$log","$document","$injector","$$urlUtils",function(i,o,a,r){function s(e,t){return"self"===e?r.isSameOrigin(t):!!t.href.match(e)}function l(n){var i,o,a=r.resolve(n.toString(),!0),l=!1;for(i=0,o=e.length;o>i;i++)if(s(e[i],a)){l=!0;break}if(l)for(i=0,o=t.length;o>i;i++)if(s(t[i],a)){l=!1;break}return l}function u(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function c(e,t){var i=m.hasOwnProperty(e)?m[e]:null;if(!i)throw Ri("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw Ri("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new i(t)}function d(e){return e instanceof h?e.$$unwrapTrustedValue():e}function f(e,t){if(null===t||t===n||""===t)return t;var i=m.hasOwnProperty(e)?m[e]:null;if(i&&t instanceof i)return t.$$unwrapTrustedValue();if(e===Ui.RESOURCE_URL){if(l(t))return t;throw Ri("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Ui.HTML)return p(t);throw Ri("unsafe","Attempting to use an unsafe value in a safe context.")}var p=function(){throw Ri("unsafe","Attempting to use an unsafe value in a safe context.")};a.has("$sanitize")&&(p=a.get("$sanitize"));var h=u(),m={};return m[Ui.HTML]=u(h),m[Ui.CSS]=u(h),m[Ui.URL]=u(h),m[Ui.JS]=u(h),m[Ui.RESOURCE_URL]=u(m[Ui.URL]),{trustAs:c,getTrusted:f,valueOf:d}}]}function bn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$document","$sceDelegate",function(t,i,o){if(e&&ni){var a=i[0].documentMode;if(a!==n&&8>a)throw Ri("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.")}var r=L(Ui);r.isEnabled=function(){return e},r.trustAs=o.trustAs,r.getTrusted=o.getTrusted,r.valueOf=o.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=m),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:function(t,n){return r.getTrusted(e,i(t,n))}};var s=r.parseAs,l=r.getTrusted,u=r.trustAs;return si.forEach(Ui,function(e,t){var n=Qn(t);r[rt("parse_as_"+n)]=function(t){return s(e,t)},r[rt("get_trusted_"+n)]=function(t){return l(e,t)},r[rt("trust_as_"+n)]=function(t){return u(e,t)}}),r}]}function xn(){this.$get=["$window","$document",function(e,t){var n,i,o={},a=f((/android (\d+)/.exec(Qn((e.navigator||{}).userAgent))||[])[1]),r=t[0]||{},s=/^(Moz|webkit|O|ms)(?=[A-Z])/,l=r.body&&r.body.style,u=!1,c=!1;if(l){for(var d in l)if(i=s.exec(d)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}u=!!("transition"in l||n+"Transition"in l),c=!!("animation"in l||n+"Animation"in l),!a||u&&c||(u=x(r.body.style.webkitTransition),c=x(r.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>a),hashchange:"onhashchange"in e&&(!r.documentMode||r.documentMode>7),hasEvent:function(e){if("input"==e&&9==ni)return!1;if(v(o[e])){var t=r.createElement("div");o[e]="on"+e in t}return o[e]},csp:r.securityPolicy?r.securityPolicy.isActive:!1,vendorPrefix:n,transitions:u,animations:c}}]}function wn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,i){function o(o,r,s){var l,u,c=n.defer(),d=c.promise,f=y(s)&&!s;return l=t.defer(function(){try{c.resolve(o())}catch(t){c.reject(t),i(t)}f||e.$apply()},r),u=function(){delete a[d.$$timeoutId]},d.$$timeoutId=l,a[l]=c,d.then(u,u),d}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),t.defer.cancel(e.$$timeoutId)):!1},o}]}function $n(){this.$get=[function(){function n(e,t){var n=e;return ni&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),t?{href:i.href,protocol:i.protocol,host:i.host}:i.href}var i=t.createElement("a"),o=n(e.location.href,!0);return{resolve:n,isSameOrigin:function(e){var t="string"==typeof e?n(e,!0):e;return t.protocol===o.protocol&&t.host===o.host}}}]}function Cn(){this.$get=g(e)}function kn(e){function t(t,i){return e.factory(t+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Sn),t("date",Ln),t("filter",Tn),t("json",An),t("limitTo",qn),t("lowercase",Qi),t("number",_n),t("orderBy",Bn),t("uppercase",Yi)}function Tn(){return function(e,t,n){if(!C(e))return e;var i=[];switch(i.check=function(e){for(var t=0;t<i.length;t++)if(!i[t](e))return!1;return!0},typeof n){case"function":break;case"boolean":if(1==n){n=function(e,t){return si.equals(e,t)};break}default:n=function(e,t){return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1}}var o=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!o(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var i in e)if("$"!==i.charAt(0)&&o(e[i],t))return!0}return!1;case"array":for(var a=0;a<e.length;a++)if(o(e[a],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var a in t)"$"==a?function(){if(t[a]){var e=a;i.push(function(n){return o(n,t[e])})}}():function(){if(t[a]){var e=a;i.push(function(n){return o(nt(n,e),t[e])})}}();break;case"function":i.push(t);break;default:return e}for(var r=[],s=0;s<e.length;s++){var l=e[s];i.check(l)&&r.push(l)}return r}}function Sn(e){var t=e.NUMBER_FORMATS;return function(e,n){return v(n)&&(n=t.CURRENCY_SYM),En(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function _n(e){var t=e.NUMBER_FORMATS;return function(e,n){return En(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function En(e,t,n,i,o){if(isNaN(e)||!isFinite(e))return"";var a=0>e;e=Math.abs(e);var r=e+"",s="",l=[],u=!1;if(-1!==r.indexOf("e")){var c=r.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>o+1?r="0":(s=r,u=!0)}if(u)o>0&&e>-1&&1>e&&(s=e.toFixed(o));else{var d=(r.split(Wi)[1]||"").length;v(o)&&(o=Math.min(Math.max(t.minFrac,d),t.maxFrac));var f=Math.pow(10,o);e=Math.round(e*f)/f;var p=(""+e).split(Wi),h=p[0];p=p[1]||"";var m=0,g=t.lgSize,y=t.gSize;if(h.length>=g+y){m=h.length-g;for(var b=0;m>b;b++)0===(m-b)%y&&0!==b&&(s+=n),s+=h.charAt(b)}for(b=m;b<h.length;b++)0===(h.length-b)%g&&0!==b&&(s+=n),s+=h.charAt(b);for(;p.length<o;)p+="0";o&&"0"!==o&&(s+=i+p.substr(0,o))}return l.push(a?t.negPre:t.posPre),l.push(s),l.push(a?t.negSuf:t.posSuf),l.join("")}function Mn(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function Pn(e,t,n,i){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),Mn(a,t,i)}}function Dn(e,t){return function(n,i){var o=n["get"+e](),a=Yn(t?"SHORT"+e:e);return i[a][o]}}function Nn(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=Mn(Math[t>0?"floor":"ceil"](t/60),2)+Mn(Math.abs(t%60),2)}function On(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Ln(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),o=0,a=0,r=t[8]?i.setUTCFullYear:i.setFullYear,s=t[8]?i.setUTCHours:i.setHours;t[9]&&(o=f(t[9]+t[10]),a=f(t[9]+t[11])),r.call(i,f(t[1]),f(t[2])-1,f(t[3]));var l=f(t[4]||0)-o,u=f(t[5]||0)-a,c=f(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(i,l,u,c,d),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i){var o,r,s="",l=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,x(n)&&(n=Xi.test(n)?f(n):t(n)),w(n)&&(n=new Date(n)),!$(n))return n;for(;i;)r=zi.exec(i),r?(l=B(l,r,1),i=l.pop()):(l.push(i),i=null);return a(l,function(t){o=Vi[t],s+=o?o(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function An(){return function(e){return I(e,!0)}}function qn(){return function(e,t){if(!C(e)&&!x(e))return e;if(t=f(t),x(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n,i,o=[];for(t>e.length?t=e.length:t<-e.length&&(t=-e.length),t>0?(n=0,i=t):(n=e.length+t,i=e.length);i>n;n++)o.push(e[n]);return o}}function Bn(e){return function(t,n,i){function o(e,t){for(var i=0;i<n.length;i++){var o=n[i](e,t);
if(0!==o)return o}return 0}function a(e,t){return U(t)?function(t,n){return e(n,t)}:e}function r(e,t){var n=typeof e,i=typeof t;return n==i?("string"==n&&(e=e.toLowerCase()),"string"==n&&(t=t.toLowerCase()),e===t?0:t>e?-1:1):i>n?-1:1}if(!C(t))return t;if(!n)return t;n=C(n)?n:[n],n=P(n,function(t){var n=!1,i=t||m;return x(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),i=e(t)),a(function(e,t){return r(i(e),i(t))},n)});for(var s=[],l=0;l<t.length;l++)s.push(t[l]);return s.sort(a(o,i))}}function jn(e){return k(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function Hn(e,t){function n(t,n){n=n?"-"+K(n,"-"):"",e.removeClass((t?lo:so)+n).addClass((t?so:lo)+n)}var i=this,o=e.parent().controller("form")||Ki,r=0,s=i.$error={},l=[];i.$name=t.name||t.ngForm,i.$dirty=!1,i.$pristine=!0,i.$valid=!0,i.$invalid=!1,o.$addControl(i),e.addClass(uo),n(!0),i.$addControl=function(e){l.push(e),e.$name&&!i.hasOwnProperty(e.$name)&&(i[e.$name]=e)},i.$removeControl=function(e){e.$name&&i[e.$name]===e&&delete i[e.$name],a(s,function(t,n){i.$setValidity(n,!0,e)}),O(l,e)},i.$setValidity=function(e,t,a){var l=s[e];if(t)l&&(O(l,a),l.length||(r--,r||(n(t),i.$valid=!0,i.$invalid=!1),s[e]=!1,n(!0,e),o.$setValidity(e,!0,i)));else{if(r||n(t),l){if(D(l,a))return}else s[e]=l=[],r++,n(!1,e),o.$setValidity(e,!1,i);l.push(a),i.$valid=!1,i.$invalid=!0}},i.$setDirty=function(){e.removeClass(uo).addClass(co),i.$dirty=!0,i.$pristine=!1,o.$setDirty()},i.$setPristine=function(){e.removeClass(co).addClass(uo),i.$dirty=!1,i.$pristine=!0,a(l,function(e){e.$setPristine()})}}function Fn(e){return v(e)||""===e||null===e||e!==e}function In(e,t,o,a,r,s){var l=function(){var n=t.val();U(o.ngTrim||"T")&&(n=ui(n)),a.$viewValue!==n&&e.$apply(function(){a.$setViewValue(n)})};if(r.hasEvent("input"))t.on("input",l);else{var u,c=function(){u||(u=s.defer(function(){l(),u=null}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c()}),t.on("change",l),r.hasEvent("paste")&&t.on("paste cut",c)}a.$render=function(){t.val(Fn(a.$viewValue)?"":a.$viewValue)};var d,p,h=o.ngPattern,m=function(e,t){return Fn(t)||e.test(t)?(a.$setValidity("pattern",!0),t):(a.$setValidity("pattern",!1),n)};if(h&&(p=h.match(/^\/(.*)\/([gim]*)$/),p?(h=new RegExp(p[1],p[2]),d=function(e){return m(h,e)}):d=function(n){var o=e.$eval(h);if(!o||!o.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,o,W(t));return m(o,n)},a.$formatters.push(d),a.$parsers.push(d)),o.ngMinlength){var g=f(o.ngMinlength),v=function(e){return!Fn(e)&&e.length<g?(a.$setValidity("minlength",!1),n):(a.$setValidity("minlength",!0),e)};a.$parsers.push(v),a.$formatters.push(v)}if(o.ngMaxlength){var y=f(o.ngMaxlength),b=function(e){return!Fn(e)&&e.length>y?(a.$setValidity("maxlength",!1),n):(a.$setValidity("maxlength",!0),e)};a.$parsers.push(b),a.$formatters.push(b)}}function Rn(e,t,i,o,a,r){if(In(e,t,i,o,a,r),o.$parsers.push(function(e){var t=Fn(e);return t||oo.test(e)?(o.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(o.$setValidity("number",!1),n)}),o.$formatters.push(function(e){return Fn(e)?"":""+e}),i.min){var s=parseFloat(i.min),l=function(e){return!Fn(e)&&s>e?(o.$setValidity("min",!1),n):(o.$setValidity("min",!0),e)};o.$parsers.push(l),o.$formatters.push(l)}if(i.max){var u=parseFloat(i.max),c=function(e){return!Fn(e)&&e>u?(o.$setValidity("max",!1),n):(o.$setValidity("max",!0),e)};o.$parsers.push(c),o.$formatters.push(c)}o.$formatters.push(function(e){return Fn(e)||w(e)?(o.$setValidity("number",!0),e):(o.$setValidity("number",!1),n)})}function Un(e,t,i,o,a,r){In(e,t,i,o,a,r);var s=function(e){return Fn(e)||no.test(e)?(o.$setValidity("url",!0),e):(o.$setValidity("url",!1),n)};o.$formatters.push(s),o.$parsers.push(s)}function Wn(e,t,i,o,a,r){In(e,t,i,o,a,r);var s=function(e){return Fn(e)||io.test(e)?(o.$setValidity("email",!0),e):(o.$setValidity("email",!1),n)};o.$formatters.push(s),o.$parsers.push(s)}function Vn(e,t,n,i){v(n.name)&&t.attr("name",u()),t.on("click",function(){t[0].checked&&e.$apply(function(){i.$setViewValue(n.value)})}),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)}function zn(e,t,n,i){var o=n.ngTrueValue,a=n.ngFalseValue;x(o)||(o=!0),x(a)||(a=!1),t.on("click",function(){e.$apply(function(){i.$setViewValue(t[0].checked)})}),i.$render=function(){t[0].checked=i.$viewValue},i.$formatters.push(function(e){return e===o}),i.$parsers.push(function(e){return e?o:a})}function Xn(e,t){return e="ngClass"+e,function(){return{restrict:"AC",link:function(i,o,r){function s(e){(t===!0||i.$index%2===t)&&(d&&!q(e,d)&&l(d),u(e)),d=L(e)}function l(e){r.$removeClass(c(e))}function u(e){r.$addClass(c(e))}function c(e){if(C(e))return e.join(" ");if(b(e)){var t=[];return a(e,function(e,n){e&&t.push(n)}),t.join(" ")}return e}var d=n;i.$watch(r[e],s,!0),r.$observe("class",function(){s(i.$eval(r[e]))}),"ngClass"!==e&&i.$watch("$index",function(n,o){var a=1&n;1&a!==o&&(a===t?u(i.$eval(r[e])):l(i.$eval(r[e])))})}}}}Object.prototype.hasOwnProperty;var Qn=function(e){return x(e)?e.toLowerCase():e},Yn=function(e){return x(e)?e.toUpperCase():e},Gn=function(e){return x(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Jn=function(e){return x(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Qn=Gn,Yn=Jn);var Kn,Zn,ei,ti,ni=f((/msie (\d+)/.exec(Qn(navigator.userAgent))||[])[1]),ii=[].slice,oi=[].push,ai=Object.prototype.toString,ri=i("ng"),si=(e.angular,e.angular||(e.angular={})),li=["0","0","0"];h.$inject=[],m.$inject=[];var ui=function(){return String.prototype.trim?function(e){return x(e)?e.trim():e}:function(e){return x(e)?e.replace(/^\s*/,"").replace(/\s*$/,""):e}}();ti=9>ni?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?Yn(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var ci=/[A-Z]/g,di={full:"1.2.0rc1",major:1,minor:2,dot:0,codeName:"spooky-giraffe"},fi=lt.cache={},pi=lt.expando="ng-"+(new Date).getTime(),hi=1,mi=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},gi=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},vi=/([\:\-\_]+(.))/g,yi=/^moz([A-Z])/,bi=i("jqLite"),xi=lt.prototype={ready:function(n){function i(){o||(o=!0,n())}var o=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),lt(e).on("load",i))},toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?Kn(this[e]):Kn(this[this.length+e])},length:0,push:oi,sort:[].sort,splice:[].splice},wi={};a("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){wi[Qn(e)]=e});var $i={};a("input,select,option,textarea,button,form,details".split(","),function(e){$i[Yn(e)]=!0}),a({data:ht,inheritedData:xt,scope:function(e){return xt(e,"$scope")},controller:bt,injector:function(e){return xt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:mt,css:function(e,t,i){if(t=rt(t),!y(i)){var o;return 8>=ni&&(o=e.currentStyle&&e.currentStyle[t],""===o&&(o="auto")),o=o||e.style[t],8>=ni&&(o=""===o?n:o),o}e.style[t]=i},attr:function(e,t,i){var o=Qn(t);if(wi[o]){if(!y(i))return e[t]||(e.attributes.getNamedItem(t)||h).specified?o:n;i?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(y(i))e.setAttribute(t,i);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}},prop:function(e,t,n){return y(n)?(e[t]=n,void 0):e[t]},text:function(){function e(e,n){var i=t[e.nodeType];return v(n)?i?e[i]:"":(e[i]=n,void 0)}var t=[];return 9>ni?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",e.$dv="",e}(),val:function(e,t){if(v(t)){if("SELECT"===ti(e)&&e.multiple){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(v(t))return e.innerHTML;for(var n=0,i=e.childNodes;n<i.length;n++)ct(i[n]);e.innerHTML=t}},function(e,t){lt.prototype[t]=function(t,i){var o,a;if((2==e.length&&e!==mt&&e!==bt?t:i)===n){if(b(t)){for(o=0;o<this.length;o++)if(e===ht)e(this[o],t);else for(a in t)e(this[o],a,t[a]);return this}for(var r=e.$dv,s=r==n?Math.min(this.length,1):this.length,l=0;s>l;l++){var u=e(this[l],t,i);r=r?r+u:u}return r}for(o=0;o<this.length;o++)e(this[o],t,i);return this}}),a({removeData:ft,dealoc:ct,on:function Qo(e,n,i,o){if(y(o))throw bi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var r=pt(e,"events"),s=pt(e,"handle");r||pt(e,"events",r={}),s||pt(e,"handle",s=$t(e,r)),a(n.split(" "),function(n){var o=r[n];if(!o){if("mouseenter"==n||"mouseleave"==n){var a=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};r[n]=[];var l={mouseleave:"mouseout",mouseenter:"mouseover"};Qo(e,l[n],function(e){var t=this,i=e.relatedTarget;(!i||i!==t&&!a(t,i))&&s(e,n)})}else mi(e,n,s),r[n]=[];o=r[n]}o.push(i)})},off:dt,replaceWith:function(e,t){var n,i=e.parentNode;ct(e),a(new lt(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.childNodes||[]},append:function(e,t){a(new lt(t),function(t){(1===e.nodeType||11===e.nodeType)&&e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;a(new lt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Kn(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){ct(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,i=e.parentNode;a(new lt(t),function(e){i.insertBefore(e,n.nextSibling),n=e})},addClass:vt,removeClass:gt,toggleClass:function(e,t,n){v(n)&&(n=!mt(e,t)),(n?vt:gt)(e,t)},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName(t)},clone:ut,triggerHandler:function(e,t,n){var i=(pt(e,"events")||{})[t];n=n||{preventDefault:h,stopPropagation:h},a(i,function(t){t.call(e,n)})}},function(e,t){lt.prototype[t]=function(t,i,o){for(var a,r=0;r<this.length;r++)a==n?(a=e(this[r],t,i,o),a!==n&&(a=Kn(a))):yt(a,e(this[r],t,i,o));return a==n?this:a},lt.prototype.bind=lt.prototype.on,lt.prototype.unbind=lt.prototype.off}),kt.prototype={put:function(e,t){this[Ct(e)]=t},get:function(e){return this[Ct(e)]},remove:function(e){var t=this[e=Ct(e)];return delete this[e],t}};var Ci=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,ki=/,/,Ti=/^\s*(_?)(\S+?)\1\s*$/,Si=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,_i=i("$injector"),Ei=i("$animate"),Mi=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var i=t+"-animation";if(t&&"."!=t.charAt(0))throw Ei("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=i,e.factory(i,n)},this.$get=["$timeout",function(e){return{enter:function(t,n,i,o){var r=i&&i[i.length-1],s=n&&n[0]||r&&r.parentNode,l=r&&r.nextSibling||null;a(t,function(e){s.insertBefore(e,l)}),e(o||h,0,!1)},leave:function(t,n){t.remove(),e(n||h,0,!1)},move:function(e,t,n,i){this.enter(e,t,n,i)},addClass:function(t,n,i){n=x(n)?n:C(n)?n.join(" "):"",t.addClass(n),e(i||h,0,!1)},removeClass:function(t,n,i){n=x(n)?n:C(n)?n.join(" "):"",t.removeClass(n),e(i||h,0,!1)},enabled:h}}]}],Pi=i("$compile");Nt.$inject=["$provide"];var Di=/^(x[\:\-_]|data[\:\-_])/i,Ni=e.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw i("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")},Oi=i("$interpolate"),Li=/^([^:]+):\/\/(\w+:{0,1}\w*@)?(\{?[\w\.-]*\}?)(:([0-9]+))?(\/[^\?#]*)?(\?([^#]*))?(#(.*))?$/,Ai=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,qi={http:80,https:443,ftp:21},Bi=i("$location");tn.prototype=en.prototype=Zt.prototype={$$html5:!1,$$replace:!1,absUrl:nn("$$absUrl"),url:function(e,t){if(v(e))return this.$$url;var n=Ai.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:nn("$$protocol"),host:nn("$$host"),port:nn("$$port"),path:on("$$path",function(e){return"/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(x(e))this.$$search=z(e);else{if(!b(e))throw Bi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");this.$$search=e}break;default:t==n||null==t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:on("$$hash",m),replace:function(){return this.$$replace=!0,this}};var ji=i("$parse"),Hi={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:h,"+":function(e,t,i,o){return i=i(e,t),o=o(e,t),y(i)?y(o)?i+o:i:y(o)?o:n},"-":function(e,t,n,i){return n=n(e,t),i=i(e,t),(y(n)?n:0)-(y(i)?i:0)},"*":function(e,t,n,i){return n(e,t)*i(e,t)},"/":function(e,t,n,i){return n(e,t)/i(e,t)},"%":function(e,t,n,i){return n(e,t)%i(e,t)},"^":function(e,t,n,i){return n(e,t)^i(e,t)},"=":h,"===":function(e,t,n,i){return n(e,t)===i(e,t)},"!==":function(e,t,n,i){return n(e,t)!==i(e,t)},"==":function(e,t,n,i){return n(e,t)==i(e,t)},"!=":function(e,t,n,i){return n(e,t)!=i(e,t)},"<":function(e,t,n,i){return n(e,t)<i(e,t)},">":function(e,t,n,i){return n(e,t)>i(e,t)},"<=":function(e,t,n,i){return n(e,t)<=i(e,t)},">=":function(e,t,n,i){return n(e,t)>=i(e,t)},"&&":function(e,t,n,i){return n(e,t)&&i(e,t)},"||":function(e,t,n,i){return n(e,t)||i(e,t)},"&":function(e,t,n,i){return n(e,t)&i(e,t)},"|":function(e,t,n,i){return i(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},Fi={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ii={},Ri=i("$sce"),Ui={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};kn.$inject=["$provide"],Sn.$inject=["$locale"],_n.$inject=["$locale"];var Wi=".",Vi={yyyy:Pn("FullYear",4),yy:Pn("FullYear",2,0,!0),y:Pn("FullYear",1),MMMM:Dn("Month"),MMM:Dn("Month",!0),MM:Pn("Month",2,1),M:Pn("Month",1,1),dd:Pn("Date",2),d:Pn("Date",1),HH:Pn("Hours",2),H:Pn("Hours",1),hh:Pn("Hours",2,-12),h:Pn("Hours",1,-12),mm:Pn("Minutes",2),m:Pn("Minutes",1),ss:Pn("Seconds",2),s:Pn("Seconds",1),sss:Pn("Milliseconds",3),EEEE:Dn("Day"),EEE:Dn("Day",!0),a:On,Z:Nn},zi=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Xi=/^\d+$/;Ln.$inject=["$locale"];var Qi=g(Qn),Yi=g(Yn);Bn.$inject=["$parse"];var Gi=g({restrict:"E",compile:function(e,n){return 8>=ni&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),function(e,t){t.on("click",function(e){t.attr("href")||e.preventDefault()})}}}),Ji={};a(wi,function(e,t){if("multiple"!=e){var n=Ot("ng-"+t);Ji[n]=function(){return{priority:100,compile:function(){return function(e,i,o){e.$watch(o[n],function(e){o.$set(t,!!e)})}}}}}}),a(["src","srcset","href"],function(e){var t=Ot("ng-"+e);Ji[t]=function(){return{priority:99,link:function(n,i,o){o.$observe(t,function(t){t&&(o.$set(e,t),ni&&i.prop(e,o[e]))})}}}});var Ki={$addControl:h,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h};Hn.$inject=["$element","$attrs","$scope"];var Zi=function(e){return["$timeout",function(t){var i={name:"form",restrict:"E",controller:Hn,compile:function(){return{pre:function(e,i,o,a){if(!o.action){var r=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};mi(i[0],"submit",r),i.on("$destroy",function(){t(function(){gi(i[0],"submit",r)},0,!1)})}var s=i.parent().controller("form"),l=o.name||o.ngForm;l&&dn(e,l,a,l),s&&i.on("$destroy",function(){s.$removeControl(a),l&&dn(e,l,n,l),d(a,Ki)})}}}};return e?d(L(i),{restrict:"EAC"}):i}]},eo=Zi(),to=Zi(!0),no=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,io=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$/,oo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,ao={text:In,number:Rn,url:Un,email:Wn,radio:Vn,checkbox:zn,hidden:h,button:h,submit:h,reset:h},ro=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,i,o,a){a&&(ao[Qn(o.type)]||ao.text)(n,i,o,a,t,e)}}}],so="ng-valid",lo="ng-invalid",uo="ng-pristine",co="ng-dirty",fo=["$scope","$exceptionHandler","$attrs","$element","$parse",function(e,t,n,o,r){function s(e,t){t=t?"-"+K(t,"-"):"",o.removeClass((e?lo:so)+t).addClass((e?so:lo)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var l=r(n.ngModel),u=l.assign;if(!u)throw i("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,W(o));this.$render=h;var c=o.inheritedData("$formController")||Ki,d=0,f=this.$error={};o.addClass(uo),s(!0),this.$setValidity=function(e,t){f[e]!==!t&&(t?(f[e]&&d--,d||(s(!0),this.$valid=!0,this.$invalid=!1)):(s(!1),this.$invalid=!0,this.$valid=!1,d++),f[e]=!t,s(t,e),c.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,o.removeClass(co).addClass(uo)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,o.removeClass(uo).addClass(co),c.$setDirty()),a(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,u(e,n),a(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var p=this;e.$watch(function(){var t=l(e);if(p.$modelValue!==t){var n=p.$formatters,i=n.length;for(p.$modelValue=t;i--;)t=n[i](t);p.$viewValue!==t&&(p.$viewValue=t,p.$render())}})}],po=function(){return{require:["ngModel","^?form"],controller:fo,link:function(e,t,n,i){var o=i[0],a=i[1]||Ki;a.$addControl(o),t.on("$destroy",function(){a.$removeControl(o)})}}},ho=g({require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),mo=function(){return{require:"?ngModel",link:function(e,t,n,i){if(i){n.required=!0;var o=function(e){return n.required&&(Fn(e)||e===!1)?(i.$setValidity("required",!1),void 0):(i.$setValidity("required",!0),e)};i.$formatters.push(o),i.$parsers.unshift(o),n.$observe("required",function(){o(i.$viewValue)})}}}},go=function(){return{require:"ngModel",link:function(e,t,i,o){var r=/\/(.*)\//.exec(i.ngList),s=r&&new RegExp(r[1])||i.ngList||",",l=function(e){var t=[];return e&&a(e.split(s),function(e){e&&t.push(ui(e))}),t};o.$parsers.push(l),o.$formatters.push(function(e){return C(e)?e.join(", "):n})}}},vo=/^(true|false|\d+)$/,yo=function(){return{priority:100,compile:function(e,t){return vo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},bo=jn(function(e,t,i){t.addClass("ng-binding").data("$binding",i.ngBind),e.$watch(i.ngBind,function(e){t.text(e==n?"":e)})}),xo=["$interpolate",function(e){return function(t,n,i){var o=e(n.attr(i.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",o),i.$observe("ngBindTemplate",function(e){n.text(e)})}}],wo=["$sce",function(e){return function(t,n,i){n.addClass("ng-binding").data("$binding",i.ngBindHtml),t.$watch(e.parseAsHtml(i.ngBindHtml),function(e){n.html(e||"")})}}],$o=Xn("",!0),Co=Xn("Odd",0),ko=Xn("Even",1),To=jn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),So=[function(){return{scope:!0,controller:"@"}}],_o=["$sniffer",function(e){return{priority:1e3,compile:function(){e.csp=!0}}}],Eo={};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur".split(" "),function(e){var t=Ot("ng-"+e);Eo[t]=["$parse",function(n){return function(i,o,a){var r=n(a[t]);o.on(Qn(e),function(e){i.$apply(function(){r(i,{$event:e})})})}}]});var Mo=["$animate",function(e){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(t,i,o){return function(t,i,a){var r,s;t.$watch(a.ngIf,function(a){r&&(e.leave(r),r=n),s&&(s.$destroy(),s=n),U(a)&&(s=t.$new(),o(s,function(t){r=t,e.enter(t,i.parent(),i)}))})}}}}],Po=500,Do=["$http","$templateCache","$anchorScroll","$compile","$animate","$sce",function(e,n,i,o,a,r){return{restrict:"ECA",terminal:!0,priority:Po,compile:function(s,l){var u=l.ngInclude||l.src,c=l.onload||"",d=l.autoscroll;s.html("");var f=Kn(t.createComment(" ngInclude: "+u+" "));return s.replaceWith(f),function(t){var l,p,h=0,m=function(){l&&(l.$destroy(),l=null),p&&(a.leave(p),p=null)};t.$watch(r.parseAsResourceUrl(u),function(r){var u=++h;r?(e.get(r,{cache:n}).success(function(e){if(u===h){var n=t.$new();m(),l=n,p=s.clone(),p.html(e),a.enter(p,null,f),o(p,!1,Po-1)(l),!y(d)||d&&!t.$eval(d)||i(),l.$emit("$includeContentLoaded"),t.$eval(c)}}).error(function(){u===h&&m()}),t.$emit("$includeContentRequested")):m()})}}}}],No=jn({compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Oo=jn({terminal:!0,priority:1e3}),Lo=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(i,o,r){var s=r.count,l=r.$attr.when&&o.attr(r.$attr.when),u=r.offset||0,c=i.$eval(l)||{},d={},f=t.startSymbol(),p=t.endSymbol(),h=/^when(Minus)?(.+)$/;a(r,function(e,t){h.test(t)&&(c[Qn(t.replace("when","").replace("Minus","-"))]=o.attr(r.$attr[t]))}),a(c,function(e,i){d[i]=t(e.replace(n,f+s+"-"+u+p))}),i.$watch(function(){var t=parseFloat(i.$eval(s));return isNaN(t)?"":(t in c||(t=e.pluralCat(t-u)),d[t](i,o,!0))},function(e){o.text(e)})}}}],Ao=["$parse","$animate",function(e,t){var n="$$NG_REMOVED",r=i("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,compile:function(i,s,l){return function(i,s,u){var c,d,f,p,h,m,g,v,y,b=u.ngRepeat,x=b.match(/^\s*(.+)\s+in\s+(.*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),w={$id:Ct};if(!x)throw r("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",b);if(m=x[1],g=x[2],c=x[4],c?(d=e(c),f=function(e,t,n){return y&&(w[y]=e),w[v]=t,w.$index=n,d(i,w)}):(p=function(e,t){return Ct(t)},h=function(e){return e}),x=m.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!x)throw r("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);v=x[3]||x[1],y=x[2];var $={};i.$watchCollection(g,function(e){var u,c,d,m,g,x,w,C,k,T,S=s[0],_={},E=[];if(o(e))k=e,f=f||p;else{f=f||h,k=[];for(x in e)e.hasOwnProperty(x)&&"$"!=x.charAt(0)&&k.push(x);k.sort()}for(m=k.length,c=E.length=k.length,u=0;c>u;u++)if(x=e===k?u:k[u],w=e[x],C=f(x,w,u),$.hasOwnProperty(C))T=$[C],delete $[C],_[C]=T,E[u]=T;else{if(_.hasOwnProperty(C))throw a(E,function(e){e&&e.startNode&&($[e.id]=e)}),r("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",b,C);E[u]={id:C},_[C]=!1}for(x in $)$.hasOwnProperty(x)&&(T=$[x],t.leave(T.elements),a(T.elements,function(e){e[n]=!0}),T.scope.$destroy());for(u=0,c=k.length;c>u;u++){if(x=e===k?u:k[u],w=e[x],T=E[u],T.startNode){g=T.scope,d=S;do d=d.nextSibling;while(d&&d[n]);T.startNode==d||t.move(T.elements,null,Kn(S)),S=T.endNode}else g=i.$new();g[v]=w,y&&(g[y]=x),g.$index=u,g.$first=0===u,g.$last=u===m-1,g.$middle=!(g.$first||g.$last),g.$odd=!(g.$even=0==u%2),T.startNode||l(g,function(e){t.enter(e,null,Kn(S)),S=e,T.scope=g,T.startNode=e[0],T.elements=e,T.endNode=e[e.length-1],_[T.id]=T})}$=_})}}}}],qo=["$animate",function(e){return function(t,n,i){t.$watch(i.ngShow,function(t){e[U(t)?"removeClass":"addClass"](n,"ng-hide")})}}],Bo=["$animate",function(e){return function(t,n,i){t.$watch(i.ngHide,function(t){e[U(t)?"addClass":"removeClass"](n,"ng-hide")})}}],jo=jn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ho=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,i,o){var r,s,l=i.ngSwitch||i.on,u=[];t.$watch(l,function(n){for(var l=0,c=u.length;c>l;l++)u[l].$destroy(),e.leave(s[l]);s=[],u=[],(r=o.cases["!"+n]||o.cases["?"])&&(t.$eval(i.change),a(r,function(n){var i=t.$new();u.push(i),n.transclude(i,function(t){var i=n.element;s.push(t),e.enter(t,i.parent(),i)})}))})}}}],Fo=jn({transclude:"element",priority:500,require:"^ngSwitch",compile:function(e,t,n){return function(e,i,o,a){a.cases["!"+t.ngSwitchWhen]=a.cases["!"+t.ngSwitchWhen]||[],a.cases["!"+t.ngSwitchWhen].push({transclude:n,element:i})}}}),Io=jn({transclude:"element",priority:500,require:"^ngSwitch",compile:function(e,t,n){return function(e,t,i,o){o.cases["?"]=o.cases["?"]||[],o.cases["?"].push({transclude:n,element:t})}}}),Ro=jn({controller:["$transclude","$element","$scope",function(e,t,n){n.$evalAsync(function(){e(function(e){t.append(e)})})}]}),Uo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,o=t[0].text;e.put(i,o)}}}}],Wo=g({terminal:!0}),Vo=["$compile","$parse",function(e,o){var s=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,l={$setViewValue:h};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var i,o,a=this,r={},s=l;a.databound=n.ngModel,a.init=function(e,t,n){s=e,i=t,o=n},a.addOption=function(t){r[t]=!0,s.$viewValue==t&&(e.val(t),o.parent()&&o.remove())},a.removeOption=function(e){this.hasOption(e)&&(delete r[e],s.$viewValue==e&&this.renderUnknownOption(e))},a.renderUnknownOption=function(t){var n="? "+Ct(t)+" ?";o.val(n),e.prepend(o),e.val(n),o.prop("selected",!0)},a.hasOption=function(e){return r.hasOwnProperty(e)},t.$on("$destroy",function(){a.renderUnknownOption=h})}],link:function(l,u,c,d){function f(e,t,n,i){n.$render=function(){var e=n.$viewValue;i.hasOption(e)?(S.parent()&&S.remove(),t.val(e),""===e&&m.prop("selected",!0)):v(e)&&m?t.val(""):i.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){S.parent()&&S.remove(),n.$setViewValue(t.val())})})}function p(e,t,n){var i;n.$render=function(){var e=new kt(n.$viewValue);a(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){q(i,n.$viewValue)||(i=L(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];a(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function h(t,a,l){function u(){var e,i,o,s,u,c,v,w,S,_,E,M,P,D,N={"":[]},O=[""],L=l.$modelValue,A=g(t)||[],q=p?r(A):A,B={},j=!1;if(x)if(y&&C(L)){j=new kt([]);for(var H=0;H<L.length;H++)B[f]=L[H],j.put(y(t,B),L[H])}else j=new kt(L);for(_=0;w=q.length,w>_;_++){if(B[f]=A[p?B[p]=q[_]:_],e=h(t,B)||"",(i=N[e])||(i=N[e]=[],O.push(e)),x)E=j.remove(y?y(t,B):m(t,B))!=n;else{if(y){var F={};F[f]=L,E=y(t,F)===y(t,B)}else E=L===m(t,B);j=j||E}D=d(t,B),D=D===n?"":D,i.push({id:y?y(t,B):p?q[_]:_,label:D,selected:E})}for(x||($||null===L?N[""].unshift({id:"",label:"",selected:!j}):j||N[""].unshift({id:"?",label:"",selected:!0})),S=0,v=O.length;v>S;S++){for(e=O[S],i=N[e],b.length<=S?(s={element:T.clone().attr("label",e),label:i.label},u=[s],b.push(u),a.append(s.element)):(u=b[S],s=u[0],s.label!=e&&s.element.attr("label",s.label=e)),M=null,_=0,w=i.length;w>_;_++)o=i[_],(c=u[_+1])?(M=c.element,c.label!==o.label&&M.text(c.label=o.label),c.id!==o.id&&M.val(c.id=o.id),M[0].selected!==o.selected&&M.prop("selected",c.selected=o.selected)):(""===o.id&&$?P=$:(P=k.clone()).val(o.id).attr("selected",o.selected).text(o.label),u.push(c={element:P,label:o.label,id:o.id,selected:o.selected}),M?M.after(P):s.element.append(P),M=P);for(_++;u.length>_;)u.pop().element.remove()}for(;b.length>S;)b.pop()[0].element.remove()}var c;if(!(c=w.match(s)))throw i("ngOptions")("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",w,W(a));var d=o(c[2]||c[1]),f=c[4]||c[6],p=c[5],h=o(c[3]||""),m=o(c[2]?c[1]:f),g=o(c[7]),v=c[8],y=v?o(c[8]):null,b=[[{element:a,label:""}]];$&&(e($)(t),$.removeClass("ng-scope"),$.remove()),a.html(""),a.on("change",function(){t.$apply(function(){var e,i,o,r,s,u,c,d,h=g(t)||[],v={};if(x){for(o=[],u=0,d=b.length;d>u;u++)for(e=b[u],s=1,c=e.length;c>s;s++)if((r=e[s].element)[0].selected){if(i=r.val(),p&&(v[p]=i),y)for(var w=0;w<h.length&&(v[f]=h[w],y(t,v)!=i);w++);else v[f]=h[i];o.push(m(t,v))}}else if(i=a.val(),"?"==i)o=n;else if(""==i)o=null;else if(y){for(var w=0;w<h.length;w++)if(v[f]=h[w],y(t,v)==i){o=m(t,v);break}}else v[f]=h[i],p&&(v[p]=i),o=m(t,v);l.$setViewValue(o)})}),l.$render=u,t.$watch(u)}if(d[1]){for(var m,g=d[0],b=d[1],x=c.multiple,w=c.ngOptions,$=!1,k=Kn(t.createElement("option")),T=Kn(t.createElement("optgroup")),S=k.clone(),_=0,E=u.children(),M=E.length;M>_;_++)if(""==E[_].value){m=$=E.eq(_);break}if(g.init(b,$,S),x&&(c.required||c.ngRequired)){var P=function(e){return b.$setValidity("required",!c.required||e&&e.length),e};b.$parsers.push(P),b.$formatters.unshift(P),c.$observe("required",function(){P(b.$viewValue)})}w?h(l,u,b):x?p(l,u,b):f(l,u,b,g)}}}}],zo=["$interpolate",function(e){var t={addOption:h,removeOption:h};return{restrict:"E",priority:100,compile:function(n,i){if(v(i.value)){var o=e(n.text(),!0);o||i.$set("value",n.text())}return function(e,n,i){var a="$selectController",r=n.parent(),s=r.data(a)||r.parent().data(a);s&&s.databound?n.prop("selected",!1):s=t,o?e.$watch(o,function(e,t){i.$set("value",e),e!==t&&s.removeOption(t),s.addOption(e)}):s.addOption(i.value),n.on("$destroy",function(){s.removeOption(i.value)})}}}}],Xo=g({restrict:"E",terminal:!0});Z(),ot(si),Kn(t).ready(function(){G(t,J)})}(window,document),angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}</style>'),define("angular",function(e){return function(){var t;return t||e.angular}}(this)),define("common/directives/artwork-drt",[],function(){function e(){function e(e){var t="";return e?(e.artist&&(t+=e.artist),e.album&&(t+=(t?" - ":"")+e.album),e.name&&(t+=(t?" - ":"")+e.name),t):t}function t(e){return e&&e.artworkUrl?e.artworkUrl:"/img/album.png"}return{restrict:"E",replace:!0,scope:{data:"="},template:'<img class="artwork" alt="{{ title }}" ng-src="{{ src }}">',link:function(n){n.$watch("data",function(i){n.title=e(i),n.src=t(i)})}}}return e}),define("common/directives/no-scroll-propagation-drt",[],function(){function e(){var e;return{restrict:"A",replace:!1,scope:!1,link:function(t,n){var i,o;n[0].onmousewheel!==e?(i="mousewheel",o=function(e){return e.wheelDelta>0}):(i="wheel",o=function(e){return e.deltaY<0}),n.on(i,function(e){var t=o(e);!t&&this.scrollTop>=this.scrollHeight-this.clientHeight?e.preventDefault():t&&0===this.scrollTop&&e.preventDefault()})}}}return e}),define("common/filters/time-flt",[],function(){function e(){function e(e){var t,n,i,o;return e?(e=parseInt(e,10),t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),i=e-3600*t-60*n,10>t&&(t="0"+t),10>n&&(n="0"+n),10>i&&(i="0"+i),o=n+":"+i,"00"!==t&&(o=t+":"+o),o):"00:00"}return e}return e}),define("common/main",["angular","./directives/artwork-drt","./directives/no-scroll-propagation-drt","./filters/time-flt"],function(e,t,n,i){return e.module("soundrocket.common",[]).directive("srArtwork",t).directive("srNoScrollPropagation",n).filter("time",i)}),define("common",["common/main"],function(e){return e}),define("artist-info/artist-info-ctrl",[],function(){function e(e,t,n){e.artist=n.getInfo(t.artist)
}return e.$inject=["$scope","$routeParams","artistInfoSrv"],e}),define("artist-info/similar-artists-ctrl",[],function(){function e(e,t,n){e.artists=n.getSimilar(t.artist)}return e.$inject=["$scope","$routeParams","artistInfoSrv"],e}),define("artist-info/top-albums-ctrl",[],function(){function e(e,t,n){e.albums=n.getTopAlbums(t.artist),e.loadAlbumTracks=function(e){e.tracks=n.getAlbumTracks(t.artist,e.name)}}return e.$inject=["$scope","$routeParams","artistInfoSrv"],e}),define("artist-info/top-tracks-ctrl",[],function(){function e(e,t,n){e.tracksActionsOptions={play:!0},e.artist=t.artist,e.tracks=n.getTopTracks(t.artist)}return e.$inject=["$scope","$routeParams","artistInfoSrv"],e}),define("artist-info/artist-info-srv",[],function(){function e(e,t){function n(n){return e.get("/api/artists/"+n,{cache:!0}).then(function(e){return e.data.bio=t.trustAsHtml(e.data.bio),e.data})}this.getInfo=function(e){return n(e).then(function(e){return{name:e.name,artworkUrl:e.artworkUrl,bio:e.bio}})},this.getSimilar=function(e){return n(e).then(function(e){return e.similarArtists})},this.getTopTracks=function(t){return e.get("/api/artists/"+t+"/tracks",{cache:!0}).then(function(e){return e.data})},this.getTopAlbums=function(t){return e.get("/api/artists/"+t+"/albums",{cache:!0}).then(function(e){return e.data})},this.getAlbumTracks=function(t,n){return e.get("/api/artists/"+t+"/albums/"+n,{cache:!0}).then(function(e){return e.data.tracks})}}return e.$inject=["$http","$sce"],e}),define("artist-info/main",["angular","./artist-info-ctrl","./similar-artists-ctrl","./top-albums-ctrl","./top-tracks-ctrl","./artist-info-srv"],function(e,t,n,i,o,a){var r=e.module("soundrocket.artist-info",[]);return r.controller("ArtistInfoCtrl",t).controller("SimilarArtistsCtrl",n).controller("TopAlbumsCtrl",i).controller("TopTracksCtrl",o).service("artistInfoSrv",a),r}),define("artist-info",["artist-info/main"],function(e){return e}),define("audio-player/audio-player-ctrl",[],function(){function e(e,t,n){function i(t){return e.song&&t&&e.song.url===t.url}function o(){var n=t.getStatus();e.song=n.song,e.isPlaying=n.isPlaying}e.song=null,e.isPlaying=null,e.shouldRepeat=!1,e.shouldOpenQueue=!1,e.$on("audioPlayer:play",function(){e.isPlaying=!0,e.song=t.getStatus().song}),e.$on("audioPlayer:pause",function(){e.isPlaying=!1}),e.$on("audioPlayer:resume",function(){e.isPlaying=!0}),e.$on("audioPlayer:stop",function(){e.isPlaying=!1,e.song=null}),e.$on("audioPlayerQueue:close",function(){e.shouldOpenQueue=!1}),e.$on("songsGroup:add",function(t,n,o){"loved"===n&&i(o)&&!e.song.loved&&(e.song.loved=!0)}),e.$on("songsGroup:remove",function(t,n,o){"loved"===n&&i(o)&&e.song.loved&&(e.song.loved=!1)}),e.previous=function(){t.previous()},e.next=function(){t.next()},e.togglePlay=function(){e.isPlaying?t.pause():t.play()},e.toggleRepeat=function(){e.shouldRepeat=!e.shouldRepeat,t.toggleRepeat(e.shouldRepeat)},e.toggleQueue=function(){e.shouldOpenQueue=!e.shouldOpenQueue,e.$broadcast("audioPlayerBar:toggleQueue",e.shouldOpenQueue)},e.toggleLoveStatus=function(){var t=n.get("loved");e.song.loved?t.remove(e.song):t.add(e.song)},o()}return e.$inject=["$scope","audioPlayerSrv","songsGroupsMdl"],e}),define("audio-player/audio-player-queue-ctrl",[],function(){function e(e,t){function n(){e.songs=t.getQueue()}function i(){e.shouldBeOpen=!1,e.songs.length=0}e.songs=null,e.shouldBeOpen=!1,e.songsActionsOptions={remove:!0,play:!1,queue:!1,filterPlaylists:!1},e.songOptions={queue:!1,remove:!0},e.$on("audioPlayer:queue",function(){e.shouldBeOpen&&n()}),e.$on("audioPlayer:dequeue",function(){e.shouldBeOpen&&n()}),e.$on("audioPlayerBar:toggleQueue",function(t,o){o?(e.shouldBeOpen=!0,n()):i()}),e.dequeue=function(e){t.dequeue(e)},e.close=function(){i(),e.$emit("audioPlayerQueue:close")}}return e.$inject=["$scope","audioPlayerSrv"],e}),define("audio-player/audio-player-srv",[],function(){function e(e,t,n){function i(t){var n=-1;return t&&(n=e.utils.indexOf(s,"url",t)),n}function o(){var e=t.getCurrentUrl();return i(e)}function a(n){var i=e.utils.indexOf(s,"url",n.url)>-1;i?t.play(n.url):l.enqueue(n).then(function(){t.play(n.url)})}function r(n){var i=e.utils.indexOf(s,"url",n.url);s.splice(i,1),t.destroySound(n.url)}var s,l=this,u=n.get("queued"),c=!1;t.on("playing",function(t){e.$apply(function(){e.$broadcast("audioPlayer:playing",t)})}),t.on("loading",function(t){e.$apply(function(){e.$broadcast("audioPlayer:loading",t)})}),t.on("play",function(t){e.$apply(function(){e.$broadcast("audioPlayer:play",t)})}),t.on("pause",function(){e.$apply(function(){e.$broadcast("audioPlayer:pause")})}),t.on("resume",function(){e.$apply(function(){e.$broadcast("audioPlayer:resume")})}),t.on("stop",function(){e.$apply(function(){e.$broadcast("audioPlayer:stop")})}),t.on("halfPlay",function(){var e=l.getStatus().song,t=n.get("mostplayed");t.add(e)}),t.on("finish",function(t){l.next(t)||(c?l.play():e.$apply(function(){e.$broadcast("audioPlayer:stop")}))}),this.getStatus=function(){var e=o(),n=null;return e>-1&&(n=s[e]),{song:n,isPlaying:t.isPlaying()}},this.getQueue=function(){return u.songs().then(function(e){return s=e,e.slice(0)})},this.enqueue=function(t){function n(){return u.add(t).then(function(t){var n,i;for(n=0,i=t.length;i>n;n++)s.push(t[n]);return e.$broadcast("audioPlayer:queue",t),t})}var i;return i=s?n():this.getQueue().then(function(){return n()})},this.dequeue=function(t){return u.remove(t).then(function(t){var n,i;for(n=0,i=t.length;i>n;n++)r(t[n]);return e.$broadcast("audioPlayer:dequeue",t),t})},this.setPosition=function(e){t.setPosition(e)},this.play=function(e){return s?e?(a(e),void 0):(t.resume()||s.length&&a(s[0]),void 0):(this.getQueue().then(function(){return e?(a(e),void 0):(s.length&&a(s[0]),void 0)}),void 0)},this.pause=function(){t.pause()},this.stop=function(){t.stop()},this.previous=function(){var e=o();return--e>-1?(a(s[e]),!0):!1},this.next=function(e){var t=e?i(e):o();return++t<s.length?(a(s[t]),!0):!1},this.toggleRepeat=function(e){c=e}}return e.$inject=["$rootScope","soundManagerSrv","songsGroupsMdl"],e}),function(){"function"==typeof define&&define.amd,define("observable",["require","exports","module"],function(e,t,n){function i(){function e(e,n){setTimeout(function(){e.apply(t,n)},0)}var t=this,n={};this.on=function(e,t){n[e]||(n[e]=[]),n[e].push(t)},this.off=function(e,t){if(n[e]){if(!t)return n[e].length=0,void 0;var i=n[e].indexOf(t);n[e].splice(i,1)}},this.trigger=function(t){var i,o,a,r,s=n[t];if(s)for(i=Array.prototype.slice.call(arguments,1),o=0,a=s.length;a>o;o++)r=s[o],r&&e(r,i)}}return n.exports=i,n.exports})}(),function(e,t){function n(n,i){function o(e){return mt.preferFlash&&lt&&!mt.ignoreFlash&&mt.flash[e]!==t&&mt.flash[e]}function a(e){return function(t){var n,i=this._s;return i&&i._a?n=e.call(this,t):(i&&i.id?mt._wD(i.id+": Ignoring "+t.type):mt._wD(xt+"Ignoring "+t.type),n=null),n}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=i||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20130512",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var r,s,l,u,c,d,f,p,h,m,g,v,y,b,x,w,$,C,k,T,S,_,E,M,P,D,N,O,L,A,q,B,j,H,F,I,R,U,W,V,z,X,Q,Y,G,J,K,Z,et,tt,nt,it,ot,at,rt,st,lt,ut,ct,dt,ft,pt,ht,mt=this,gt=null,vt=null,yt="soundManager",bt=yt+": ",xt="HTML5::",wt=navigator.userAgent,$t=e.location.href.toString(),Ct=document,kt=[],Tt=!0,St=!1,_t=!1,Et=!1,Mt=!1,Pt=!1,Dt=0,Nt=["log","info","warn","error"],Ot=8,Lt=null,At=null,qt=!1,Bt=!1,jt=0,Ht=null,Ft=[],It=null,Rt=Array.prototype.slice,Ut=!1,Wt=0,Vt=wt.match(/(ipad|iphone|ipod)/i),zt=wt.match(/android/i),Xt=wt.match(/msie/i),Qt=wt.match(/webkit/i),Yt=wt.match(/safari/i)&&!wt.match(/chrome/i),Gt=wt.match(/opera/i),Jt=wt.match(/firefox/i),Kt=wt.match(/(mobile|pre\/|xoom)/i)||Vt||zt,Zt=!$t.match(/usehtml5audio/i)&&!$t.match(/sm2\-ignorebadua/i)&&Yt&&!wt.match(/silk/i)&&wt.match(/OS X 10_6_([3-7])/i),en=e.console!==t&&console.log!==t,tn=Ct.hasFocus!==t?Ct.hasFocus():null,nn=Yt&&(Ct.hasFocus===t||!Ct.hasFocus()),on=!nn,an=/(mp3|mp4|mpa|m4a|m4b)/i,rn=1e3,sn="about:blank",ln=Ct.location?Ct.location.protocol.match(/http/i):null,un=ln?"":"http://",cn=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,dn=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],fn=new RegExp("\\.("+dn.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!ln,R={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.hasHTML5=function(){try{return Audio!==t&&(Gt&&opera!==t&&opera.version()<10?new Audio(null):new Audio).canPlayType!==t}catch(e){return!1}}(),this.setup=function(e){var n=!mt.url;return e!==t&&Et&&It&&mt.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t)&&z(H("setupLate")),g(e),e&&(n&&P&&e.url!==t&&mt.beginDelayedInit(),P||e.url===t||"complete"!==Ct.readyState||setTimeout(E,1)),mt},this.ok=function(){return It?Et&&!Mt:mt.useHTML5Audio&&mt.hasHTML5},this.supported=this.ok,this.getMovie=function(t){return s(t)||Ct[t]||e[t]},this.createSound=function(e,n){function i(){return s=W(s),mt.sounds[s.id]=new r(s),mt.soundIDs.push(s.id),mt.sounds[s.id]}var o,a,s,l=null;if(o=yt+".createSound(): ",a=o+H(Et?"notOK":"notReady"),!Et||!mt.ok())return z(a),!1;if(n!==t&&(e={id:e,url:n}),s=m(e),s.url=J(s.url),void 0===s.id&&(s.id=mt.setupOptions.idPrefix+Wt++),s.id.toString().charAt(0).match(/^[0-9]$/)&&mt._wD(o+H("badID",s.id),2),mt._wD(o+s.id+(s.url?" ("+s.url+")":""),1),X(s.id,!0))return mt._wD(o+s.id+" exists",1),mt.sounds[s.id];if(et(s))l=i(),mt._wD(s.id+": Using HTML5"),l._setup_html5(s);else{if(mt.html5Only)return mt._wD(s.id+": No HTML5 support for this sound, and no Flash. Exiting."),i();if(mt.html5.usingFlash&&s.url&&s.url.match(/data\:/i))return mt._wD(s.id+": data: URIs not supported via Flash. Exiting."),i();d>8&&(null===s.isMovieStar&&(s.isMovieStar=!!(s.serverURL||(s.type?s.type.match(cn):!1)||s.url&&s.url.match(fn))),s.isMovieStar&&(mt._wD(o+"using MovieStar handling"),s.loops>1&&p("noNSLoop"))),s=V(s,o),l=i(),8===d?vt._createSound(s.id,s.loops||1,s.usePolicyFile):(vt._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),s.serverURL||(l.connected=!0,s.onconnect&&s.onconnect.apply(l))),s.serverURL||!s.autoLoad&&!s.autoPlay||l.load(s)}return!s.serverURL&&s.autoPlay&&l.play(),l},this.destroySound=function(e,t){if(!X(e))return!1;var n,i=mt.sounds[e];for(i._iO={},i.stop(),i.unload(),n=0;n<mt.soundIDs.length;n++)if(mt.soundIDs[n]===e){mt.soundIDs.splice(n,1);break}return t||i.destruct(!0),i=null,delete mt.sounds[e],!0},this.load=function(e,t){return X(e)?mt.sounds[e].load(t):!1},this.unload=function(e){return X(e)?mt.sounds[e].unload():!1},this.onPosition=function(e,t,n,i){return X(e)?mt.sounds[e].onposition(t,n,i):!1},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,n){return X(e)?mt.sounds[e].clearOnPosition(t,n):!1},this.play=function(e,t){var n=null,i=t&&!(t instanceof Object);if(!Et||!mt.ok())return z(yt+".play(): "+H(Et?"notOK":"notReady")),!1;if(X(e,i))i&&(t={url:t});else{if(!i)return!1;i&&(t={url:t}),t&&t.url&&(mt._wD(yt+'.play(): Attempting to create "'+e+'"',1),t.id=e,n=mt.createSound(t).play())}return null===n&&(n=mt.sounds[e].play(t)),n},this.start=this.play,this.setPosition=function(e,t){return X(e)?mt.sounds[e].setPosition(t):!1},this.stop=function(e){return X(e)?(mt._wD(yt+".stop("+e+")",1),mt.sounds[e].stop()):!1},this.stopAll=function(){var e;mt._wD(yt+".stopAll()",1);for(e in mt.sounds)mt.sounds.hasOwnProperty(e)&&mt.sounds[e].stop()},this.pause=function(e){return X(e)?mt.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=mt.soundIDs.length-1;e>=0;e--)mt.sounds[mt.soundIDs[e]].pause()},this.resume=function(e){return X(e)?mt.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=mt.soundIDs.length-1;e>=0;e--)mt.sounds[mt.soundIDs[e]].resume()},this.togglePause=function(e){return X(e)?mt.sounds[e].togglePause():!1},this.setPan=function(e,t){return X(e)?mt.sounds[e].setPan(t):!1},this.setVolume=function(e,t){return X(e)?mt.sounds[e].setVolume(t):!1},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return X(e)?(mt._wD(yt+'.mute(): Muting "'+e+'"'),mt.sounds[e].mute()):!1;for(mt._wD(yt+".mute(): Muting all sounds"),t=mt.soundIDs.length-1;t>=0;t--)mt.sounds[mt.soundIDs[t]].mute();return mt.muted=!0,!0},this.muteAll=function(){mt.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return X(e)?(mt._wD(yt+'.unmute(): Unmuting "'+e+'"'),mt.sounds[e].unmute()):!1;for(mt._wD(yt+".unmute(): Unmuting all sounds"),t=mt.soundIDs.length-1;t>=0;t--)mt.sounds[mt.soundIDs[t]].unmute();return mt.muted=!1,!0},this.unmuteAll=function(){mt.unmute()},this.toggleMute=function(e){return X(e)?mt.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return vt&&8!==d&&(e=parseInt(vt._getMemoryUse(),10)),e},this.disable=function(n){var i;if(n===t&&(n=!1),Mt)return!1;for(Mt=!0,p("shutdown",1),i=mt.soundIDs.length-1;i>=0;i--)q(mt.sounds[mt.soundIDs[i]]);return h(n),rt.remove(e,"load",x),!0},this.canPlayMIME=function(e){var t;return mt.hasHTML5&&(t=tt({type:e})),!t&&It&&(t=e&&mt.ok()?!!((d>8?e.match(cn):null)||e.match(mt.mimePattern)):null),t},this.canPlayURL=function(e){var t;return mt.hasHTML5&&(t=tt({url:e})),!t&&It&&(t=e&&mt.ok()?!!e.match(mt.filePattern):null),t},this.canPlayLink=function(e){return e.type!==t&&e.type&&mt.canPlayMIME(e.type)?!0:mt.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var n=mt.sounds[e];return n||t||mt._wD(yt+'.getSoundById(): Sound "'+e+'" not found.',2),n},this.onready=function(t,n){var i="onready",o=!1;if("function"!=typeof t)throw H("needFunction",i);return Et&&mt._wD(H("queue",i)),n||(n=e),y(i,t,n),b(),o=!0,o},this.ontimeout=function(t,n){var i="ontimeout",o=!1;if("function"!=typeof t)throw H("needFunction",i);return Et&&mt._wD(H("queue",i)),n||(n=e),y(i,t,n),b({type:i}),o=!0,o},this._writeDebug=function(e,n){var i,o,a="soundmanager-debug";return mt.debugMode?en&&mt.useConsole&&(n&&"object"==typeof n?console.log(e,n):Nt[n]!==t?console[Nt[n]](e):console.log(e),mt.consoleOnly)?!0:(i=s(a))?(o=Ct.createElement("div"),0===++Dt%2&&(o.className="sm2-alt"),n=n===t?0:parseInt(n,10),o.appendChild(Ct.createTextNode(e)),n&&(n>=2&&(o.style.fontWeight="bold"),3===n&&(o.style.color="#ff3333")),i.insertBefore(o,i.firstChild),i=null,!0):!1:!1},-1!==$t.indexOf("sm2-debug=alert")&&(this._writeDebug=function(t){e.alert(t)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(p("currentObj",1),e=0,t=mt.soundIDs.length;t>e;e++)mt.sounds[mt.soundIDs[e]]._debug()},this.reboot=function(t,n){mt.soundIDs.length&&mt._wD("Destroying "+mt.soundIDs.length+" SMSound object"+(1!==mt.soundIDs.length?"s":"")+"...");var i,o,a;for(i=mt.soundIDs.length-1;i>=0;i--)mt.sounds[mt.soundIDs[i]].destruct();if(vt)try{Xt&&(At=vt.innerHTML),Lt=vt.parentNode.removeChild(vt)}catch(r){p("badRemove",2)}if(At=Lt=It=vt=null,mt.enabled=P=Et=qt=Bt=St=_t=Mt=Ut=mt.swfLoaded=!1,mt.soundIDs=[],mt.sounds={},Wt=0,t)kt=[];else for(i in kt)if(kt.hasOwnProperty(i))for(o=0,a=kt[i].length;a>o;o++)kt[i][o].fired=!1;return n||mt._wD(yt+": Rebooting..."),mt.html5={usingFlash:null},mt.flash={},mt.html5Only=!1,mt.ignoreFlash=!1,e.setTimeout(function(){_(),n||mt.beginDelayedInit()},20),mt},this.reset=function(){return p("reset"),mt.reboot(!0,!0)},this.getMoviePercent=function(){return vt&&"PercentLoaded"in vt?vt.PercentLoaded():null},this.beginDelayedInit=function(){Pt=!0,E(),setTimeout(function(){return Bt?!1:(N(),S(),Bt=!0,!0)},20),w()},this.destruct=function(){mt._wD(yt+".destruct()"),mt.disable(!0)},r=function(e){var n,i,o,a,r,s,l,u,c,h,g=this,v=!1,y=[],b=0,x=null;c={duration:null,time:null},this.id=e.id,this.sID=this.id,this.url=e.url,this.options=m(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,h=this.url?!1:!0,this.id3={},this._debug=function(){mt._wD(g.id+": Merged options:",g.options)},this.load=function(e){var n,i=null;if(e!==t?g._iO=m(e,g.options):(e=g.options,g._iO=e,x&&x!==g.url&&(p("manURL"),g._iO.url=g.url,g.url=null)),g._iO.url||(g._iO.url=g.url),g._iO.url=J(g._iO.url),g.instanceOptions=g._iO,n=g._iO,mt._wD(g.id+": load ("+n.url+")"),!n.url&&!g.url)return mt._wD(g.id+": load(): url is unassigned. Exiting.",2),g;if(g.isHTML5||8!==d||g.url||n.autoPlay||mt._wD(g.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),n.url===g.url&&0!==g.readyState&&2!==g.readyState)return p("onURL",1),3===g.readyState&&n.onload&&ht(g,function(){n.onload.apply(g,[!!g.duration])}),g;if(g.loaded=!1,g.readyState=1,g.playState=0,g.id3={},et(n))i=g._setup_html5(n),i._called_load?mt._wD(g.id+": Ignoring request to load again"):(g._html5_canplay=!1,g.url!==n.url&&(mt._wD(p("manURL")+": "+n.url),g._a.src=n.url,g.setPosition(0)),g._a.autobuffer="auto",g._a.preload="auto",g._a._called_load=!0,n.autoPlay&&g.play());else{if(mt.html5Only)return mt._wD(g.id+": No flash support. Exiting."),g;if(g._iO.url&&g._iO.url.match(/data\:/i))return mt._wD(g.id+": data: URIs not supported via Flash. Exiting."),g;try{g.isHTML5=!1,g._iO=V(W(n)),n=g._iO,8===d?vt._load(g.id,n.url,n.stream,n.autoPlay,n.usePolicyFile):vt._load(g.id,n.url,!!n.stream,!!n.autoPlay,n.loops||1,!!n.autoLoad,n.usePolicyFile)}catch(o){p("smError",2),f("onload",!1),O({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return g.url=n.url,g},this.unload=function(){return 0!==g.readyState&&(mt._wD(g.id+": unload()"),g.isHTML5?(a(),g._a&&(g._a.pause(),x=it(g._a))):8===d?vt._unload(g.id,sn):vt._unload(g.id),n()),g},this.destruct=function(e){mt._wD(g.id+": Destruct"),g.isHTML5?(a(),g._a&&(g._a.pause(),it(g._a),Ut||o(),g._a._s=null,g._a=null)):(g._iO.onfailure=null,vt._destroySound(g.id)),e||mt.destroySound(g.id,!0)},this.play=function(e,n){var i,o,a,l,c,f,p,y=!0,b=null;if(i=g.id+": play(): ",n=n===t?!0:n,e||(e={}),g.url&&(g._iO.url=g.url),g._iO=m(g._iO,g.options),g._iO=m(e,g._iO),g._iO.url=J(g._iO.url),g.instanceOptions=g._iO,!g.isHTML5&&g._iO.serverURL&&!g.connected)return g.getAutoPlay()||(mt._wD(i+" Netstream not connected yet - setting autoPlay"),g.setAutoPlay(!0)),g;if(et(g._iO)&&(g._setup_html5(g._iO),r()),1!==g.playState||g.paused||(o=g._iO.multiShot,o?mt._wD(i+"Already playing (multi-shot)",1):(mt._wD(i+"Already playing (one-shot)",1),g.isHTML5&&g.setPosition(g._iO.position),b=g)),null!==b)return b;if(e.url&&e.url!==g.url&&(g.readyState||g.isHTML5||8!==d||!h?g.load(g._iO):h=!1),g.loaded?mt._wD(i.substr(0,i.lastIndexOf(":"))):0===g.readyState?(mt._wD(i+"Attempting to load"),g.isHTML5||mt.html5Only?g.isHTML5?g.load(g._iO):(mt._wD(i+"Unsupported type. Exiting."),b=g):(g._iO.autoPlay=!0,g.load(g._iO)),g.instanceOptions=g._iO):2===g.readyState?(mt._wD(i+"Could not load - exiting",2),b=g):mt._wD(i+"Loading - attempting to play..."),null!==b)return b;if(!g.isHTML5&&9===d&&g.position>0&&g.position===g.duration&&(mt._wD(i+"Sound at end, resetting to position:0"),e.position=0),g.paused&&g.position>=0&&(!g._iO.serverURL||g.position>0))mt._wD(i+"Resuming from paused state",1),g.resume();else{if(g._iO=m(e,g._iO),null!==g._iO.from&&null!==g._iO.to&&0===g.instanceCount&&0===g.playState&&!g._iO.serverURL){if(l=function(){g._iO=m(e,g._iO),g.play(g._iO)},g.isHTML5&&!g._html5_canplay?(mt._wD(i+"Beginning load for from/to case"),g.load({oncanplay:l}),b=!1):g.isHTML5||g.loaded||g.readyState&&2===g.readyState||(mt._wD(i+"Preloading for from/to case"),g.load({onload:l}),b=!1),null!==b)return b;g._iO=u()}(!g.instanceCount||g._iO.multiShotEvents||g.isHTML5&&g._iO.multiShot&&!Ut||!g.isHTML5&&d>8&&!g.getAutoPlay())&&g.instanceCount++,g._iO.onposition&&0===g.playState&&s(g),g.playState=1,g.paused=!1,g.position=g._iO.position===t||isNaN(g._iO.position)?0:g._iO.position,g.isHTML5||(g._iO=V(W(g._iO))),g._iO.onplay&&n&&(g._iO.onplay.apply(g),v=!0),g.setVolume(g._iO.volume,!0),g.setPan(g._iO.pan,!0),g.isHTML5?g.instanceCount<2?(r(),a=g._setup_html5(),g.setPosition(g._iO.position),a.play()):(mt._wD(g.id+": Cloning Audio() for instance #"+g.instanceCount+"..."),c=new Audio(g._iO.url),f=function(){rt.remove(c,"onended",f),g._onfinish(g),it(c),c=null},p=function(){rt.remove(c,"canplay",p);try{c.currentTime=g._iO.position/rn}catch(e){z(g.id+": multiShot play() failed to apply position of "+g._iO.position/rn)}c.play()},rt.add(c,"ended",f),g._iO.position?rt.add(c,"canplay",p):c.play()):(y=vt._start(g.id,g._iO.loops||1,9===d?g.position:g.position/rn,g._iO.multiShot||!1),9!==d||y||(mt._wD(i+"No sound hardware, or 32-sound ceiling hit",2),g._iO.onplayerror&&g._iO.onplayerror.apply(g)))}return g},this.start=this.play,this.stop=function(e){var t,n=g._iO;return 1===g.playState&&(mt._wD(g.id+": stop()"),g._onbufferchange(0),g._resetOnPosition(0),g.paused=!1,g.isHTML5||(g.playState=0),l(),n.to&&g.clearOnPosition(n.to),g.isHTML5?g._a&&(t=g.position,g.setPosition(0),g.position=t,g._a.pause(),g.playState=0,g._onTimer(),a()):(vt._stop(g.id,e),n.serverURL&&g.unload()),g.instanceCount=0,g._iO={},n.onstop&&n.onstop.apply(g)),g},this.setAutoPlay=function(e){mt._wD(g.id+": Autoplay turned "+(e?"on":"off")),g._iO.autoPlay=e,g.isHTML5||(vt._setAutoPlay(g.id,e),e&&(g.instanceCount||1!==g.readyState||(g.instanceCount++,mt._wD(g.id+": Incremented instance count to "+g.instanceCount))))},this.getAutoPlay=function(){return g._iO.autoPlay},this.setPosition=function(e){e===t&&(e=0);var n,i,o=g.isHTML5?Math.max(e,0):Math.min(g.duration||g._iO.duration,Math.max(e,0));if(g.position=o,i=g.position/rn,g._resetOnPosition(g.position),g._iO.position=o,g.isHTML5){if(g._a){if(g._html5_canplay){if(g._a.currentTime!==i){mt._wD(g.id+": setPosition("+i+")");try{g._a.currentTime=i,(0===g.playState||g.paused)&&g._a.pause()}catch(a){mt._wD(g.id+": setPosition("+i+") failed: "+a.message,2)}}}else if(i)return mt._wD(g.id+": setPosition("+i+"): Cannot seek yet, sound not ready",2),g;g.paused&&g._onTimer(!0)}}else n=9===d?g.position:i,g.readyState&&2!==g.readyState&&vt._setPosition(g.id,n,g.paused||!g.playState,g._iO.multiShot);return g},this.pause=function(e){return g.paused||0===g.playState&&1!==g.readyState?g:(mt._wD(g.id+": pause()"),g.paused=!0,g.isHTML5?(g._setup_html5().pause(),a()):(e||e===t)&&vt._pause(g.id,g._iO.multiShot),g._iO.onpause&&g._iO.onpause.apply(g),g)},this.resume=function(){var e=g._iO;return g.paused?(mt._wD(g.id+": resume()"),g.paused=!1,g.playState=1,g.isHTML5?(g._setup_html5().play(),r()):(e.isMovieStar&&!e.serverURL&&g.setPosition(g.position),vt._pause(g.id,e.multiShot)),!v&&e.onplay?(e.onplay.apply(g),v=!0):e.onresume&&e.onresume.apply(g),g):g},this.togglePause=function(){return mt._wD(g.id+": togglePause()"),0===g.playState?(g.play({position:9!==d||g.isHTML5?g.position/rn:g.position}),g):(g.paused?g.resume():g.pause(),g)},this.setPan=function(e,n){return e===t&&(e=0),n===t&&(n=!1),g.isHTML5||vt._setPan(g.id,e),g._iO.pan=e,n||(g.pan=e,g.options.pan=e),g},this.setVolume=function(e,n){return e===t&&(e=100),n===t&&(n=!1),g.isHTML5?g._a&&(g._a.volume=Math.max(0,Math.min(1,e/100))):vt._setVolume(g.id,mt.muted&&!g.muted||g.muted?0:e),g._iO.volume=e,n||(g.volume=e,g.options.volume=e),g},this.mute=function(){return g.muted=!0,g.isHTML5?g._a&&(g._a.muted=!0):vt._setVolume(g.id,0),g},this.unmute=function(){g.muted=!1;var e=g._iO.volume!==t;return g.isHTML5?g._a&&(g._a.muted=!1):vt._setVolume(g.id,e?g._iO.volume:g.options.volume),g},this.toggleMute=function(){return g.muted?g.unmute():g.mute()},this.onPosition=function(e,n,i){return y.push({position:parseInt(e,10),method:n,scope:i!==t?i:g,fired:!1}),g},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),isNaN(e))return!1;for(n=0;n<y.length;n++)e===y[n].position&&(t&&t!==y[n].method||(y[n].fired&&b--,y.splice(n,1)))},this._processOnPosition=function(){var e,t,n=y.length;if(!n||!g.playState||b>=n)return!1;for(e=n-1;e>=0;e--)t=y[e],!t.fired&&g.position>=t.position&&(t.fired=!0,b++,t.method.apply(t.scope,[t.position]));return!0},this._resetOnPosition=function(e){var t,n,i=y.length;if(!i)return!1;for(t=i-1;t>=0;t--)n=y[t],n.fired&&e<=n.position&&(n.fired=!1,b--);return!0},u=function(){var e,t,n=g._iO,i=n.from,o=n.to;return t=function(){mt._wD(g.id+': "To" time of '+o+" reached."),g.clearOnPosition(o,t),g.stop()},e=function(){mt._wD(g.id+': Playing "from" '+i),null===o||isNaN(o)||g.onPosition(o,t)},null===i||isNaN(i)||(n.position=i,n.multiShot=!1,e()),n},s=function(){var e,t=g._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&g.onPosition(parseInt(e,10),t[e])},l=function(){var e,t=g._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&g.clearOnPosition(parseInt(e,10))},r=function(){g.isHTML5&&Q(g)},a=function(){g.isHTML5&&Y(g)},n=function(e){e||(y=[],b=0),v=!1,g._hasTimer=null,g._a=null,g._html5_canplay=!1,g.bytesLoaded=null,g.bytesTotal=null,g.duration=g._iO&&g._iO.duration?g._iO.duration:null,g.durationEstimate=null,g.buffered=[],g.eqData=[],g.eqData.left=[],g.eqData.right=[],g.failures=0,g.isBuffering=!1,g.instanceOptions={},g.instanceCount=0,g.loaded=!1,g.metadata={},g.readyState=0,g.muted=!1,g.paused=!1,g.peakData={left:0,right:0},g.waveformData={left:[],right:[]},g.playState=0,g.position=null,g.id3={}},n(),this._onTimer=function(e){var t,n,i=!1,o={};return g._hasTimer||e?(g._a&&(e||(g.playState>0||1===g.readyState)&&!g.paused)&&(t=g._get_html5_duration(),t!==c.duration&&(c.duration=t,g.duration=t,i=!0),g.durationEstimate=g.duration,n=g._a.currentTime*rn||0,n!==c.time&&(c.time=n,i=!0),(i||e)&&g._whileplaying(n,o,o,o,o)),i):void 0},this._get_html5_duration=function(){var e=g._iO,t=g._a&&g._a.duration?g._a.duration*rn:e&&e.duration?e.duration:null,n=t&&!isNaN(t)&&1/0!==t?t:null;return n},this._apply_loop=function(e,t){!e.loop&&t>1&&mt._wD("Note: Native HTML5 looping is infinite.",1),e.loop=t>1?"loop":""},this._setup_html5=function(e){var t,o=m(g._iO,e),a=Ut?gt:g._a,r=decodeURI(o.url);if(Ut?r===decodeURI(st)&&(t=!0):r===decodeURI(x)&&(t=!0),a){if(a._s)if(Ut)a._s&&a._s.playState&&!t&&a._s.stop();else if(!Ut&&r===decodeURI(x))return g._apply_loop(a,o.loops),a;t||(n(!1),a.src=o.url,g.url=o.url,x=o.url,st=o.url,a._called_load=!1)}else g._a=o.autoLoad||o.autoPlay?new Audio(o.url):Gt&&opera.version()<10?new Audio(null):new Audio,a=g._a,a._called_load=!1,Ut&&(gt=a);return g.isHTML5=!0,g._a=a,a._s=g,i(),g._apply_loop(a,o.loops),o.autoLoad||o.autoPlay?g.load():(a.autobuffer=!1,a.preload="auto"),a},i=function(){function e(e,t,n){return g._a?g._a.addEventListener(e,t,n||!1):null}if(g._a._added_events)return!1;var t;g._a._added_events=!0;for(t in dt)dt.hasOwnProperty(t)&&e(t,dt[t]);return!0},o=function(){function e(e,t,n){return g._a?g._a.removeEventListener(e,t,n||!1):null}var t;mt._wD(g.id+": Removing event listeners"),g._a._added_events=!1;for(t in dt)dt.hasOwnProperty(t)&&e(t,dt[t])},this._onload=function(e){var t,n=!!e||!g.isHTML5&&8===d&&g.duration;return t=g.id+": ",mt._wD(t+(n?"onload()":"Failed to load / invalid sound?"+(g.duration?" -":" Zero-length duration reported.")+" ("+g.url+")"),n?1:2),n||g.isHTML5||(mt.sandbox.noRemote===!0&&mt._wD(t+H("noNet"),1),mt.sandbox.noLocal===!0&&mt._wD(t+H("noLocal"),1)),g.loaded=n,g.readyState=n?3:2,g._onbufferchange(0),g._iO.onload&&ht(g,function(){g._iO.onload.apply(g,[n])}),!0},this._onbufferchange=function(e){return 0===g.playState?!1:e&&g.isBuffering||!e&&!g.isBuffering?!1:(g.isBuffering=1===e,g._iO.onbufferchange&&(mt._wD(g.id+": Buffer state change: "+e),g._iO.onbufferchange.apply(g)),!0)},this._onsuspend=function(){return g._iO.onsuspend&&(mt._wD(g.id+": Playback suspended"),g._iO.onsuspend.apply(g)),!0},this._onfailure=function(e,t,n){g.failures++,mt._wD(g.id+": Failures = "+g.failures),g._iO.onfailure&&1===g.failures?g._iO.onfailure(g,e,t,n):mt._wD(g.id+": Ignoring failure")},this._onfinish=function(){var e=g._iO.onfinish;g._onbufferchange(0),g._resetOnPosition(0),g.instanceCount&&(g.instanceCount--,g.instanceCount||(l(),g.playState=0,g.paused=!1,g.instanceCount=0,g.instanceOptions={},g._iO={},a(),g.isHTML5&&(g.position=0)),(!g.instanceCount||g._iO.multiShotEvents)&&e&&(mt._wD(g.id+": onfinish()"),ht(g,function(){e.apply(g)})))},this._whileloading=function(e,t,n,i){var o=g._iO;g.bytesLoaded=e,g.bytesTotal=t,g.duration=Math.floor(n),g.bufferLength=i,g.durationEstimate=g.isHTML5||o.isMovieStar?g.duration:o.duration?g.duration>o.duration?g.duration:o.duration:parseInt(g.bytesTotal/g.bytesLoaded*g.duration,10),g.isHTML5||(g.buffered=[{start:0,end:g.duration}]),(3!==g.readyState||g.isHTML5)&&o.whileloading&&o.whileloading.apply(g)},this._whileplaying=function(e,n,i,o,a){var r,s=g._iO;return isNaN(e)||null===e?!1:(g.position=Math.max(0,e),g._processOnPosition(),!g.isHTML5&&d>8&&(s.usePeakData&&n!==t&&n&&(g.peakData={left:n.leftPeak,right:n.rightPeak}),s.useWaveformData&&i!==t&&i&&(g.waveformData={left:i.split(","),right:o.split(",")}),s.useEQData&&a!==t&&a&&a.leftEQ&&(r=a.leftEQ.split(","),g.eqData=r,g.eqData.left=r,a.rightEQ!==t&&a.rightEQ&&(g.eqData.right=a.rightEQ.split(",")))),1===g.playState&&(g.isHTML5||8!==d||g.position||!g.isBuffering||g._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(g)),!0)},this._oncaptiondata=function(e){mt._wD(g.id+": Caption data received."),g.captiondata=e,g._iO.oncaptiondata&&g._iO.oncaptiondata.apply(g,[e])},this._onmetadata=function(e,t){mt._wD(g.id+": Metadata received.");var n,i,o={};for(n=0,i=e.length;i>n;n++)o[e[n]]=t[n];g.metadata=o,g._iO.onmetadata&&g._iO.onmetadata.apply(g)},this._onid3=function(e,t){mt._wD(g.id+": ID3 data received.");var n,i,o=[];for(n=0,i=e.length;i>n;n++)o[e[n]]=t[n];g.id3=m(g.id3,o),g._iO.onid3&&g._iO.onid3.apply(g)},this._onconnect=function(e){e=1===e,mt._wD(g.id+": "+(e?"Connected.":"Failed to connect? - "+g.url),e?1:2),g.connected=e,e&&(g.failures=0,X(g.id)&&(g.getAutoPlay()?g.play(t,g.getAutoPlay()):g._iO.autoLoad&&g.load()),g._iO.onconnect&&g._iO.onconnect.apply(g,[e]))
},this._ondataerror=function(e){g.playState>0&&(mt._wD(g.id+": Data error: "+e),g._iO.ondataerror&&g._iO.ondataerror.apply(g))},this._debug()},D=function(){return Ct.body||Ct._docElement||Ct.getElementsByTagName("div")[0]},s=function(e){return Ct.getElementById(e)},m=function(e,n){var i,o,a=e||{};i=n===t?mt.defaultOptions:n;for(o in i)i.hasOwnProperty(o)&&a[o]===t&&(a[o]="object"!=typeof i[o]||null===i[o]?i[o]:m(a[o],i[o]));return a},ht=function(t,n){t.isHTML5||8!==d?n():e.setTimeout(n,0)},v={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},g=function(e,n){var i,o=!0,a=n!==t,r=mt.setupOptions,s=v;if(e===t){o=[];for(i in r)r.hasOwnProperty(i)&&o.push(i);for(i in s)s.hasOwnProperty(i)&&("object"==typeof mt[i]?o.push(i+": {...}"):mt[i]instanceof Function?o.push(i+": function() {...}"):o.push(i));return mt._wD(H("setup",o.join(", "))),!1}for(i in e)if(e.hasOwnProperty(i))if("object"!=typeof e[i]||null===e[i]||e[i]instanceof Array||e[i]instanceof RegExp)a&&s[n]!==t?mt[n][i]=e[i]:r[i]!==t?(mt.setupOptions[i]=e[i],mt[i]=e[i]):s[i]===t?(z(H(mt[i]===t?"setupUndef":"setupError",i),2),o=!1):mt[i]instanceof Function?mt[i].apply(mt,e[i]instanceof Array?e[i]:[e[i]]):mt[i]=e[i];else{if(s[i]!==t)return g(e[i],i);z(H(mt[i]===t?"setupUndef":"setupError",i),2),o=!1}return o},rt=function(){function t(e){var t=Rt.call(e),n=t.length;return a?(t[1]="on"+t[1],n>3&&t.pop()):3===n&&t.push(!1),t}function n(e,t){var n=e.shift(),i=[r[t]];a?n[i](e[0],e[1]):n[i].apply(n,e)}function i(){n(t(arguments),"add")}function o(){n(t(arguments),"remove")}var a=e.attachEvent,r={add:a?"attachEvent":"addEventListener",remove:a?"detachEvent":"removeEventListener"};return{add:i,remove:o}}(),dt={abort:a(function(){mt._wD(this._s.id+": abort")}),canplay:a(function(){var e,n=this._s;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,mt._wD(n.id+": canplay"),n._onbufferchange(0),e=n._iO.position===t||isNaN(n._iO.position)?null:n._iO.position/rn,n.position&&this.currentTime!==e){mt._wD(n.id+": canplay: Setting position to "+e);try{this.currentTime=e}catch(i){mt._wD(n.id+": canplay: Setting position of "+e+" failed: "+i.message,2)}}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:a(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:a(function(){var e=this._s;mt._wD(e.id+": ended"),e._onfinish()}),error:a(function(){mt._wD(this._s.id+": HTML5 error, code "+this.error.code),this._s._onload(!1)}),loadeddata:a(function(){var e=this._s;mt._wD(e.id+": loadeddata"),e._loaded||Yt||(e.duration=e._get_html5_duration())}),loadedmetadata:a(function(){mt._wD(this._s.id+": loadedmetadata")}),loadstart:a(function(){mt._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:a(function(){this._s._onbufferchange(0)}),playing:a(function(){mt._wD(this._s.id+": playing"),this._s._onbufferchange(0)}),progress:a(function(e){var t,n,i,o=this._s,a=0,r="progress"===e.type,s=e.target.buffered,l=e.loaded||0,u=e.total||1;if(o.buffered=[],s&&s.length){for(t=0,n=s.length;n>t;t++)o.buffered.push({start:s.start(t)*rn,end:s.end(t)*rn});if(a=(s.end(0)-s.start(0))*rn,l=Math.min(1,a/(e.target.duration*rn)),r&&s.length>1){for(i=[],n=s.length,t=0;n>t;t++)i.push(e.target.buffered.start(t)*rn+"-"+e.target.buffered.end(t)*rn);mt._wD(this._s.id+": progress, timeRanges: "+i.join(", "))}r&&!isNaN(l)&&mt._wD(this._s.id+": progress, "+Math.floor(100*l)+"% loaded")}isNaN(l)||(o._onbufferchange(0),o._whileloading(l,u,o._get_html5_duration()),l&&u&&l===u&&dt.canplaythrough.call(this,e))}),ratechange:a(function(){mt._wD(this._s.id+": ratechange")}),suspend:a(function(e){var t=this._s;mt._wD(this._s.id+": suspend"),dt.progress.call(this,e),t._onsuspend()}),stalled:a(function(){mt._wD(this._s.id+": stalled")}),timeupdate:a(function(){this._s._onTimer()}),waiting:a(function(){var e=this._s;mt._wD(this._s.id+": waiting"),e._onbufferchange(1)})},et=function(e){var t;return t=e&&(e.type||e.url||e.serverURL)?e.serverURL||e.type&&o(e.type)?!1:e.type?tt({type:e.type}):tt({url:e.url})||mt.html5Only||e.url.match(/data\:/i):!1},it=function(e){var t;return e&&(t=Yt&&!Vt?null:Jt?sn:null,e.src=t,void 0!==e._called_unload&&(e._called_load=!1)),Ut&&(st=null),t},tt=function(e){if(!mt.useHTML5Audio||!mt.hasHTML5)return!1;var n,i,a,r,s=e.url||null,l=e.type||null,u=mt.audioFormats;if(l&&mt.html5[l]!==t)return mt.html5[l]&&!o(l);if(!nt){nt=[];for(r in u)u.hasOwnProperty(r)&&(nt.push(r),u[r].related&&(nt=nt.concat(u[r].related)));nt=new RegExp("\\.("+nt.join("|")+")(\\?.*)?$","i")}return a=s?s.toLowerCase().match(nt):null,a&&a.length?a=a[1]:l?(i=l.indexOf(";"),a=(-1!==i?l.substr(0,i):l).substr(6)):n=!1,a&&mt.html5[a]!==t?n=mt.html5[a]&&!o(a):(l="audio/"+a,n=mt.html5.canPlayType({type:l}),mt.html5[a]=n,n=n&&mt.html5[l]&&!o(l)),n},at=function(){function e(e){var t,n,i,o=!1,a=!1;if(!r||"function"!=typeof r.canPlayType)return o;if(e instanceof Array){for(n=0,i=e.length;i>n;n++)(mt.html5[e[n]]||r.canPlayType(e[n]).match(mt.html5Test))&&(a=!0,mt.html5[e[n]]=!0,mt.flash[e[n]]=!!e[n].match(an));o=a}else t=r&&"function"==typeof r.canPlayType?r.canPlayType(e):!1,o=!(!t||!t.match(mt.html5Test));return o}if(!mt.useHTML5Audio||!mt.hasHTML5)return mt.html5.usingFlash=!0,It=!0,!1;var n,i,o,a,r=Audio!==t?Gt&&opera.version()<10?new Audio(null):new Audio:null,s={};o=mt.audioFormats;for(n in o)if(o.hasOwnProperty(n)&&(i="audio/"+n,s[n]=e(o[n].type),s[i]=s[n],n.match(an)?(mt.flash[n]=!0,mt.flash[i]=!0):(mt.flash[n]=!1,mt.flash[i]=!1),o[n]&&o[n].related))for(a=o[n].related.length-1;a>=0;a--)s["audio/"+o[n].related[a]]=s[n],mt.html5[o[n].related[a]]=s[n],mt.flash[o[n].related[a]]=s[n];return s.canPlayType=r?e:null,mt.html5=m(mt.html5,s),mt.html5.usingFlash=Z(),It=mt.html5.usingFlash,!0},T={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:yt+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:bt+"Verify that %s is a valid path.",tryDebug:"Try "+yt+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:bt+"Non-HTTP page ("+Ct.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:bt+"Special case: Waiting for SWF to load with window focus...",waitForever:bt+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:bt+"Waiting for 100% SWF load...",needFunction:bt+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:bt+"_debug(): Current sound objects",waitOnload:bt+"Waiting for window.onload()",docLoaded:bt+"Document already loaded",onload:bt+"initComplete(): calling soundManager.onload()",onloadOK:yt+".onload() complete",didInit:bt+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:bt+"Failed to remove Flash node.",shutdown:yt+".disable(): Shutting down",queue:bt+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+R.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:bt+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:yt+".load(): current URL already assigned.",badFV:yt+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:bt+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:bt+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:yt+".setup(): allowed parameters: %s",setupError:yt+'.setup(): "%s" cannot be assigned with this method.',setupUndef:yt+'.setup(): Could not find option "%s"',setupLate:yt+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:bt+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready.",reset:yt+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."},H=function(){var e,t,n=Rt.call(arguments),i=n.shift(),o=T&&T[i]?T[i]:"";if(o&&n&&n.length)for(e=0,t=n.length;t>e;e++)o=o.replace("%s",n[e]);return o},W=function(e){return 8===d&&e.loops>1&&e.stream&&(p("as2loop"),e.stream=!1),e},V=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(mt._wD((t||"")+H("policy")),e.usePolicyFile=!0),e},z=function(e){en&&console.warn!==t?console.warn(e):mt._wD(e)},l=function(){return!1},q=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=l);t=null},B=function(e){e===t&&(e=!1),(Mt||e)&&mt.disable(e)},j=function(e){var t,n=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(n=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+mt.movieURL,mt.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},C=function(){d=parseInt(mt.flashVersion,10),8!==d&&9!==d&&(mt._wD(H("badFV",d,Ot)),mt.flashVersion=d=Ot);var e=mt.debugMode||mt.debugFlash?"_debug.swf":".swf";mt.useHTML5Audio&&!mt.html5Only&&mt.audioFormats.mp4.required&&9>d&&(mt._wD(H("needfl9")),mt.flashVersion=d=9),mt.version=mt.versionNumber+(mt.html5Only?" (HTML5-only mode)":9===d?" (AS3/Flash 9)":" (AS2/Flash 8)"),d>8?(mt.defaultOptions=m(mt.defaultOptions,mt.flash9Options),mt.features.buffering=!0,mt.defaultOptions=m(mt.defaultOptions,mt.movieStarOptions),mt.filePatterns.flash9=new RegExp("\\.(mp3|"+dn.join("|")+")(\\?.*)?$","i"),mt.features.movieStar=!0):mt.features.movieStar=!1,mt.filePattern=mt.filePatterns[8!==d?"flash9":"flash8"],mt.movieURL=(8===d?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),mt.features.peakData=mt.features.waveformData=mt.features.eqData=d>8},L=function(e,t){return vt?(vt._setPolling(e,t),void 0):!1},A=function(){if(mt.debugURLParam.test($t)&&(mt.debugMode=!0),s(mt.debugID))return!1;var e,t,n,i,o;if(!(!mt.debugMode||s(mt.debugID)||en&&mt.useConsole&&mt.consoleOnly)){e=Ct.createElement("div"),e.id=mt.debugID+"-toggle",i={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(Ct.createTextNode("-")),e.onclick=U,e.title="Toggle SM2 debug console",wt.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand");for(o in i)i.hasOwnProperty(o)&&(e.style[o]=i[o]);if(t=Ct.createElement("div"),t.id=mt.debugID,t.style.display=mt.debugMode?"block":"none",mt.debugMode&&!s(e.id)){try{n=D(),n.appendChild(e)}catch(a){throw new Error(H("domError")+" \n"+a.toString())}n.appendChild(t)}}n=null},X=this.getSoundById,p=function(e,t){return e?mt._wD(H(e),t):""},U=function(){var e=s(mt.debugID),t=s(mt.debugID+"-toggle");return e?(Tt?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),Tt=!Tt,void 0):!1},f=function(n,i,o){if(e.sm2Debugger!==t)try{sm2Debugger.handleEvent(n,i,o)}catch(a){return!1}return!0},I=function(){var e=[];return mt.debugMode&&e.push(R.sm2Debug),mt.debugFlash&&e.push(R.flashDebug),mt.useHighPerformance&&e.push(R.highPerf),e.join(" ")},F=function(){var e=H("fbHandler"),t=mt.getMoviePercent(),n=R,i={type:"FLASHBLOCK"};return mt.html5Only?!1:(mt.ok()?(mt.didFlashBlock&&mt._wD(e+": Unblocked"),mt.oMC&&(mt.oMC.className=[I(),n.swfDefault,n.swfLoaded+(mt.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(It&&(mt.oMC.className=I()+" "+n.swfDefault+" "+(null===t?n.swfTimedout:n.swfError),mt._wD(e+": "+H("fbTimeout")+(t?" ("+H("fbLoaded")+")":""))),mt.didFlashBlock=!0,b({type:"ontimeout",ignoreInit:!0,error:i}),O(i)),void 0)},y=function(e,n,i){kt[e]===t&&(kt[e]=[]),kt[e].push({method:n,scope:i||null,fired:!1})},b=function(e){if(e||(e={type:mt.ok()?"onready":"ontimeout"}),!Et&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(mt.ok()||Mt&&!e.ignoreInit))return!1;var t,n,i={success:e&&e.ignoreInit?mt.ok():!Mt},o=e&&e.type?kt[e.type]||[]:[],a=[],r=[i],s=It&&!mt.ok();for(e.error&&(r[0].error=e.error),t=0,n=o.length;n>t;t++)o[t].fired!==!0&&a.push(o[t]);if(a.length)for(t=0,n=a.length;n>t;t++)a[t].scope?a[t].method.apply(a[t].scope,r):a[t].method.apply(this,r),s||(a[t].fired=!0);return!0},x=function(){e.setTimeout(function(){mt.useFlashBlock&&F(),b(),"function"==typeof mt.onload&&(p("onload",1),mt.onload.apply(e),p("onloadOK",1)),mt.waitForWindowLoad&&rt.add(e,"load",x)},1)},ut=function(){if(lt!==t)return lt;var n,i,o,a=!1,r=navigator,s=r.plugins,l=e.ActiveXObject;if(s&&s.length)i="application/x-shockwave-flash",o=r.mimeTypes,o&&o[i]&&o[i].enabledPlugin&&o[i].enabledPlugin.description&&(a=!0);else if(l!==t&&!wt.match(/MSAppHost/i)){try{n=new l("ShockwaveFlash.ShockwaveFlash")}catch(u){n=null}a=!!n,n=null}return lt=a,a},Z=function(){var e,t,n=mt.audioFormats,i=Vt&&!!wt.match(/os (1|2|3_0|3_1)/i);if(i?(mt.hasHTML5=!1,mt.html5Only=!0,mt.oMC&&(mt.oMC.style.display="none")):mt.useHTML5Audio&&(mt.html5&&mt.html5.canPlayType||(mt._wD("SoundManager: No HTML5 Audio() support detected."),mt.hasHTML5=!1),Zt&&mt._wD(bt+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(lt?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),mt.useHTML5Audio&&mt.hasHTML5){K=!0;for(t in n)n.hasOwnProperty(t)&&n[t].required&&(mt.html5.canPlayType(n[t].type)?mt.preferFlash&&(mt.flash[t]||mt.flash[n[t].type])&&(e=!0):(K=!1,e=!0))}return mt.ignoreFlash&&(e=!1,K=!0),mt.html5Only=mt.hasHTML5&&mt.useHTML5Audio&&!e,!mt.html5Only},J=function(e){var t,n,i,o=0;if(e instanceof Array){for(t=0,n=e.length;n>t;t++)if(e[t]instanceof Object){if(mt.canPlayMIME(e[t].type)){o=t;break}}else if(mt.canPlayURL(e[t])){o=t;break}e[o].url&&(e[o]=e[o].url),i=e[o]}else i=e;return i},Q=function(e){e._hasTimer||(e._hasTimer=!0,!Kt&&mt.html5PollingInterval&&(null===Ht&&0===jt&&(Ht=setInterval(G,mt.html5PollingInterval)),jt++))},Y=function(e){e._hasTimer&&(e._hasTimer=!1,!Kt&&mt.html5PollingInterval&&jt--)},G=function(){var e;if(null!==Ht&&!jt)return clearInterval(Ht),Ht=null,!1;for(e=mt.soundIDs.length-1;e>=0;e--)mt.sounds[mt.soundIDs[e]].isHTML5&&mt.sounds[mt.soundIDs[e]]._hasTimer&&mt.sounds[mt.soundIDs[e]]._onTimer()},O=function(n){n=n!==t?n:{},"function"==typeof mt.onerror&&mt.onerror.apply(e,[{type:n.type!==t?n.type:null}]),n.fatal!==t&&n.fatal&&mt.disable()},ct=function(){if(!Zt||!ut())return!1;var e,t,n=mt.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(mt._wD(yt+": Using flash fallback for "+t+" format"),mt.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;e>=0;e--)mt.html5[n[t].related[e]]=!1},this._setSandboxType=function(e){var n=mt.sandbox;n.type=e,n.description=n.types[n.types[e]!==t?e:"unknown"],"localWithFile"===n.type?(n.noRemote=!0,n.noLocal=!1,p("secNote",2)):"localWithNetwork"===n.type?(n.noRemote=!1,n.noLocal=!0):"localTrusted"===n.type&&(n.noRemote=!1,n.noLocal=!1)},this._externalInterfaceOK=function(e){if(mt.swfLoaded)return!1;var t;return f("swf",!0),f("flashtojs",!0),mt.swfLoaded=!0,nn=!1,Zt&&ct(),e&&e.replace(/\+dev/i,"")===mt.versionNumber.replace(/\+dev/i,"")?(setTimeout(c,Xt?100:1),void 0):(t=yt+': Fatal: JavaScript file build "'+mt.versionNumber+'" does not match Flash SWF build "'+e+'" at '+mt.url+". Ensure both are up-to-date.",setTimeout(function(){throw new Error(t)},0),!1)},N=function(e,n){function i(){var e,t=[],n=[],i=" + ";e="SoundManager "+mt.version+(!mt.html5Only&&mt.useHTML5Audio?mt.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),mt.html5Only?mt.html5PollingInterval&&t.push("html5PollingInterval ("+mt.html5PollingInterval+"ms)"):(mt.preferFlash&&t.push("preferFlash"),mt.useHighPerformance&&t.push("useHighPerformance"),mt.flashPollingInterval&&t.push("flashPollingInterval ("+mt.flashPollingInterval+"ms)"),mt.html5PollingInterval&&t.push("html5PollingInterval ("+mt.html5PollingInterval+"ms)"),mt.wmode&&t.push("wmode ("+mt.wmode+")"),mt.debugFlash&&t.push("debugFlash"),mt.useFlashBlock&&t.push("flashBlock")),t.length&&(n=n.concat([t.join(i)])),mt._wD(e+(n.length?i+n.join(", "):""),1),ft()}function o(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(St&&_t)return!1;if(mt.html5Only)return C(),i(),mt.oMC=s(mt.movieID),c(),St=!0,_t=!0,!1;var a,r,l,u,d,f,p,h,m=n||mt.url,g=mt.altURL||m,v="JS/Flash audio component (SoundManager 2)",y=D(),b=I(),x=null,w=Ct.getElementsByTagName("html")[0];if(x=w&&w.dir&&w.dir.match(/rtl/i),e=e===t?mt.id:e,C(),mt.url=j(ln?m:g),n=mt.url,mt.wmode=!mt.wmode&&mt.useHighPerformance?"transparent":mt.wmode,null!==mt.wmode&&(wt.match(/msie 8/i)||!Xt&&!mt.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Ft.push(T.spcWmode),mt.wmode=null),a={name:e,id:e,src:n,quality:"high",allowScriptAccess:mt.allowScriptAccess,bgcolor:mt.bgColor,pluginspage:un+"www.macromedia.com/go/getflashplayer",title:v,type:"application/x-shockwave-flash",wmode:mt.wmode,hasPriority:"true"},mt.debugFlash&&(a.FlashVars="debug=1"),mt.wmode||delete a.wmode,Xt)r=Ct.createElement("div"),u=['<object id="'+e+'" data="'+n+'" type="'+a.type+'" title="'+a.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+un+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',o("movie",n),o("AllowScriptAccess",mt.allowScriptAccess),o("quality",a.quality),mt.wmode?o("wmode",mt.wmode):"",o("bgcolor",mt.bgColor),o("hasPriority","true"),mt.debugFlash?o("FlashVars",a.FlashVars):"","</object>"].join("");else{r=Ct.createElement("embed");for(l in a)a.hasOwnProperty(l)&&r.setAttribute(l,a[l])}if(A(),b=I(),y=D())if(mt.oMC=s(mt.movieID)||Ct.createElement("div"),mt.oMC.id)h=mt.oMC.className,mt.oMC.className=(h?h+" ":R.swfDefault)+(b?" "+b:""),mt.oMC.appendChild(r),Xt&&(d=mt.oMC.appendChild(Ct.createElement("div")),d.className=R.swfBox,d.innerHTML=u),_t=!0;else{if(mt.oMC.id=mt.movieID,mt.oMC.className=R.swfDefault+" "+b,f=null,d=null,mt.useFlashBlock||(mt.useHighPerformance?f={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(f={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},x&&(f.left=Math.abs(parseInt(f.left,10))+"px"))),Qt&&(mt.oMC.style.zIndex=1e4),!mt.debugFlash)for(p in f)f.hasOwnProperty(p)&&(mt.oMC.style[p]=f[p]);try{Xt||mt.oMC.appendChild(r),y.appendChild(mt.oMC),Xt&&(d=mt.oMC.appendChild(Ct.createElement("div")),d.className=R.swfBox,d.innerHTML=u),_t=!0}catch($){throw new Error(H("domError")+" \n"+$.toString())}}return St=!0,i(),!0},S=function(){return mt.html5Only?(N(),!1):vt?!1:mt.url?(vt=mt.getMovie(mt.id),vt||(Lt?(Xt?mt.oMC.innerHTML=At:mt.oMC.appendChild(Lt),Lt=null,St=!0):N(mt.id,mt.url),vt=mt.getMovie(mt.id)),"function"==typeof mt.oninitmovie&&setTimeout(mt.oninitmovie,1),pt(),!0):(p("noURL"),!1)},w=function(){setTimeout($,1e3)},$=function(){var t,n=!1;return mt.url?qt?!1:(qt=!0,rt.remove(e,"load",w),nn&&!tn?(p("waitFocus"),!1):(Et||(t=mt.getMoviePercent(),t>0&&100>t&&(n=!0)),setTimeout(function(){return t=mt.getMoviePercent(),n?(qt=!1,mt._wD(H("waitSWF")),e.setTimeout(w,1),!1):(Et||(mt._wD(yt+": No Flash response within expected time. Likely causes: "+(0===t?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(mt.debugFlash?" "+H("checkSWF"):""),2),!ln&&t&&(p("localFail",2),mt.debugFlash||p("tryDebug",2)),0===t&&mt._wD(H("swf404",mt.url),1),f("flashtojs",!1," (Check flash security or flash blockers)")),!Et&&on&&(null===t?mt.useFlashBlock||0===mt.flashLoadTimeout?(mt.useFlashBlock&&F(),p("waitForever")):!mt.useFlashBlock&&K?e.setTimeout(function(){z(bt+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),mt.setup({preferFlash:!1}).reboot(),mt.didFlashBlock=!0,mt.beginDelayedInit()},1):(p("waitForever"),b({type:"ontimeout",ignoreInit:!0})):0===mt.flashLoadTimeout?p("waitForever"):B(!0)),void 0)},mt.flashLoadTimeout),void 0)):!1},k=function(){function t(){rt.remove(e,"focus",k)}return tn||!nn?(t(),!0):(on=!0,tn=!0,p("gotFocus"),qt=!1,w(),t(),!0)},pt=function(){Ft.length&&(mt._wD("SoundManager 2: "+Ft.join(" "),1),Ft=[])},ft=function(){pt();var e,t=[];if(mt.useHTML5Audio&&mt.hasHTML5){for(e in mt.audioFormats)mt.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+mt.html5[e]+(!mt.html5[e]&&It&&mt.flash[e]?" (using flash)":mt.preferFlash&&mt.flash[e]&&It?" (preferring flash)":mt.html5[e]?"":" ("+(mt.audioFormats[e].required?"required, ":"")+"and no flash support)"));mt._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},h=function(t){if(Et)return!1;if(mt.html5Only)return p("sm2Loaded"),Et=!0,x(),f("onload",!0),!0;var n,i=mt.useFlashBlock&&mt.flashLoadTimeout&&!mt.getMoviePercent(),o=!0;return i||(Et=!0,Mt&&(n={type:!lt&&It?"NO_FLASH":"INIT_TIMEOUT"})),mt._wD("SoundManager 2 "+(Mt?"failed to load":"loaded")+" ("+(Mt?"Flash security/load error":"OK")+")",Mt?2:1),Mt||t?(mt.useFlashBlock&&mt.oMC&&(mt.oMC.className=I()+" "+(null===mt.getMoviePercent()?R.swfTimedout:R.swfError)),b({type:"ontimeout",error:n,ignoreInit:!0}),f("onload",!1),O(n),o=!1):f("onload",!0),Mt||(mt.waitForWindowLoad&&!Pt?(p("waitOnload"),rt.add(e,"load",x)):(mt.waitForWindowLoad&&Pt&&p("docLoaded"),x())),o},u=function(){var e,n=mt.setupOptions;for(e in n)n.hasOwnProperty(e)&&(mt[e]===t?mt[e]=n[e]:mt[e]!==n[e]&&(mt.setupOptions[e]=mt[e]))},c=function(){function t(){rt.remove(e,"load",mt.beginDelayedInit)}if(Et)return p("didInit"),!1;if(mt.html5Only)return Et||(t(),mt.enabled=!0,h()),!0;S();try{vt._externalInterfaceTest(!1),L(!0,mt.flashPollingInterval||(mt.useHighPerformance?10:50)),mt.debugMode||vt._disableDebug(),mt.enabled=!0,f("jstoflash",!0),mt.html5Only||rt.add(e,"unload",l)}catch(n){return mt._wD("js/flash exception: "+n.toString()),f("jstoflash",!1),O({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),B(!0),h(),!1}return h(),t(),!0},E=function(){return P?!1:(P=!0,u(),A(),function(){var e="sm2-usehtml5audio=",t="sm2-preferflash=",n=null,i=null,o=$t.toLowerCase();-1!==o.indexOf(e)&&(n="1"===o.charAt(o.indexOf(e)+e.length),en&&console.log((n?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),mt.setup({useHTML5Audio:n})),-1!==o.indexOf(t)&&(i="1"===o.charAt(o.indexOf(t)+t.length),en&&console.log((i?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),mt.setup({preferFlash:i}))}(),!lt&&mt.hasHTML5&&(mt._wD("SoundManager: No Flash detected"+(mt.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),mt.setup({useHTML5Audio:!0,preferFlash:!1})),at(),!lt&&It&&(Ft.push(T.needFlash),mt.setup({flashLoadTimeout:1})),Ct.removeEventListener&&Ct.removeEventListener("DOMContentLoaded",E,!1),S(),!0)},ot=function(){return"complete"===Ct.readyState&&(E(),Ct.detachEvent("onreadystatechange",ot)),!0},M=function(){Pt=!0,rt.remove(e,"load",M)},_=function(){Kt&&((!mt.setupOptions.useHTML5Audio||mt.setupOptions.preferFlash)&&Ft.push(T.mobileUA),mt.setupOptions.useHTML5Audio=!0,mt.setupOptions.preferFlash=!1,(Vt||zt&&!wt.match(/android\s2\.3/i))&&(Ft.push(T.globalHTML5),Vt&&(mt.ignoreFlash=!0),Ut=!0))},_(),ut(),rt.add(e,"focus",k),rt.add(e,"load",w),rt.add(e,"load",M),Ct.addEventListener?Ct.addEventListener("DOMContentLoaded",E,!1):Ct.attachEvent?Ct.attachEvent("onreadystatechange",ot):(f("onload",!1),O({type:"NO_DOM2_EVENTS",fatal:!0}))}var i=null;void 0!==e.SM2_DEFER&&SM2_DEFER||(i=new n),e.SoundManager=n,e.soundManager=i}(window),define("soundmanager2",function(e){return function(){var t;return t||e.soundManager}}(this)),define("audio-player/sound-manager-srv",["angular","observable","soundmanager2"],function(e,t,n){function i(i,o,a){function r(e){var t=n.createSound({url:e});return d[e]=t.id,f[t.id]=e,t.id}function s(e){return d[e]}var l,u=this,c=!1,d={},f={};e.extend(this,new t),n.setup({url:"/components/soundmanager/swf/",debugMode:o.debug,flashVersion:9,preferFlash:!1,ontimeout:function(){i.alert("SM2 init failed!")},defaultOptions:{volume:100}}),a.on("play",function(e){c=!0,u.trigger("play",e)}),a.on("pause",function(){c=!1,u.trigger("pause")}),a.on("resume",function(){c=!0,u.trigger("resume")}),a.on("stop",function(){c=!1,u.trigger("stop")}),a.on("finish",function(){var e=u.getCurrentUrl();c=!1,l=null,u.trigger("finish",e)}),["halfPlay","loading","playing"].forEach(function(e){a.on(e,u.trigger.bind(u,e))}),this.getCurrentUrl=function(){return l?f[l]:null},this.isPlaying=function(){return c},this.destroySound=function(e){var t=s(e);t&&(t===l&&(n.stop(l),l=null),delete d[e],delete f[t],n.destroySound(t))},this.play=function(e){var t=s(e)||r(e);l&&n.stop(l),l=t,n.play(t,a.getEventsHandler())},this.setPosition=function(e){l&&n.setPosition(l,1e3*e)},this.pause=function(){l&&n.pause(l)},this.resume=function(){return l?(n.resume(l),!0):!1},this.stop=function(){l&&n.stop(l)}}return i.$inject=["$window","config","soundSrv"],i}),define("audio-player/sound-srv",["angular","observable"],function(e,t){function n(){function n(e,t){s||++r>=t/2&&(i.trigger("halfPlay",r),s=!0)}var i=this,o=0,a=0,r=0,s=!1;e.extend(this,new t);var l=function(){o=0,a=0,r=0,s=!1,i.trigger("play",3===this.readyState)},u=function(){i.trigger("pause")},c=function(){i.trigger("resume")},d=function(){i.trigger("stop")},f=function(){i.trigger("finish")},p=function(){var e=this.bytesLoaded>.99999995?1:this.bytesLoaded,t=Math.floor(100*e/this.bytesTotal),n=t!==a;n&&(a=t,i.trigger("loading",t))},h=function(){var e,t=Math.floor(this.position/1e3),a=t!==o;a&&(o=t,e=Math.floor((3===this.readyState?this.duration:this.durationEstimate)/1e3),i.trigger("playing",{position:t,duration:e,percentage:Math.floor(100*t/e)}),n(this,e))};this.getEventsHandler=function(){return{onplay:l,onpause:u,onresume:c,onstop:d,onfinish:f,whileloading:p,whileplaying:h}}}return n}),define("audio-player/main",["angular","./audio-player-ctrl","./audio-player-queue-ctrl","./audio-player-srv","./sound-manager-srv","./sound-srv"],function(e,t,n,i,o,a){var r=e.module("soundrocket.audio-player",["soundrocket.models"]);return r.controller("AudioPlayerCtrl",t).controller("AudioPlayerQueueCtrl",n).service("audioPlayerSrv",i).service("soundManagerSrv",o).service("soundSrv",a),r}),define("audio-player",["audio-player/main"],function(e){return e}),define("user/user-profile-menu-ctrl",[],function(){function e(e,i,o,a,r){var s=t.exec(i.path()),l=n.exec(i.path()),u=null!==s;e.isPlaylist=null!==l,e.userName=o.user,e.songsGroups=a.getAll(),e.playlists=r.getAll(),e.isCurrentSongsGroup=function(t){return u?s[1].toLowerCase()===t.id:!e.isPlaylist&&"loved"===t.id},e.isCurrentPlaylist=function(t){return e.isPlaylist?l[1].toLowerCase()===t.name.toLowerCase():!1}}var t=/^\/.+\/tracks\/(.*)/i,n=/^\/.+\/playlist\/(.*)/i;return e.$inject=["$scope","$location","$routeParams","songsGroupsMdl","playlistsMdl"],e}),define("user/user-profile-ctrl",[],function(){function e(e,t){e.user=t.get()}return e.$inject=["$scope","userSrv"],e}),define("user/user-menu-ctrl",[],function(){function e(e,t,n,i){var o=!1;e.user=i.get(),e.openKeyboardShortcuts=function(){o||(o=!0,n.dialog({backdrop:!0,keyboard:!0,backdropClick:!0,templateUrl:"templates/keyboard-shortcuts/keyboard-shortcuts.html",controller:"KeyboardShortcutsCtrl"}).open().then(function(){o=!1}))},e.signOut=function(){i.logout().then(function(){t.path("/")})}}return e.$inject=["$scope","$location","$dialog","userSrv"],e}),define("user/user-srv",["angular"],function(e){function t(t,n,i,o){function a(e){var t=i[e],n=t.replace("j:","");return JSON.parse(n)}this.get=function(){return n.get("/api/users/me").then(function(e){return e.data})},this.isLoggedIn=function(){var t=i.user;return e.isDefined(t)&&null!==t},this.getName=function(){var e;return this.isLoggedIn()?(e=a("user"),e.name):null},this.hasInvitation=function(){var t=i.invitation;return e.isDefined(t)&&null!==t},this.logout=function(){return n.post("/logout")},this.setInvitationCode=function(e){return n.post("/api/users/me/invitation",{code:e}).then(function(e){return t.$broadcast("userSrv:invitation"),e.data},function(e){var t;return t="ERRINVALID"===e.data.error.code?{isBusiness:!0,title:"Sorry,",message:"The invitation code is not valid."}:{title:"Oops,",message:"An error has occured. Please, try again."},o.reject(t)})},this.delete=function(){return n.delete("/api/users/me").then(function(e){return e.data},function(){return o.reject({title:"Oops,",message:"An error has occured. Please, try again."})})}}return t.$inject=["$rootScope","$http","$cookies","$q"],t}),function(e,t,n){t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,i){function o(){var e,o,a,l;for(e in s)c(r[e])&&i.cookies(e,n);for(e in r)o=r[e],t.isString(o)?o!==s[e]&&(i.cookies(e,o),l=!0):t.isDefined(s[e])?r[e]=s[e]:delete r[e];if(l){l=!1,a=i.cookies();for(e in r)r[e]!==a[e]&&(c(a[e])?delete r[e]:r[e]=a[e],l=!0)}}var a,r={},s={},l=!1,u=t.copy,c=t.isUndefined;return i.addPollFn(function(){var t=i.cookies();a!=t&&(a=t,u(t,s),u(t,r),l&&e.$apply())})(),l=!0,e.$watch(o),r}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){var i=e[n];return i?t.fromJson(i):i},put:function(n,i){e[n]=t.toJson(i)},remove:function(t){delete e[t]}}}])}(window,window.angular),define("angular-cookies",["angular"],function(){}),define("user/main",["angular","./user-profile-menu-ctrl","./user-profile-ctrl","./user-menu-ctrl","./user-srv","angular-cookies"],function(e,t,n,i,o){var a=e.module("soundrocket.user",["ngCookies","soundrocket.models"]);return a.controller("UserProfileMenuCtrl",t).controller("UserProfileCtrl",n).controller("UserMenuCtrl",i).service("userSrv",o),a}),define("user",["user/main"],function(e){return e}),define("home/home-ctrl",[],function(){function e(e,t,n,i){function o(e){var n=620,i=450,o=t.screen.height/2-n/2,a=t.screen.width/2-i/2;t.open("/auth/"+e,"oauth","dialog=yes, height="+n+",width="+i+","+"top="+o+",left="+a)}t.setAuthResult=function(t){t&&e.$apply(function(){n.path("/"+i.getName())})},e.contactAddress="contact@stereobuns.com",e.signIn=function(e){o(e)}}return e.$inject=["$scope","$window","$location","userSrv"],e}),define("home/main",["angular","user","./home-ctrl"],function(e,t,n){var i=e.module("soundrocket.home",[t.name]);return i.controller("HomeCtrl",n),i}),define("home",["home/main"],function(e){return e}),define("keyboard-shortcuts/keyboard-shortcuts-ctrl",[],function(){function e(e,t){e.close=function(){t.close()}}return e.$inject=["$scope","dialog"],e}),define("keyboard-shortcuts/keyboard-shortcut-drt",["angular"],function(e){function t(t,n){var i={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},o=[];return t.on("keypress",function(t){if(this.activeElement===this.body){var n=!(!t.metaKey||t.ctrlKey),a=!!t.altKey,r=!!t.ctrlKey,s=!!t.shiftKey,l=t.keyCode;!s&&l>=97&&122>=l&&(l-=32),e.forEach(o,function(e){var o=e.keys[i[l]]||e.keys[String.fromCharCode(l).toLowerCase()],u=!!e.keys.meta,c=!!e.keys.alt,d=!!e.keys.ctrl,f=!!e.keys.shift;o&&u===n&&c===a&&d===r&&f===s&&e.scope.$apply(function(){e.expression(e.scope,{$event:t})})}),t.preventDefault()}}),{restrict:"A",replace:!1,link:function(t,i,a){var r=t.$eval(a.srKeyboardShortcut);
e.forEach(r,function(i,a){var r=n(i);e.forEach(a.split(" "),function(n){var i={scope:t,expression:r,keys:{}};e.forEach(n.split("-"),function(e){i.keys[e]=!0}),o.push(i),t.$on("$destroy",function(){var e=o.indexOf(i);o.splice(e,1),i=null})})})}}}return t.$inject=["$document","$parse"],t}),define("keyboard-shortcuts/main",["angular","./keyboard-shortcuts-ctrl","./keyboard-shortcut-drt"],function(e,t,n){return e.module("soundrocket.keyboard-shortcuts",[]).controller("KeyboardShortcutsCtrl",t).directive("srKeyboardShortcut",n)}),define("keyboard-shortcuts",["keyboard-shortcuts/main"],function(e){return e}),define("layout/layout-ctrl",[],function(){function e(e,t){e.searchBarTemplateUrl=null,e.userMenuTemplateUrl=null,e.audioPlayerBarTemplateUrl=null,e.backgroundClass=null,e.$on("userSrv:invitation",function(){e.searchBarTemplateUrl="templates/track-search/track-search.html",e.audioPlayerBarTemplateUrl="templates/audio-player/audio-player.html"}),e.$on("$routeChangeSuccess",function(n,i){var o=t.hasInvitation();"templates/home/home.html"===i.loadedTemplateUrl?(e.searchBarTemplateUrl=null,e.userMenuTemplateUrl=null,e.audioPlayerBarTemplateUrl=null,e.backgroundClass="home-background"):(e.searchBarTemplateUrl=o?"templates/track-search/track-search.html":"",e.userMenuTemplateUrl="templates/user/user-menu.html",e.audioPlayerBarTemplateUrl=o?"templates/audio-player/audio-player.html":"",e.backgroundClass=null)})}return e.$inject=["$scope","userSrv"],e}),define("layout/main",["angular","user","./layout-ctrl"],function(e,t,n){return e.module("soundrocket.layout",[t.name]).controller("LayoutCtrl",n)}),define("layout",["layout/main"],function(e){return e}),define("settings/settings-ctrl",["angular"],function(){function e(e,t,n,i){e.hasInvitation=i.hasInvitation(),e.invitationCode="",e.error=null,e.closeErrorAlert=function(){e.error=null},e.setInvitationCode=function(){return e.invitationForm.$valid?(e.closeErrorAlert(),i.setInvitationCode(e.invitationCode).then(function(){e.hasInvitation=!0},function(t){e.error=t,e.invitationCode=""}),void 0):e.invitationForm.$setDirty()},e.openDeleteConfirmationBox=function(){e.closeErrorAlert(),t.messageBox("Account Deletion","All your playlist will be deleted.",[{label:"Cancel",result:!1},{label:"Delete",result:!0,cssClass:"btn-danger"}]).open().then(function(t){t&&i.delete().then(function(){n.path("/")},function(t){e.error=t})})}}return e.$inject=["$scope","$dialog","$location","userSrv"],e}),define("settings/main",["angular","user","./settings-ctrl"],function(e,t,n){var i=e.module("soundrocket.settings",[t.name]);return i.controller("SettingsCtrl",n),i}),define("settings",["settings/main"],function(e){return e}),define("track/track-ctrl",["angular"],function(e){function t(t,n){function i(){t.options=e.extend({},a,t.customOptions)}function o(){var e=n.getStatus().song;return e&&t.song&&e.url===t.song.url}var a={remove:!1,queue:!0};t.isPlaying=!1,t.$watch("song",function(){t.isPlaying=o()&&n.getStatus().isPlaying}),t.$on("audioPlayer:play",function(){t.isPlaying=o()}),t.$on("audioPlayer:pause",function(){t.isPlaying=!1}),t.$on("audioPlayer:resume",function(){t.isPlaying=o()}),t.$on("audioPlayer:stop",function(){t.isPlaying=!1}),t.$on("songsGroup:add",function(e,n,i){"loved"!==n||i.url!==t.song.url||t.song.loved||(t.song.loved=!0)}),t.$on("songsGroup:remove",function(e,n,i){"loved"===n&&i.url===t.song.url&&t.song.loved&&(t.song.loved=!1)}),t.togglePlay=function(){o()?n.getStatus().isPlaying?n.pause():n.play():n.play(t.song)},t.remove=function(e){t.onRemove({song:e})},i()}return t.$inject=["$scope","audioPlayerSrv"],t}),define("track/progress/track-progress-ctrl",["angular"],function(){function e(e,t){var n;this.setPlayingPercentage=function(n){var i;e.progress&&(i=Math.round(n*e.progress.duration/100),t.setPosition(i))},e.progress=null,e.loadingPercentage=0,e.$on("audioPlayer:play",function(e,t){n=t?100:0}),e.$on("audioPlayer:stop",function(){e.progress=null,e.loadingPercentage=0}),e.$on("audioPlayer:loading",function(e,t){n=t}),e.$on("audioPlayer:playing",function(t,i){e.progress=i,e.loadingPercentage=i?n-i.percentage:n})}return e.$inject=["$scope","audioPlayerSrv"],e}),define("track/track-drt",[],function(){function e(){return{restrict:"E",replace:!0,scope:{customOptions:"=options",song:"=",onRemove:"&"},templateUrl:"templates/track/track.html",controller:"TrackCtrl"}}return e}),define("track/progress/track-progress-drt",[],function(){function e(){return{restrict:"E",replace:!0,scope:!0,templateUrl:"templates/track/progress/track-progress.html",controller:"TrackProgressCtrl",link:function(e,t,n,i){t.on("click",function(e){var t=this.clientWidth,n=e.pageX-this.getBoundingClientRect().left,o=Math.floor(100*n/t);i.setPlayingPercentage(o)})}}}return e}),define("track/main",["angular","audio-player","./track-ctrl","./progress/track-progress-ctrl","./track-drt","./progress/track-progress-drt"],function(e,t,n,i,o,a){var r=e.module("soundrocket.track",[t.name]);return r.controller("TrackCtrl",n).controller("TrackProgressCtrl",i).directive("srTrack",o).directive("srTrackProgress",a),r}),define("track",["track/main"],function(e){return e}),define("track-search/track-search-ctrl",[],function(){function e(e,t){e.query="",e.search=function(){e.searchForm.$valid&&(t.path("/search").search({q:e.query}),e.query="")}}return e.$inject=["$scope","$location"],e}),define("track-search/track-search-results-ctrl",[],function(){function e(e,t,n,i){function o(t){r.length=0,e.songs.length=0,e.searchFilter=null,e.isSearching=!0,e.hasResult=!1,e.searchQuery=t,i.find(t).then(function(t){r=t,e.hasResult=r.length>0,e.songs=r,e.isSearching=!1})}var a=n("track"),r=[];e.isSearching=!1,e.hasResult=!1,e.searchFilter=null,e.songs=[],e.filterBy=function(t){e.searchFilter=t,e.songs=a(r,e.searchFilter,e.searchQuery)},o(t.q)}return e.$inject=["$scope","$routeParams","$filter","trackSearchSrv"],e}),define("track-search/track-search-srv",[],function(){function e(e){this.find=function(t){return e.get("/api/tracks/search/"+t,{cache:!0}).then(function(e){return e.data})},this.findOne=function(e,t,n){return this.find(e+" "+t).then(function(i){var o,a,r=null;for(o=0,a=i.length;a>o&&(e!==i[o].artist||t!==i[o].name||(r=i[o],n&&n!==i[o].trackId));o++);return r})}}return e.$inject=["$http"],e}),define("track-search/track-flt",[],function(){function e(e){function t(e,t){return 0===e.localeCompare(t,"en-US",{sensitivity:"base"})}return function(n,i,o){function a(e){var n,o,a,s=0;if(!e[i])return!1;for(n=e[i].split(/ +/),o=0,a=n.length;a>o;o++)if(t(r[s],n[o])){if(++s===r.length)return!0}else s=0;return!1}var r=o.split(/ +/);return i?e(n,a):n}}return e.$inject=["filterFilter"],e}),define("track-search/main",["angular","./track-search-ctrl","./track-search-results-ctrl","./track-search-srv","./track-flt"],function(e,t,n,i,o){var a=e.module("soundrocket.track-search",[]);return a.controller("TrackSearchCtrl",t).controller("TrackSearchResultsCtrl",n).service("trackSearchSrv",i).filter("track",o),a}),define("track-search",["track-search/main"],function(e){return e}),define("track-info/track-info-ctrl",[],function(){function e(e,t,n,i){function o(){e.comments=n.getComments(t.artist,t.track)}e.song=i.findOne(t.artist,t.track,t.trackId),e.newComment="",e.comments=null,e.addComment=function(){e.commentForm.$valid&&n.addComment(t.artist,t.track,e.newComment).then(function(){e.newComment="",o()})},o()}return e.$inject=["$scope","$routeParams","trackInfoSrv","trackSearchSrv"],e}),define("track-info/track-album-ctrl",[],function(){function e(e,t,n){e.album=null,n.getAlbum(t.artist,t.track).then(function(t){e.album=t})}return e.$inject=["$scope","$routeParams","trackInfoSrv"],e}),define("track-info/similar-tracks-ctrl",[],function(){function e(e,t,n){e.tracks=n.getSimilar(t.artist,t.track)}return e.$inject=["$scope","$routeParams","trackInfoSrv"],e}),define("track-info/track-info-srv",[],function(){function e(e){this.getAlbum=function(t,n){return e.get("/api/artists/"+t+"/tracks/"+n+"/album",{cache:!0}).then(function(e){return e.data})},this.getSimilar=function(t,n){return e.get("/api/artists/"+t+"/tracks/"+n+"/similar",{cache:!0}).then(function(e){return e.data})},this.addComment=function(t,n,i){return e.post("/api/artists/"+t+"/tracks/"+n+"/comments",{body:i})},this.getComments=function(t,n){return e.get("/api/artists/"+t+"/tracks/"+n+"/comments").then(function(e){return e.data})}}return e.$inject=["$http"],e}),define("track-info/main",["angular","track-search","./track-info-ctrl","./track-album-ctrl","./similar-tracks-ctrl","./track-info-srv"],function(e,t,n,i,o,a){var r=e.module("soundrocket.track-info",[t.name]);return r.controller("TrackInfoCtrl",n).controller("TrackAlbumCtrl",i).controller("SimilarTracksCtrl",o).service("trackInfoSrv",a),r}),define("track-info",["track-info/main"],function(e){return e}),define("components/playlist-chooser/playlist-chooser-drt-ctrl",["angular"],function(e){function t(t,n,i){function o(e){var t,i,o,a,r=/^\/.+\/playlist\/(.*)/i,s=[];for(t=0,i=e.length;i>t;t++)o=e[t],a=r.exec(n.path()),a&&a[1].toLowerCase()===o.name.toLowerCase()||s.push(o);return s}function a(){var n=e.extend({},r,t.options);i.getAll().then(function(e){t.playlists=n.filter?o(e):e})}var r={filter:!0};t.newPlaylistName="",t.$on("playlistsMdl:create",function(e,n){var i=t.playlists.indexOf(n);0>i&&t.playlists.push(n)}),t.$on("playlistsMdl:delete",function(e,n){var i=t.playlists.indexOf(n);i>-1&&t.playlists.splice(i,1)}),t.createPlaylist=function(){t.playlistForm.$valid&&(i.create(t.newPlaylistName),t.newPlaylistName="")},t.addToPlaylist=function(e){e.add(t.songs)},a()}return t.$inject=["$scope","$location","playlistsMdl"],t}),define("components/playlist-chooser/playlist-chooser-drt",[],function(){function e(){return{restrict:"E",replace:!0,scope:{options:"=",songs:"="},templateUrl:"templates/playlist-chooser-drt.html",controller:"PlaylistChooserDrtCtrl"}}return e}),define("components/playlist-chooser/main",["angular","./playlist-chooser-drt-ctrl","./playlist-chooser-drt"],function(e,t,n){var i=e.module("soundrocket.components.playlist-chooser",["soundrocket.models"]);return i.controller("PlaylistChooserDrtCtrl",t).directive("playlistChooser",n),i}),define("components/playlist-chooser",["components/playlist-chooser/main"],function(e){return e}),define("components/songs-actions/songs-actions-drt-ctrl",["angular"],function(e){function t(t,n,i){function o(){t.options=e.extend({},a,t.customOptions),t.playlistsOptions.filter=t.options.filterPlaylists}var a={remove:!1,play:!1,queue:!0,playlists:!0,filterPlaylists:!0};t.playlistsOptions={filter:a.filterPlaylists},t.isMulti=!1,t.shouldBeVisible=!1,t.$watchCollection("songs",function(n){t.isMulti=e.isArray(n),t.shouldBeVisible=t.isMulti?0!==n.length:e.isDefined(n)&&null!==n}),t.play=function(){var e=n.enqueue(t.songs);e.then(function(){n.play(t.isMulti?t.songs[0]:t.songs)})},t.queue=function(){n.enqueue(t.songs)},t.toggleLove=function(){var e=i.get("loved");t.songs.loved?e.remove(t.songs):e.add(t.songs)},t.remove=function(){t.onRemove({songs:t.songs})},o()}return t.$inject=["$scope","audioPlayerSrv","songsGroupsMdl"],t}),define("components/songs-actions/songs-actions-drt",["angular"],function(){function e(){return{restrict:"E",replace:!0,scope:{customOptions:"=options",songs:"=",onRemove:"&"},templateUrl:"templates/songs-actions-drt.html",controller:"SongsActionsDrtCtrl"}}return e}),define("components/songs-actions/main",["angular","./songs-actions-drt-ctrl","./songs-actions-drt"],function(e,t,n){var i=e.module("soundrocket.components.songs-actions",["soundrocket.audio-player","soundrocket.models","soundrocket.components.playlist-chooser"]);return i.controller("SongsActionsDrtCtrl",t).directive("songsActions",n),i}),define("components/songs-actions",["components/songs-actions/main"],function(e){return e}),define("controllers/playlist-ctrl",[],function(){function e(e,t,n,i,o){function a(t,n){o.get(n).then(function(t){e.playlistName=t.name,r=t,t.songs().then(function(t){e.songs=t})})}var r;e.songsActionsOptions={play:!0,remove:!0},e.songOptions={remove:!0},e.noSongMessageTemplateUrl="",e.playlistName="",e.songs=null,e.$watchCollection("songs",function(t){e.noSongMessageTemplateUrl=!t||t.length?"":"templates/no-playlist-songs.html"}),e.$on("playlist:add",function(t,n,i){var o;n===e.playlistName&&(o=e.utils.indexOf(e.songs,"url",i.url),0>o&&e.songs.push(i))}),e.$on("playlist:remove",function(t,n,i){var o;n===e.playlistName&&(o=e.utils.indexOf(e.songs,"url",i.url),e.songs.splice(o,1))}),e.openDeleteConfirmationBox=function(){i.messageBox("Playlist Deletion",'"'+r.name+'" will be deleted.',[{label:"Cancel",result:!1},{label:"Delete",result:!0,cssClass:"btn-danger"}]).open().then(function(e){e&&o.delete(r).then(function(){n.path("/"+t.user)})})},e.remove=function(e){r.remove(e)},a(t.user,t.name)}return e.$inject=["$scope","$routeParams","$location","$dialog","playlistsMdl"],e}),define("controllers/songs-group-ctrl",[],function(){function e(e,t,n){function i(t,i){var o=n.get(i);o.songs().then(function(t){e.songs=t})}e.songsActionsOptions={play:!0,filterPlaylists:!1},e.noSongMessageTemplateUrl="",e.songs=null,e.$watchCollection("songs",function(n){e.noSongMessageTemplateUrl=!n||n.length?"":"templates/no-"+t.group+"-songs.html"}),e.$on("songsGroup:add",function(n,i,o){var a;i===t.group&&(a=e.utils.indexOf(e.songs,"url",o.url),0>a&&e.songs.push(o))}),e.$on("songsGroup:remove",function(n,i,o){var a;i===t.group&&(a=e.utils.indexOf(e.songs,"url",o.url),e.songs.splice(a,1))}),i(t.user,t.group||"loved")}return e.$inject=["$scope","$routeParams","songsGroupsMdl"],e}),define("controllers/main",["angular","./playlist-ctrl","./songs-group-ctrl"],function(e,t,n){return e.module("soundrocket.controllers",[]).controller("PlaylistCtrl",t).controller("SongsGroupCtrl",n)}),define("controllers",["controllers/main"],function(e){return e}),define("models/songs-group-mdl",["angular"],function(e){function t(t,n,i,o){function a(a){function r(e){return i.post("/api/users/me/songs/"+l.id,t.utils.copy(e)).error(function(){n.console.log("song: "+e.url+" has not been added.")}).then(function(i){return 0!==i.data.count?(l.length++,n.console.log("song: "+e.url+" has been added."),t.$broadcast("songsGroup:add",l.id,e),e):void 0})}function s(e){return i.put("/api/users/me/songs/"+l.id,t.utils.copy(e)).error(function(){n.console.log("song: "+e.url+" has not been removed.")}).then(function(i){return 0!==i.data.count?(l.length--,n.console.log("song: "+e.url+" has been removed."),t.$broadcast("songsGroup:remove",l.id,e),e):void 0})}var l=this;this.id=a.id,this.name=a.name,this.icon=a.icon,this.length=0,this.songs=function(){return i.get("/api/users/me/songs/"+this.id).error(function(){n.console.log("get songs failed for group: "+l.name)}).then(function(e){return l.length=e.data.songs.length,e.data.songs})},this.add=function(t){var n,i,a,s=[];for(a=e.isArray(t)?t:[t],n=0,i=a.length;i>n;n++)s.push(r(a[n]));return o.all(s)},this.remove=function(t){var n,i,a,r=[];for(a=e.isArray(t)?t:[t],n=0,i=a.length;i>n;n++)r.push(s(a[n]));return o.all(r)}}this.get=function(e){return new a(e)}}return t.$inject=["$rootScope","$window","$http","$q"],t}),define("models/songs-groups-mdl",[],function(){function e(e){var t={},n=[];this.getAll=function(){return t.loved||(t.loved=e.get({id:"loved",name:"Loved",icon:"icon-heart"}),n.push(t.loved)),t.mostplayed||(t.mostplayed=e.get({id:"mostplayed",name:"Most Played",icon:"icon-music"}),n.push(t.mostplayed)),t.queued||(t.queued=e.get({id:"queued",name:"Queue"})),n},this.get=function(e){return this.getAll(),t[e]}}return e.$inject=["songsGroupMdl"],e}),define("models/playlist-mdl",["angular"],function(e){function t(t,n,i){function o(o){function a(e){i.post("/api/users/me/playlists/"+s.name+"/songs",t.utils.copy(e)).success(function(i){0!==i.count&&(s.length++,t.$broadcast("playlist:add",s.name,e),n.console.log("song: "+e.url+" has been added to "+s.name))}).error(function(){n.console.log("song: "+e.url+" has not been added to "+s.name)})}function r(e){i.delete("/api/users/me/playlists/"+s.name+"/songs/"+e._id).success(function(i){0!==i.count&&(s.length--,t.$broadcast("playlist:remove",s.name,e),n.console.log("song: "+e.url+" has been removed from "+s.name))}).error(function(){n.console.log("song: "+e.url+" has not been removed from "+s.name)})}var s=this;this.name=o.name,this.length=o.length,this.songs=function(){return i.get("/api/users/me/playlists/"+this.name).error(function(){n.console.log("get songs failed for playlist: "+s.name)}).then(function(e){return s.length=e.data.songs.length,e.data.songs})},this.add=function(t){var n,i,o;for(o=e.isArray(t)?t:[t],n=0,i=o.length;i>n;n++)a(o[n])},this.remove=function(t){var n,i,o;for(o=e.isArray(t)?t.slice(0):[t],n=0,i=o.length;i>n;n++)r(o[n])}}this.get=function(e){return new o(e)}}return t.$inject=["$rootScope","$window","$http"],t}),define("models/playlists-mdl",[],function(){function e(e,t,n,i){var o={},a=[];this.getAll=function(){return n.get("/api/users/me/playlists",{cache:!0}).error(function(){t.console.log("get all playlist failed!")}).then(function(e){var t,n,r,s=e.data;if(!a.length)for(t=0,n=s.length;n>t;t++)r=s[t].name.toLowerCase(),o[r]=i.get(s[t]),a.push(o[r]);return a})},this.get=function(e){return this.getAll().then(function(){return o[e]})},this.create=function(r){return n.post("/api/users/me/playlists",{name:r}).error(function(){t.console.log("playlist: "+r+" has not been created")}).then(function(){var n=i.get({name:r,length:0});return o[n.name.toLowerCase()]=n,a.push(n),t.console.log("playlist: "+r+" has been created"),e.$broadcast("playlistsMdl:create",n),n})},this.delete=function(i){return n.delete("/api/users/me/playlists/"+i.name).error(function(){t.console.log("playlist: "+i.name+" has not been removed")}).then(function(){var n=a.indexOf(i);return delete o[i.name.toLowerCase()],a.splice(n,1),t.console.log("playlist: "+i.name+" has been removed"),e.$broadcast("playlistsMdl:delete",i),i})}}return e.$inject=["$rootScope","$window","$http","playlistMdl"],e}),define("models/main",["angular","./songs-group-mdl","./songs-groups-mdl","./playlist-mdl","./playlists-mdl"],function(e,t,n,i,o){return e.module("soundrocket.models",[]).service("songsGroupMdl",t).service("songsGroupsMdl",n).service("playlistMdl",i).service("playlistsMdl",o)}),define("models",["models/main"],function(e){return e}),define("app",["angular","common","artist-info","audio-player","home","keyboard-shortcuts","layout","settings","track","track-info","track-search","user","components/playlist-chooser","components/songs-actions","controllers","models"],function(e,t,n,i,o,a,r,s,l,u,c,d){var f=e.module("soundrocket",[t.name,n.name,i.name,o.name,a.name,r.name,s.name,l.name,u.name,c.name,d.name,"soundrocket.components.playlist-chooser","soundrocket.components.songs-actions","soundrocket.controllers","soundrocket.models"]);return f.constant("config",{debug:!1}),f.config(["$httpProvider",function(e){e.defaults.headers.common.Accept="application/json",e.interceptors.push(["$q","$location",function(e,t){return{responseError:function(n){return 401===n.status&&t.path("/"),e.reject(n)}}}])}]),f.run(["$rootScope",function(t){t.utils={copy:function(t){var n=e.copy(t);return delete n._id,n},indexOf:function(e,t,n){var i,o,a=-1;for(i=0,o=e.length;o>i;i++)if(e[i][t]===n){a=i;break}return a}}}]),f}),function(e,t){function n(e,t){return s(new(s(function(){},{prototype:e})),t)}function i(){function e(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},o=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(e,t,n,i){var a="?"===i?i:null,r="*"===i?i:null;return o.push({name:n,optional:!!a}),t=t||"",""+(a?"":t)+"(?:"+(a?t:"")+(r&&"(.+)?"||"([^/]+)?")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+e+"$",n?"i":""),i}var t={};this.when=function(n,i){if(t[n]=s({reloadOnSearch:!0},i,n&&e(n,i)),n){var o="/"==n[n.length-1]?n.substr(0,n.length-1):n+"/";t[o]=s({redirectTo:n},e(o,i))}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(e,i,o,f,p,h,m,g){function v(e,t){var n=t.keys,i={};if(!t.regexp)return null;var o=t.regexp.exec(e);if(!o)return null;for(var a=1,r=o.length;r>a;++a){var s=n[a-1],l="string"==typeof o[a]?decodeURIComponent(o[a]):o[a];s&&l&&(i[s.name]=l)}return i}function y(){var t=b(),n=$.current;t&&n&&t.$$route===n.$$route&&r(t.pathParams,n.pathParams)&&!t.reloadOnSearch&&!w?(n.params=t.params,a(n.params,o),e.$broadcast("$routeUpdate",n)):(t||n)&&(w=!1,e.$broadcast("$routeChangeStart",t,n),$.current=t,t&&t.redirectTo&&(d(t.redirectTo)?i.path(x(t.redirectTo,t.params)).search(t.params).replace():i.url(t.redirectTo(t.pathParams,i.path(),i.search())).replace()),f.when(t).then(function(){if(t){var e,n,i=s({},t.resolve);return l(i,function(e,t){i[t]=d(e)?p.get(e):p.invoke(e)}),u(e=t.template)?c(e)&&(e=e(t.params)):u(n=t.templateUrl)&&(c(n)&&(n=n(t.params)),n=g.getTrustedResourceUrl(n),u(n)&&(t.loadedTemplateUrl=n,e=h.get(n,{cache:m}).then(function(e){return e.data}))),u(e)&&(i.$template=e),f.all(i)}}).then(function(i){t==$.current&&(t&&(t.locals=i,a(t.params,o)),e.$broadcast("$routeChangeSuccess",t,n))},function(i){t==$.current&&e.$broadcast("$routeChangeError",t,n,i)}))}function b(){var e,o;return l(t,function(t){!o&&(e=v(i.path(),t))&&(o=n(t,{params:s({},i.search(),e),pathParams:e}),o.$$route=t)}),o||t[null]&&n(t[null],{params:{},pathParams:{}})}function x(e,t){var n=[];return l((e||"").split(":"),function(e,i){if(0==i)n.push(e);else{var o=e.match(/(\w+)(.*)/),a=o[1];n.push(t[a]),n.push(o[2]||""),delete t[a]}}),n.join("")}var w=!1,$={routes:t,reload:function(){w=!0,e.$evalAsync(y)}};return e.$on("$locationChangeSuccess",y),$}]}function o(){this.$get=function(){return{}}}var a=t.copy,r=t.equals,s=t.extend,l=t.forEach,u=t.isDefined,c=t.isFunction,d=t.isString,f=t.element;t.noop,t.toJson;var p=t.module("ngRoute",["ng"]).provider("$route",i);p.provider("$routeParams",o);var h=500,m=["$route","$anchorScroll","$compile","$controller","$animate",function(e,t,n,i,o){return{restrict:"ECA",terminal:!0,priority:h,compile:function(a,r){var s=r.onload||"";a.html("");var l=f(document.createComment(" ngView "));return a.replaceWith(l),function(r){function u(){d&&(d.$destroy(),d=null),f&&(o.leave(f),f=null)}function c(){var c=e.current&&e.current.locals,p=c&&c.$template;if(p){u(),d=r.$new(),f=a.clone(),f.html(p),o.enter(f,null,l);var m=n(f,!1,h-1),g=e.current;if(g.controller){c.$scope=d;var v=i(g.controller,c);g.controllerAs&&(d[g.controllerAs]=v),f.data("$ngControllerController",v),f.children().data("$ngControllerController",v)}g.scope=d,m(d),d.$emit("$viewContentLoaded"),d.$eval(s),t()}else u()}var d,f;r.$on("$routeChangeSuccess",c),c()}}}}];p.directive("ngView",m)}(window,window.angular),define("angular-route",["angular"],function(){}),define("routes",["angular","user","audio-player","angular-route"],function(e,t,n){var i=e.module("soundrocket.routes",["ngRoute",t.name,n.name]);return i.config(["$locationProvider","$routeProvider",function(e,t){e.html5Mode(!0),t.when("/",{templateUrl:"templates/home/home.html",controller:"HomeCtrl",pageTitle:"Welcome",authenticated:!1}).when("/settings/:id",{templateUrl:"templates/settings/settings.html",controller:"SettingsCtrl",pageTitle:"Settings",authenticated:!0}).when("/search",{templateUrl:"templates/track-search/track-search-results.html",controller:"TrackSearchResultsCtrl",pageTitle:"Search",authenticated:!0}).when("/artist/:artist",{templateUrl:"templates/artist-info/artist-info.html",controller:"ArtistInfoCtrl",pageTitle:"About artist",authenticated:!0}).when("/track/:artist/:track",{templateUrl:"templates/track-info/track-info.html",controller:"TrackInfoCtrl",pageTitle:"About track",authenticated:!0}).when("/:user",{templateUrl:"templates/songs-group.html",controller:"SongsGroupCtrl",pageTitle:"Home",authenticated:!0}).when("/:user/tracks/:group",{templateUrl:"templates/songs-group.html",controller:"SongsGroupCtrl",pageTitle:"Track group",authenticated:!0}).when("/:user/playlist/:name",{templateUrl:"templates/playlist.html",controller:"PlaylistCtrl",pageTitle:"Playlist",authenticated:!0}).otherwise({redirectTo:"/"})}]),i.run(["$rootScope","$window","$location","userSrv","audioPlayerSrv",function(e,t,n,i,o){function a(e){var n=t.document.title,i=n.indexOf("-"),o=n.substring(0,i+1);t.document.title=o+" "+e}e.$on("$locationChangeStart",function(){var e=i.isLoggedIn();e&&"/"===n.path()&&n.path("/"+i.getName())}),e.$on("$routeChangeStart",function(e,t){var a=i.isLoggedIn(),r=i.hasInvitation();return!a&&t.$$route.authenticated?n.path("/"):a&&!r?n.path("/settings/account"):("HomeCtrl"===t.$$route.controller&&o.stop(),void 0)}),e.$on("$routeChangeSuccess",function(e,t){i.isLoggedIn()?i.get().then(function(e){a(e.name+" - "+t.$$route.pageTitle)}):a(t.$$route.pageTitle)})}]),i}),define("text",["module"],function(e){var t,n,i,o,a,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,c=u&&location.protocol&&location.protocol.replace(/\:/,""),d=u&&location.hostname,f=u&&(location.port||void 0),p={},h=e.config&&e.config()||{};return t={version:"2.0.10",strip:function(e){if(e){e=e.replace(s,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:h.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=r[t];try{e=new ActiveXObject(n)}catch(i){}if(e){r=[n];break}}return e},parseName:function(e){var t,n,i,o=!1,a=e.indexOf("."),r=0===e.indexOf("./")||0===e.indexOf("../");return-1!==a&&(!r||a>1)?(t=e.substring(0,a),n=e.substring(a+1,e.length)):t=e,i=n||t,a=i.indexOf("!"),-1!==a&&(o="strip"===i.substring(a+1),i=i.substring(0,a),n?n=i:t=i),{moduleName:t,ext:n,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,o){var a,r,s,l=t.xdRegExp.exec(e);return l?(a=l[2],r=l[3],r=r.split(":"),s=r[1],r=r[0],!(a&&a!==n||r&&r.toLowerCase()!==i.toLowerCase()||(s||r)&&s!==o)):!0},finishLoad:function(e,n,i,o){i=n?t.strip(i):i,h.isBuild&&(p[e]=i),o(i)},load:function(e,n,i,o){if(o.isBuild&&!o.inlineText)return i(),void 0;h.isBuild=o.isBuild;var a=t.parseName(e),r=a.moduleName+(a.ext?"."+a.ext:""),s=n.toUrl(r),l=h.useXhr||t.useXhr;return 0===s.indexOf("empty:")?(i(),void 0):(!u||l(s,c,d,f)?t.get(s,function(n){t.finishLoad(e,a.strip,n,i)},function(e){i.error&&i.error(e)}):n([r],function(e){t.finishLoad(a.moduleName+"."+a.ext,a.strip,e,i)}),void 0)},write:function(e,n,i){if(p.hasOwnProperty(n)){var o=t.jsEscape(p[n]);i.asModule(e+"!"+n,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,n,i,o,a){var r=t.parseName(n),s=r.ext?"."+r.ext:"",l=r.moduleName+s,u=i.toUrl(r.moduleName+s)+".js";t.load(l,i,function(){var n=function(e){return o(u,e)};n.asModule=function(e,t){return o.asModule(e,u,t)},t.write(e,l,n,a)},a)}},"node"===h.env||!h.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),t.get=function(e,t,i){try{var o=n.readFileSync(e,"utf8");0===o.indexOf("﻿")&&(o=o.substring(1)),t(o)}catch(a){i(a)}}):"xhr"===h.env||!h.env&&t.createXhr()?t.get=function(e,n,i,o){var a,r=t.createXhr();if(r.open("GET",e,!0),o)for(a in o)o.hasOwnProperty(a)&&r.setRequestHeader(a.toLowerCase(),o[a]);h.onXhr&&h.onXhr(r,e),r.onreadystatechange=function(){var t,o;4===r.readyState&&(t=r.status,t>399&&600>t?(o=new Error(e+" HTTP status: "+t),o.xhr=r,i(o)):n(r.responseText),h.onXhrComplete&&h.onXhrComplete(r,e))},r.send(null)}:"rhino"===h.env||!h.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,i,o="utf-8",a=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),o)),l="";try{for(n=new java.lang.StringBuffer,i=s.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=s.readLine());)n.append(r),n.append(i);l=String(n.toString())}finally{s.close()}t(l)}:("xpconnect"===h.env||!h.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,o=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in i,t.get=function(e,t){var n,r,s,l={};a&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),n.init(s,1,0,!1),r=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),r.init(n,"utf-8",n.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(n.available(),l),r.close(),n.close(),t(l.value)}catch(u){throw new Error((s&&s.path||"")+": "+u)}}),t}),define("text!angular-ui-bootstrap-template/dialog/message.html",[],function(){return'<div class="modal-header">\n	<h3>{{ title }}</h3>\n</div>\n<div class="modal-body">\n	<p>{{ message }}</p>\n</div>\n<div class="modal-footer">\n	<button ng-repeat="btn in buttons" ng-click="close(btn.result)" class="btn" ng-class="btn.cssClass">{{ btn.label }}</button>\n</div>\n'}),define("text!angular-ui-bootstrap-template/alert/alert.html",[],function(){return"<div class='alert' ng-class='type && \"alert-\" + type'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n"}),define("text!templates/playlist-chooser-drt.html",[],function(){return'<div ng-controller="PlaylistChooserDrtCtrl" class="playlist-chooser">\n  <ul class="nav nav-pills nav-stacked" sr-no-scroll-propagation>\n    <li ng-repeat="playlist in playlists">\n      <a href="#" ng-click="$parent.addToPlaylist(playlist); $event.preventDefault()">{{ playlist.name }}</a>\n    </li>\n  </ul>\n  <span class="divider"></span>\n  <form class="form-inline" name="playlistForm" ng-submit="createPlaylist()" ng-click="$event.stopPropagation()">\n    <input type="text" placeholder="Name your new playlist" class="input-medium" name="nameField"\n           ng-model="newPlaylistName" required maxlength="20">\n    <input type="submit" class="btn" value="Create">\n  </form>\n</div>\n'}),define("text!templates/songs-actions-drt.html",[],function(){return'<div class="songs-actions"\n     ng-click="$event.stopPropagation()"\n     ng-show="shouldBeVisible">\n  <div class="btn-group" ng-show="options.playlists">\n    <button class="btn dropdown-toggle" title="Add to playlist">\n      <i class="icon-reorder"></i>\n      Add to playlist\n    </button>\n    <div class="dropdown-menu">\n      <playlist-chooser songs="songs" options="playlistsOptions"></playlist-chooser>\n    </div>\n  </div>\n  \n  <button class="btn" title="Play" ng-click="play()" ng-show="options.play">\n    <i class="icon-play"></i>\n    Play\n  </button>\n  \n  <button class="btn" title="Queue" ng-click="queue()" ng-show="options.queue">\n    <i class="icon-plus"></i>\n    Queue\n  </button>\n  \n  <button class="btn" title="Love"\n          ng-click="toggleLove()"\n          ng-if="!isMulti"\n          ng-switch="songs.loved">\n    <i ng-class="{ \'icon-heart\': songs.loved, \'icon-heart-empty\': !songs.loved }"></i>\n    <span ng-switch-when="true"></span>\n    <span ng-switch-default="">Love</span>\n  </button>\n  \n  <button class="btn btn-danger" title="Remove" ng-click="remove()" ng-show="options.remove">\n    <i class="icon-remove"></i>\n  </button>\n</div>\n'}),define("text!templates/playlist.html",[],function(){return'<div class="playlist push-bottom">\n  <div class="push-top">\n    <div ng-include="\'templates/user/user-profile.html\'"></div>\n    <div ng-include="\'templates/user/user-profile-menu.html\'"></div>\n  \n    <div class="header">\n      <h2>{{ playlistName }}</h2>\n      <a href="#" class="btn btn-danger"\n         ng-click="openDeleteConfirmationBox(); $event.preventDefault()">Delete this playlist</a>\n    </div>\n    \n    <div class="track-list-actions">\n      <span ng-show="songs.length">{{ songs.length }}</span>\n      <ng-pluralize count="songs.length"\n          when="{ \'0\': \'\',\n                  \'1\': \'song\',\n                  \'other\': \'songs\' }">\n      </ng-pluralize>\n      <songs-actions songs="songs" options="songsActionsOptions"\n                     on-remove="remove(songs)"></songs-actions>\n    </div>\n\n    <div ng-include="noSongMessageTemplateUrl"></div>\n\n    <ul class="track-list">\n      <li ng-repeat="song in songs">\n        <sr-track song="song" options="songOptions" on-remove="$parent.remove(song)"></sr-track>\n      </li>\n    </ul>\n  </div>\n</div>\n'
}),define("text!templates/songs-group.html",[],function(){return'<div class="songs-group push-bottom">\r\n  <div class="push-top">\r\n    <div ng-include="\'templates/user/user-profile.html\'"></div>\r\n    <div ng-include="\'templates/user/user-profile-menu.html\'"></div>\r\n\r\n    <div class="track-list-actions">\r\n      <span ng-show="songs.length">{{ songs.length }}</span>\r\n      <ng-pluralize count="songs.length"\r\n          when="{ \'0\': \'\',\r\n                  \'1\': \'song\',\r\n                  \'other\': \'songs\' }">\r\n      </ng-pluralize>\r\n      <songs-actions songs="songs" options="songsActionsOptions"></songs-actions>\r\n    </div>\r\n\r\n    <div ng-include="noSongMessageTemplateUrl"></div>\r\n\r\n    <ul class="track-list">\r\n      <li ng-repeat="song in songs">\r\n        <sr-track song="song"></sr-track>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/no-loved-songs.html",[],function(){return'<div class="well well-large well-transparent">\n  <i class="icon-info icon-4x icon-muted pull-left"></i>\n  You don\'t have any loved song for the moment.<br />\n  Let\'s search for new music. Once you find a song that you love,\n  click on the <i class="icon-heart"></i> button to love it.<br />\n  Loved songs will appear on this page.\n</div>\n'}),define("text!templates/no-mostplayed-songs.html",[],function(){return'<div class="well well-large well-transparent">\n  <i class="icon-info icon-4x icon-muted pull-left"></i>\n  You haven\'t listen any song for the moment.<br />\n  Let\'s search for new music. When you listen to a song,\n  StereoBuns will keep track of how often you play it.<br />\n  Your most played songs will appear on this page.\n</div>\n'}),define("text!templates/no-playlist-songs.html",[],function(){return'<div class="well well-large well-transparent">\n  <i class="icon-info icon-4x icon-muted pull-left"></i>\n    You don\'t have any song in this playlist for the moment.<br />\n    Once you find a song that you want to add, \n    click on the <i class="icon-reorder"></i> button to select the playlist.<br />\n    Let\'s search for new music now!\n</div>\n'}),define("text!templates/artist-info/artist-info.html",[],function(){return'<div class="artist-info push-bottom row-fluid">\r\n  <div class="span9 push-top">\r\n    <div class="row-fluid">\r\n      <div class="artist span3">\r\n        <h2 class="name">{{ artist.name }}</h2>\r\n        <sr-artwork data="artist"></sr-artwork>  \r\n      </div>\r\n      <div class="span9" ng-include="\'templates/artist-info/top-albums.html\'"></div>\r\n    </div>\r\n    \r\n    <div class="row-fluid">\r\n      <div class="bio span3">\r\n        <h4 class="section-heading">Bio</h4>\r\n        <div ng-bind-html="artist.bio"></div>\r\n      </div>\r\n      <div class="span9" ng-include="\'templates/artist-info/top-tracks.html\'"></div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="span3 push-top">\r\n    <div ng-include="\'templates/artist-info/similar-artists.html\'"></div>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/artist-info/similar-artists.html",[],function(){return'<div class="similar-artists"\n     ng-controller="SimilarArtistsCtrl">\n  <h4 class="section-heading">Similar artists</h4>\n\n  <ul class="media-list">\n    <li ng-if="artists.length == 0">No similar artist found.</li>\n    <li class="media" ng-repeat="artist in artists">\n      <a class="pull-left" href="/artist/{{ artist.name }}">\n        <sr-artwork data="artist"></sr-artwork>\n      </a>\n      <div class="media-body">\n        <h6 class="media-heading">\n          <a href="/artist/{{ artist.name }}">\n            {{ artist.name }}\n          </a>\n        </h6>\n      </div>\n    </li>\n  </ul>\n</div>\n'}),define("text!templates/artist-info/top-albums.html",[],function(){return'<div class="top-albums"\n     ng-controller="TopAlbumsCtrl">\n  <h4 class="section-heading">Top albums</h4>\n\n  <ul class="unstyled">\n    <li ng-if="albums.length == 0">No top album found.</li>\n\n    <li class="pull-left" ng-repeat="album in albums">\n      <div>\n        <a class="dropdown-toggle" href="#" title="{{ album.name }}"\n           ng-click="$parent.loadAlbumTracks(album)">\n          <sr-artwork data="album"></sr-artwork>  \n        </a>\n        \n        <div class="dropdown-menu">\n          <h6>{{ album.name }}</h6>\n          <span class="divider"></span>\n          <ul class="nav nav-pills nav-stacked" sr-no-scroll-propagation>\n            <li ng-if="album.tracks.length == 0">No track found.</li>\n  \n            <li ng-repeat="track in album.tracks">\n              <a href="/track/{{ album.artist }}/{{ track.name }}">{{ track.name }}</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </li>\n  </ul>\n</div>\n'}),define("text!templates/artist-info/top-tracks.html",[],function(){return'<div class="top-tracks"\n     ng-controller="TopTracksCtrl">\n  <div class="row-fluid section-heading">\n    <h4 class="span8">Top tracks</h4>\n    <div class="span4">\n      <a class="pull-right"\n         href="/search?q={{ artist }}">Search more tracks...</a>  \n    </div>\n  </div>\n  \n  <div class="track-list-actions">\n    <span ng-show="tracks.length">{{ tracks.length }}</span>\n    <ng-pluralize count="tracks.length"\n        when="{ \'0\': \'\',\n                \'1\': \'track\',\n                \'other\': \'tracks\' }">\n    </ng-pluralize>\n    <songs-actions songs="tracks" options="tracksActionsOptions"></songs-actions>\n  </div>\n\n  <ul class="track-list">\n    <li ng-repeat="track in tracks">\n      <sr-track song="track"></sr-track>\n    </li>\n  </ul>\n</div>\n'}),define("text!templates/audio-player/audio-player.html",[],function(){return'<div ng-controller="AudioPlayerCtrl"\r\n     sr-keyboard-shortcut="{ p: \'previous()\', space: \'togglePlay()\',\r\n                             n: \'next()\', r: \'toggleRepeat()\',\r\n                             q: \'toggleQueue()\', l: \'toggleLoveStatus()\' }">\r\n  <div ng-include="\'templates/audio-player/audio-player-queue.html\'"></div>\r\n  \r\n  <div class="navbar navbar-inverse navbar-fixed-bottom">\r\n    <div class="navbar-inner">    \r\n      <div class="row-fluid audio-player">    \r\n        <div class="span3 button-bar middle">\r\n          <div class="pull-right">\r\n            <button class="btn btn-clean" ng-click="previous()">\r\n              <i class="icon-step-backward icon-large"></i>\r\n            </button>\r\n            <button class="btn btn-clean" ng-click="togglePlay()">\r\n              <i class="icon-large" ng-class="{ \'icon-play\': !isPlaying, \'icon-pause\': isPlaying }"></i>\r\n            </button>\r\n            <button class="btn btn-clean" ng-click="next()">\r\n              <i class="icon-step-forward icon-large"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="span6 hidden-phone">\r\n          <div class="row-fluid">\r\n            <div class="span2">\r\n              <a class="pull-right" href="/track/{{ song.artist }}/{{ song.name }}?trackId={{ song.trackId }}">\r\n                <sr-artwork data="song"></sr-artwork>\r\n              </a>\r\n            </div>\r\n\r\n            <div class="span10 track-info">\r\n              <div class="row-fluid">\r\n                <div class="span1 button-bar">\r\n                  <button class="btn btn-clean" title="Love"\r\n                          ng-click="toggleLoveStatus()"\r\n                          ng-show="song">\r\n                    <i ng-class="{ \'icon-heart\': song.loved, \'icon-heart-empty\': !song.loved }"></i>\r\n                  </button>\r\n                </div>\r\n                <div class="span11">\r\n                  <a href="/artist/{{ song.artist }}">\r\n                    {{ song.artist }}\r\n                  </a>\r\n                </div>\r\n              </div>\r\n                \r\n              <div class="row-fluid">\r\n                <div class="span1">\r\n                  <a href="{{ song.linkUrl }}" title="{{ song.source }}" target="_blank"\r\n                     ng-if="song" ng-click="$event.stopPropagation()">\r\n                    <img class="source" alt="{{ song.source }}"\r\n                         ng-src="/tomahawk/resolvers/{{ song.source }}/icon.png">\r\n                  </a>\r\n                </div>\r\n                <div class="span11">\r\n                  <a href="/track/{{ song.artist }}/{{ song.name }}?trackId={{ song.trackId }}">\r\n                    {{ song.name }}\r\n                  </a>\r\n                </div>\r\n              </div>\r\n\r\n              <sr-track-progress></sr-track-progress>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="span3 button-bar middle">\r\n          <button class="btn btn-clean" ng-class="{ active: shouldRepeat }" ng-click="toggleRepeat()">\r\n            <i class="icon-retweet icon-large"></i>\r\n          </button>\r\n          <button class="btn btn-clean" ng-class="{ active: shouldOpenQueue }" ng-click="toggleQueue()">\r\n            <i class="icon-list icon-large"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/audio-player/audio-player-queue.html",[],function(){return'<div class="audio-player-queue container animate-show"\n     ng-controller="AudioPlayerQueueCtrl"\n     ng-show="shouldBeOpen">\n  <div class="modal-header">\n    <div class="row-fluid">\n      <div class="span6">\n        <h4>Queue</h4>\n      </div>\n      <div class="span6">\n        <button class="btn btn-primary pull-right"\n                ng-click="close()">\n          Close\n        </button>\n      </div>\n    </div>\n  </div>\n  \n  <div class="modal-body" sr-no-scroll-propagation>\n    <div class="track-list-actions">\n      <span ng-show="songs.length">{{ songs.length }}</span>\n      <ng-pluralize count="songs.length"\n        when="{ \'0\': \'empty\',\n                \'1\': \'song\',\n                \'other\': \'songs\' }">\n      </ng-pluralize>\n      <songs-actions songs="songs" options="songsActionsOptions"\n                     on-remove="dequeue(songs)"></songs-actions>\n    </div>\n    \n    <ul class="track-list">\n      <li ng-repeat="song in songs">\n        <sr-track song="song" options="songOptions" on-remove="dequeue(song)"></sr-track>\n      </li>\n    </ul>\n  </div>\n</div>\n'}),define("text!templates/home/home.html",[],function(){return'<div class="home">\r\n  <div class="row-fluid">\r\n    <div class="span6 introduction">\r\n      <p>\r\n        <span><strong>A new music experience.</strong></span>\r\n        <br />\r\n        <span>Now in private beta.</span>\r\n      </p>\r\n    </div>\r\n\r\n    <div class="span5 offset1 oauths">\r\n      <button class="btn btn-oauth btn-oauth-google" ng-click="signIn(\'google\')">\r\n        <i class="icon-google-plus-sign icon-2x btn-oauth-icon"></i>\r\n        Sign-in with Google\r\n      </button>\r\n\r\n      <button class="btn btn-oauth btn-oauth-facebook" ng-click="signIn(\'facebook\')">\r\n        <i class="icon-facebook-sign icon-2x btn-oauth-icon"></i>\r\n        Sign-in with Facebook\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <footer>\r\n    <p>\r\n      &copy; 2013 stereobuns\r\n    </p>\r\n    <span> - </span>\r\n    <ul class="links">\r\n      <li>\r\n        <a href="mailto:{{ contactAddress }}">contact us</a>\r\n      </li>\r\n    </ul>\r\n  </footer>\r\n</div>\r\n'}),define("text!templates/keyboard-shortcuts/keyboard-shortcuts.html",[],function(){return'<div class="modal-header">\n  <h3>Keyboard Shortcuts</h3>\n</div>\n<div class="modal-body">\n  <div class="row-fluid keyboard-shortcuts">\n    <div class="span6">\n      <h4>Navigation</h4>\n      <dl>\n        <dt>\n          <xkb>h</xkb>\n        </dt>\n        <dd>This help</dd>\n        <dt>\n          <xkb>esc</xkb>\n        </dt>\n        <dd>Close dialog window</dd>\n      </dl>\n    </div>\n    <div class="span6">\n      <h4>Player</h4>\n      <dl>\n        <dt>\n          <xkb>Space</xkb>\n        </dt>\n        <dd>Toggle play & pause</dd>\n        <dt>\n          <xkb>p</xkb>\n        </dt>\n        <dd>Previous song</dd>\n        <dt>\n          <xkb>n</xkb>\n        </dt>\n        <dd>Next song</dd>\n        <dt>\n          <xkb>r</xkb>\n        </dt>\n        <dd>Toggle repeat mode</dd>\n        <dt>\n          <xkb>q</xkb>\n        </dt>\n        <dd>Open/Close the queue</dd>\n        <dt>\n          <xkb>l</xkb>\n        </dt>\n        <dd>Love/Unlove playing song</dd>\n      </dl>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-primary" ng-click="close()">Close</button>\n</div>\n'}),define("text!templates/settings/settings.html",[],function(){return'<div class="settings push-bottom row-fluid">\n  <div class="span2">\n    <div class="push-top">\n      <ul class="nav nav-pills nav-stacked">\n        <li class="active">\n          <a href="/settings/account">\n            Account\n            <i class="icon-caret-right pull-right"></i>\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n  \n  <div class="span10">\n    <div class="heading well well-small">\n      <h2>Account</h2>\n      <p>Change your personal account settings</p>\n    </div>\n\n    <alert ng-if="error"\n           type="error.isBusiness ? \'warning\' : \'error\'"\n           close="closeErrorAlert()">\n      <strong>{{ error.title }} </strong>\n      {{ error.message }}\n    </alert>\n    \n    <form class="form-horizontal"\n          name="invitationForm"\n          ng-submit="setInvitationCode()"\n          novalidate>\n      <fieldset>\n        <legend>Invitation</legend>\n\n        <div ng-switch on="hasInvitation">\n          <div ng-switch-when="true" class="alert alert-success">\n            <strong>Hooray! </strong>\n            You have access to StereoBuns.\n          </div>\n\n          <div ng-switch-default>\n            <div class="alert alert-info">\n              <strong>Hey, </strong>\n              Enter your invitation code to unlock StereoBuns. \n            </div>\n        \n            <div class="control-group">\n              <label class="control-label" for="codeInput">Code</label>\n              <div class="controls">\n                <input type="text" id="codeInput" name="codeInput"\n                       placeholder="ex: 21EC20203AEA"\n                       ng-model="$parent.invitationCode"\n                       required\n                       ng-pattern="/^[0-9a-f]{12}$/i">\n                <span class="error" ng-show="invitationForm.codeInput.$error.required">Required!</span>\n                <span class="error" ng-show="invitationForm.codeInput.$error.pattern">Invalid format!</span>\n              </div>\n            </div>\n\n            <div class="control-group">\n              <div class="controls">\n                <button type="submit" class="btn">Submit</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </fieldset>\n    </form>\n\n    <fieldset>\n      <legend>Delete Account</legend>\n\n      <div class="alert">\n        <strong>Warning! </strong>\n        This operation cannot be undone. Please be certain.\n      </div>\n\n      <a href="#" class="btn btn-danger"\n         ng-click="openDeleteConfirmationBox(); $event.preventDefault()">Delete your account</a>\n    </fieldset>\n  </div>\n</div>\n'}),define("text!templates/track/track.html",[],function(){return'<div class="track"\n     ng-show="song">\n  <a href="/track/{{ song.artist }}/{{ song.name }}?trackId={{ song.trackId }}">\n    <sr-artwork data="song"></sr-artwork>\n  </a>\n\n  <div class="track-heading">\n    <div class="track-player">\n      <img src="/img/vinyl.png" class="vinyl"\n           ng-class="{ play: isPlaying }">\n      <button class="btn btn-clean play" title="Play"\n              ng-click="togglePlay(); $event.stopPropagation()" ng-if="!isPlaying">\n        <i class="icon-play icon-large"></i>\n      </button>\n      <button class="btn btn-clean pause" title="Pause"\n              ng-click="togglePlay(); $event.stopPropagation()" ng-if="isPlaying">\n        <i class="icon-pause icon-large"></i>\n      </button>\n    </div>\n      \n    <h4 class="track-artist">\n      <a href="/artist/{{ song.artist }}">\n        {{ song.artist }}\n      </a>\n    </h4>\n  </div>\n  \n  <p>\n    <a href="/track/{{ song.artist }}/{{ song.name }}?trackId={{ song.trackId }}">\n      {{ song.name }}\n    </a>\n  </p>\n\n  <sr-track-progress ng-if="isPlaying"></sr-track-progress>\n    \n  <div class="row-fluid">\n    <div class="span8">\n      <songs-actions songs="song" options="options"\n                     on-remove="remove(songs)"></songs-actions>\n    </div>\n      \n    <div class="span4">\n      <p class="track-links pull-right">\n        <a href="{{ song.linkUrl }}" title="{{ song.source }}" target="_blank"\n           ng-click="$event.stopPropagation()">\n          <img class="source" alt="{{ song.source }}"\n               ng-src="/tomahawk/resolvers/{{ song.source }}/icon.png">\n        </a>\n      </p>\n    </div>\n  </div>\n</div>\n'}),define("text!templates/track/progress/track-progress.html",[],function(){return'<div class="track-progress">\r\n  <span class="progress-position">{{ progress.position | time }}</span>\r\n  <div class="progress">\r\n    <div class="bar bar-info" style="width: {{ progress.percentage + \'%\' }};"></div>\r\n    <div class="bar bar-success loading" style="width: {{ loadingPercentage + \'%\' }};"></div>\r\n  </div>\r\n  <span class="progress-duration">{{ progress.duration | time }}</span>\r\n</div>\r\n'}),define("text!templates/track-info/track-info.html",[],function(){return'<div class="track-info push-bottom row-fluid">\r\n  <div class="span9 push-top">\r\n    <a class="pull-right"\r\n       href="/search?q={{ song.artist }} {{ song.name }}"\r\n       ng-show="song">More results...</a>  \r\n    <sr-track song="song"></sr-track>\r\n    <form name="commentForm"\r\n          ng-submit="addComment()"\r\n          novalidate>\r\n      <input type="text" name="commentInput" class="input-block-level"\r\n             placeholder="Write a comment..."\r\n             maxlength="140"\r\n             ng-model="newComment"\r\n             required\r\n             ng-minlength="1"\r\n             ng-maxlength="140">\r\n    </form>\r\n    \r\n    <div class="comments">\r\n      <h4 class="section-heading">Comments</h4>\r\n    \r\n      <span ng-show="comments.length">{{ comments.length }}</span>\r\n      <ng-pluralize count="comments.length"\r\n          when="{ \'0\': \'Be the first to write a comment.\',\r\n                  \'1\': \'comment\',\r\n                  \'other\': \'comments\' }">\r\n      </ng-pluralize>\r\n      \r\n      <ul class="media-list">\r\n        <li class="media" ng-repeat="comment in comments">\r\n          <img class="media-object pull-left" alt="{{ comment._creator.name }}"\r\n               ng-src="{{ comment._creator.picture }}">\r\n          <div class="media-body">\r\n            <h6 class="media-heading">\r\n              {{ comment._creator.name }}\r\n              <small>on {{ comment.createdAt | date: \'medium\' }}</small>\r\n            </h6>\r\n            {{ comment.body }}\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class="span3 push-top">\r\n    <div ng-include="\'templates/track-info/track-album.html\'"></div>\r\n    <div ng-include="\'templates/track-info/similar-tracks.html\'"></div>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/track-info/track-album.html",[],function(){return'<div class="track-album"\r\n     ng-controller="TrackAlbumCtrl">\r\n  <h4 class="section-heading">Featured on album</h4>\r\n  \r\n  <div ng-switch="album">\r\n    <p ng-switch-when="">\r\n      The album of this track has not been found.\r\n    </p>\r\n    \r\n    <div ng-switch-default>\r\n      <sr-artwork data="album"></sr-artwork>\r\n      <h5>{{ album.name }}</h5>\r\n      \r\n      <ul class="nav">\r\n        <li ng-if="album.tracks.length == 0">No track found.</li>\r\n      \r\n        <li ng-repeat="track in album.tracks">\r\n          <a href="/track/{{ song.artist }}/{{ track.name }}">{{ track.name }}</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/track-info/similar-tracks.html",[],function(){return'<div class="similar-tracks"\n     ng-controller="SimilarTracksCtrl">\n  <h4 class="section-heading">Similar tracks</h4>\n  \n  <ul class="media-list">\n    <li ng-if="tracks.length == 0">No similar track found.</li>\n\n    <li class="media" ng-repeat="track in tracks">\n      <a class="pull-left" href="/track/{{ track.artist }}/{{ track.name }}">\n        <sr-artwork data="track"></sr-artwork>\n      </a>\n      <div class="media-body">\n        <h6 class="media-heading">\n          <a href="/artist/{{ track.artist }}">\n            {{ track.artist }}\n          </a>\n        </h6>\n        <a href="/track/{{ track.artist }}/{{ track.name }}">\n          {{ track.name }}\n        </a>\n      </div>\n    </li>\n  </ul>\n</div>\n'}),define("text!templates/track-search/track-search.html",[],function(){return'<form novalidate class="navbar-search pull-left" name="searchForm"\r\n      ng-controller="TrackSearchCtrl" ng-submit="search()">\r\n    <input type="text" class="search-query" name="queryField" placeholder="Search" ng-model="query" required>\r\n</form>\r\n'}),define("text!templates/track-search/track-search-results.html",[],function(){return'<div class="track-search-results push-bottom">\r\n  <div class="searching text-center" ng-if="isSearching">\r\n    <i class="icon-spinner icon-spin icon-large"></i> Searching...\r\n  </div>\r\n    \r\n  <div class="row-fluid" ng-hide="isSearching">\r\n    <div class="span2 push-top">\r\n      <h4>Filter</h4>\r\n      \r\n      <ul class="nav nav-pills nav-stacked" ng-show="hasResult">\r\n        <li ng-class="{ active: !searchFilter }">\r\n          <a href="#" ng-click="filterBy(); $event.preventDefault()">\r\n            No filter\r\n          </a>\r\n        </li>\r\n        <li ng-class="{ active: searchFilter == \'artist\' }">\r\n          <a href="#" ng-click="filterBy(\'artist\'); $event.preventDefault()">\r\n            Artist name\r\n          </a>\r\n        </li>\r\n        <li ng-class="{ active: searchFilter == \'name\' }">\r\n          <a href="#" ng-click="filterBy(\'name\'); $event.preventDefault()">\r\n            Track name\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n      \r\n    <div class="span10">\r\n      <form novalidate class="form-search" name="searchForm"\r\n            ng-controller="TrackSearchCtrl"\r\n            ng-submit="search()"\r\n            ng-init="query = $parent.searchQuery">\r\n        <input type="text" name="queryField" placeholder="Search"\r\n               class="search-query input-block-level"\r\n               ng-model="query"\r\n               required>\r\n      </form>\r\n      \r\n      <div class="track-list-actions">\r\n        <span ng-show="songs.length">{{ songs.length }}</span>\r\n        <ng-pluralize count="songs.length"\r\n            when="{ \'0\': \'no track\',\r\n                    \'1\': \'track\',\r\n                    \'other\': \'tracks\' }">\r\n        </ng-pluralize>\r\n        <span ng-show="songs.length">found</span>\r\n      </div>\r\n      \r\n      <ul class="track-list">\r\n        <li ng-repeat="song in songs">\r\n          <sr-track song="song"></sr-track>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/user/user-menu.html",[],function(){return'<div class="user-menu"\r\n     ng-controller="UserMenuCtrl"\r\n     sr-keyboard-shortcut="{ h: \'openKeyboardShortcuts()\' }">\r\n\r\n  <div class="dropdown visible-desktop" ng-init="isOpen = false">\r\n    <button class="btn btn-clean dropdown-toggle" ng-class="{ active: isOpen }" ng-click="isOpen = !isOpen">\r\n      <img alt="{{ user.name }}" ng-src="{{ user.picture }}">\r\n      {{ user.name }}\r\n      <i class="icon-caret-down icon-large"></i>\r\n    </button>\r\n    <ul class="dropdown-menu">\r\n      <li>\r\n        <a href="#" ng-click="openKeyboardShortcuts(); $event.preventDefault()">Keyboard shortcuts</a>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li>\r\n        <a href="/settings/account">Settings</a>\r\n      </li>\r\n      <li>\r\n        <a href="#" ng-click="signOut(); $event.preventDefault()">Sign out</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  \r\n  <div class="hidden-desktop">\r\n    <img alt="{{ user.name }}" ng-src="{{ user.picture }}">\r\n    {{ user.name }}\r\n    <ul class="nav nav-pills nav-stacked">\r\n      <li>\r\n        <a href="/settings/account">Settings</a>\r\n      </li>\r\n      <li>\r\n        <a href="#" ng-click="signOut(); $event.preventDefault()">Sign out</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/user/user-profile.html",[],function(){return'<div class="user-profile media"\r\n     ng-controller="UserProfileCtrl">\r\n  <span class="pull-left">\r\n    <img alt="{{ user.name }}" class="media-object" ng-src="{{ user.picture }}">\r\n  </span>\r\n  <div class="media-body">\r\n    <h4>{{ user.name }}</h4>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/user/user-profile-menu.html",[],function(){return'<ul class="user-profile-menu nav nav-tabs"\r\n    ng-controller="UserProfileMenuCtrl">\r\n  <li ng-repeat="songsGroup in songsGroups"\r\n      ng-class="{ active: $parent.isCurrentSongsGroup(songsGroup) }">\r\n    <a href="/{{ userName }}/tracks/{{ songsGroup.id }}">\r\n      <i class="{{ songsGroup.icon }}"></i>\r\n      {{ songsGroup.name }}\r\n    </a>\r\n  </li>\r\n  \r\n  <li class="dropdown"\r\n      ng-class="{ active: isPlaylist }">\r\n    <a class="dropdown-toggle" href="#">\r\n      <i class="icon-reorder"></i>\r\n      Playlists\r\n      <span class="badge">{{ playlists.length }}</span>\r\n      <i class="icon-caret-down"></i>\r\n    </a>\r\n    <ul class="dropdown-menu">\r\n      <li ng-repeat="playlist in playlists"\r\n          ng-class="{ active: $parent.isCurrentPlaylist(playlist) }">\r\n        <a href="/{{ userName }}/playlist/{{ playlist.name | lowercase }}">\r\n          {{ playlist.name }}<span class="badge pull-right">{{ playlist.length }}</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </li>\r\n</ul>\r\n'}),function(e,t){t.module("ngAnimate",["ng"]).config(["$provide","$animateProvider",function(e,n){function i(e,n){var i="";return e=t.isArray(e)?e:e.split(/\s+/),a(e,function(e,t){e&&e.length>0&&(i+=(t>0?" ":"")+e+n)}),i}var o=t.noop,a=t.forEach,r=n.$$selectors,s="$$ngAnimateState",l={running:!0};e.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$timeout",function(e,t,n,u,c){function d(e){if(e){var n=[],i={},o=e.substr(1).split(".");o.push("");for(var a=0;a<o.length;a++){var s=o[a],l=r[s];l&&!i[s]&&(n.push(t.get(l)),i[s]=!0)}return n}}function f(e,t,n,r,l,u){function f(e){var t=!0;a(e,function(e){(e.endFn||o)(t)})}function p(e){v[e].done=!0,(v[e].endFn||o)();for(var t=0;t<v.length;t++)if(!v[t].done)return;h()}function h(){h.hasBeenRun||(h.hasBeenRun=!0,n.removeClass(t),n.removeData(s),(u||o)())}var m=(n.attr("class")||"")+" "+t,g=(" "+m).replace(/\s+/g,"."),v=[];a(d(g),function(t){v.push({start:t[e]})}),r||(r=l?l.parent():n.parent());var y={running:!0};if((r.inheritedData(s)||y).running)return c(u||o,0,!1),void 0;var b=n.data(s)||{};b.running&&(f(b.animations),b.done()),n.data(s,{running:!0,animations:v,done:h});var x=t;"addClass"==e?t=i(t,"-add"):"removeClass"==e&&(t=i(t,"-remove")),n.addClass(t),a(v,function(t,i){var o=function(){p(i)};t.start?t.endFn="addClass"==e||"removeClass"==e?t.start(n,x,o):t.start(n,o):o()})}return u.data(s,l),{enter:function(t,n,i,o){e.enter(t,n,i),f("enter","ng-enter",t,n,i,o)},leave:function(t,n){f("leave","ng-leave",t,null,null,function(){e.leave(t,n)})},move:function(t,n,i,o){e.move(t,n,i),f("move","ng-move",t,null,null,o)},addClass:function(t,n,i){f("addClass",n,t,null,null,function(){e.addClass(t,n,i)})},removeClass:function(t,n,i){f("removeClass",n,t,null,null,function(){e.removeClass(t,n,i)})},enabled:function(e){return arguments.length&&(l.running=!e),!l.running}}}]),n.register("",["$window","$sniffer","$timeout",function(e,n,o){function a(i,a,s){function l(e){var n=0,i=t.isString(e)?e.split(/\s*,\s*/):[];return r(i,function(e){n=Math.max(parseFloat(e)||0,n)}),n}function u(){var t=0;r(a.split(" "),function(e,t){d+=(t>0?" ":"")+e+"-active"}),i.addClass(d);var u="animation",c="transition",f=n.vendorPrefix+"Animation",p=n.vendorPrefix+"Transition",h="Duration",m="Delay",g="IterationCount",v=1;r(i,function(n){if(n.nodeType==v){var i=e.getComputedStyle(n)||{},o=Math.max(l(i[c+m]),l(i[p+m])),a=Math.max(l(i[u+m]),l(i[f+m])),r=Math.max(l(i[c+h]),l(i[p+h])),s=Math.max(l(i[u+h]),l(i[f+h]));s>0&&(s*=Math.max(parseInt(i[u+g])||0,parseInt(i[f+g])||0,1)),t=Math.max(a+s,o+r,t)}}),o(s,1e3*t,!1)}function c(e){i.removeClass(d),e&&s()}if(n.transitions||n.animations){var d="";return o(u,1,!1),c}s()}t.noop;var r=t.forEach;return{enter:function(e,t){return a(e,"ng-enter",t)},leave:function(e,t){return a(e,"ng-leave",t)},move:function(e,t){return a(e,"ng-move",t)},addClass:function(e,t,n){return a(e,i(t,"-add"),n)},removeClass:function(e,t,n){return a(e,i(t,"-remove"),n)}}}])}])}(window,window.angular),define("angular-animate",["angular"],function(){}),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function i(e){for(var t in e)if(void 0!==a.style[t])return e[t]}var o=function(i,a,r){r=r||{};var s=e.defer(),l=o[r.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){i.unbind(l,u),s.resolve(i)})};return l&&i.bind(l,u),t(function(){angular.isString(a)?i.addClass(a):angular.isFunction(a)?a(i):angular.isObject(a)&&i.css(a),l||s.resolve(i)}),s.promise.cancel=function(){l&&i.unbind(l,u),s.reject("Transition cancelled")},s.promise},a=document.createElement("trans"),r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return o.transitionEndEventName=i(r),o.animationEndEventName=i(s),o}]),define("angular-ui-bootstrap-transition",["angular"],function(){}),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){var t=function(e,t,n){t.removeClass("collapse"),t.css({height:n}),t[0].offsetWidth,t.addClass("collapse")};return{link:function(n,i,o){var a,r=!0;n.$watch(function(){return i[0].scrollHeight},function(){0!==i[0].scrollHeight&&(a||(r?t(n,i,i[0].scrollHeight+"px"):t(n,i,"auto")))}),n.$watch(o.collapse,function(e){e?c():u()});var s,l=function(t){return s&&s.cancel(),s=e(i,t),s.then(function(){s=void 0},function(){s=void 0}),s},u=function(){r?(r=!1,a||t(n,i,"auto")):l({height:i[0].scrollHeight+"px"}).then(function(){a||t(n,i,"auto")}),a=!1},c=function(){a=!0,r?(r=!1,t(n,i,0)):(t(n,i,i[0].scrollHeight+"px"),l({height:"0"}))}}}}]),define("angular-ui-bootstrap-collapse",["angular-ui-bootstrap-transition"],function(){}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(e){var t=null,n=angular.noop;return{restrict:"CA",link:function(i,o){i.$watch("$location.path",function(){n()}),o.parent().bind("click",function(){n()}),o.bind("click",function(i){var a=o===t;i.preventDefault(),i.stopPropagation(),t&&n(),a||(o.parent().addClass("open"),t=o,n=function(i){i&&(i.preventDefault(),i.stopPropagation()),e.unbind("click",n),o.parent().removeClass("open"),n=angular.noop,t=null
},e.bind("click",n))})}}}]),define("angular-ui-bootstrap-dropdownToggle",["angular"],function(){});var dialogModule=angular.module("ui.bootstrap.dialog",["ui.bootstrap.transition"]);dialogModule.controller("MessageBoxController",["$scope","dialog","model",function(e,t,n){e.title=n.title,e.message=n.message,e.buttons=n.buttons,e.close=function(e){t.close(e)}}]),dialogModule.provider("$dialog",function(){var e={backdrop:!0,dialogClass:"modal",backdropClass:"modal-backdrop",transitionClass:"fade",triggerClass:"in",resolve:{},backdropFade:!1,dialogFade:!1,keyboard:!0,backdropClick:!0},t={},n={value:0};this.options=function(e){t=e},this.$get=["$http","$document","$compile","$rootScope","$controller","$templateCache","$q","$transition","$injector",function(i,o,a,r,s,l,u,c,d){function f(e){var t=angular.element("<div>");return t.addClass(e),t}function p(n){var i=this,o=this.options=angular.extend({},e,t,n);this._open=!1,this.backdropEl=f(o.backdropClass),o.backdropFade&&(this.backdropEl.addClass(o.transitionClass),this.backdropEl.removeClass(o.triggerClass)),this.modalEl=f(o.dialogClass),o.dialogFade&&(this.modalEl.addClass(o.transitionClass),this.modalEl.removeClass(o.triggerClass)),this.handledEscapeKey=function(e){27===e.which&&(i.close(),e.preventDefault(),i.$scope.$apply())},this.handleBackDropClick=function(e){i.close(),e.preventDefault(),i.$scope.$apply()}}var h=o.find("body");return p.prototype.isOpen=function(){return this._open},p.prototype.open=function(e,t){var n=this,i=this.options;if(e&&(i.templateUrl=e),t&&(i.controller=t),!i.template&&!i.templateUrl)throw new Error("Dialog.open expected template or templateUrl, neither found. Use options or open method to specify them.");return this._loadResolves().then(function(e){var t=e.$scope=n.$scope=e.$scope?e.$scope:r.$new();if(n.modalEl.html(e.$template),n.options.controller){var i=s(n.options.controller,e);n.modalEl.children().data("ngControllerController",i)}a(n.modalEl)(t),n._addElementsToDom(),setTimeout(function(){n.options.dialogFade&&n.modalEl.addClass(n.options.triggerClass),n.options.backdropFade&&n.backdropEl.addClass(n.options.triggerClass)}),n._bindEvents()}),this.deferred=u.defer(),this.deferred.promise},p.prototype.close=function(e){function t(e){e.removeClass(i.options.triggerClass)}function n(){i._open&&i._onCloseComplete(e)}var i=this,o=this._getFadingElements();if(o.length>0)for(var a=o.length-1;a>=0;a--)c(o[a],t).then(n);else this._onCloseComplete(e)},p.prototype._getFadingElements=function(){var e=[];return this.options.dialogFade&&e.push(this.modalEl),this.options.backdropFade&&e.push(this.backdropEl),e},p.prototype._bindEvents=function(){this.options.keyboard&&h.bind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.bind("click",this.handleBackDropClick)},p.prototype._unbindEvents=function(){this.options.keyboard&&h.unbind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.unbind("click",this.handleBackDropClick)},p.prototype._onCloseComplete=function(e){this._removeElementsFromDom(),this._unbindEvents(),this.deferred.resolve(e)},p.prototype._addElementsToDom=function(){h.append(this.modalEl),this.options.backdrop&&(0===n.value&&h.append(this.backdropEl),n.value++),this._open=!0},p.prototype._removeElementsFromDom=function(){this.modalEl.remove(),this.options.backdrop&&(n.value--,0===n.value&&this.backdropEl.remove()),this._open=!1},p.prototype._loadResolves=function(){var e,t=[],n=[],o=this;return this.options.template?e=u.when(this.options.template):this.options.templateUrl&&(e=i.get(this.options.templateUrl,{cache:l}).then(function(e){return e.data})),angular.forEach(this.options.resolve||[],function(e,i){n.push(i),t.push(angular.isString(e)?d.get(e):d.invoke(e))}),n.push("$template"),t.push(e),u.all(t).then(function(e){var t={};return angular.forEach(e,function(e,i){t[n[i]]=e}),t.dialog=o,t})},{dialog:function(e){return new p(e)},messageBox:function(e,t,n){return new p({templateUrl:"template/dialog/message.html",controller:"MessageBoxController",resolve:{model:function(){return{title:e,message:t,buttons:n}}}})}}}]}),define("angular-ui-bootstrap-dialog",["angular-ui-bootstrap-transition"],function(){}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"},link:function(e,t,n){e.closeable="close"in n}}}),define("angular-ui-bootstrap-alert",["angular"],function(){}),define("templates-loader",["angular","text!angular-ui-bootstrap-template/dialog/message.html","text!angular-ui-bootstrap-template/alert/alert.html","text!templates/playlist-chooser-drt.html","text!templates/songs-actions-drt.html","text!templates/playlist.html","text!templates/songs-group.html","text!templates/no-loved-songs.html","text!templates/no-mostplayed-songs.html","text!templates/no-playlist-songs.html","text!templates/artist-info/artist-info.html","text!templates/artist-info/similar-artists.html","text!templates/artist-info/top-albums.html","text!templates/artist-info/top-tracks.html","text!templates/audio-player/audio-player.html","text!templates/audio-player/audio-player-queue.html","text!templates/home/home.html","text!templates/keyboard-shortcuts/keyboard-shortcuts.html","text!templates/settings/settings.html","text!templates/track/track.html","text!templates/track/progress/track-progress.html","text!templates/track-info/track-info.html","text!templates/track-info/track-album.html","text!templates/track-info/similar-tracks.html","text!templates/track-search/track-search.html","text!templates/track-search/track-search-results.html","text!templates/user/user-menu.html","text!templates/user/user-profile.html","text!templates/user/user-profile-menu.html","angular-animate","angular-ui-bootstrap-collapse","angular-ui-bootstrap-dropdownToggle","angular-ui-bootstrap-dialog","angular-ui-bootstrap-alert"],function(e,t,n,i,o,a,r,s,l,u,c,d,f,p,h,m,g,v,y,b,x,w,$,C,k,T,S,_,E){var M=e.module("soundrocket.templates-loader",["ngAnimate","ui.bootstrap.collapse","ui.bootstrap.dropdownToggle","ui.bootstrap.dialog","ui.bootstrap.alert"]);return M.run(["$templateCache",function(e){e.put("template/dialog/message.html",t),e.put("template/alert/alert.html",n),e.put("templates/playlist-chooser-drt.html",i),e.put("templates/songs-actions-drt.html",o),e.put("templates/playlist.html",a),e.put("templates/songs-group.html",r),e.put("templates/no-loved-songs.html",s),e.put("templates/no-mostplayed-songs.html",l),e.put("templates/no-playlist-songs.html",u),e.put("templates/artist-info/artist-info.html",c),e.put("templates/artist-info/similar-artists.html",d),e.put("templates/artist-info/top-albums.html",f),e.put("templates/artist-info/top-tracks.html",p),e.put("templates/audio-player/audio-player.html",h),e.put("templates/audio-player/audio-player-queue.html",m),e.put("templates/home/home.html",g),e.put("templates/keyboard-shortcuts/keyboard-shortcuts.html",v),e.put("templates/settings/settings.html",y),e.put("templates/track/track.html",b),e.put("templates/track/progress/track-progress.html",x),e.put("templates/track-info/track-info.html",w),e.put("templates/track-info/track-album.html",$),e.put("templates/track-info/similar-tracks.html",C),e.put("templates/track-search/track-search.html",k),e.put("templates/track-search/track-search-results.html",T),e.put("templates/user/user-menu.html",S),e.put("templates/user/user-profile.html",_),e.put("templates/user/user-profile-menu.html",E)}]),M}),require.config({paths:{templates:"../templates",text:"../components/requirejs-text/text",angular:"../components/angular/angular","angular-route":"../components/angular-route/angular-route","angular-cookies":"../components/angular-cookies/angular-cookies","angular-animate":"../components/angular-animate/angular-animate","angular-ui-bootstrap-template":"../components/angular-ui-bootstrap/template","angular-ui-bootstrap-transition":"../components/angular-ui-bootstrap/src/transition/transition","angular-ui-bootstrap-collapse":"../components/angular-ui-bootstrap/src/collapse/collapse","angular-ui-bootstrap-dialog":"../components/angular-ui-bootstrap/src/dialog/dialog","angular-ui-bootstrap-dropdownToggle":"../components/angular-ui-bootstrap/src/dropdownToggle/dropdownToggle","angular-ui-bootstrap-alert":"../components/angular-ui-bootstrap/src/alert/alert",soundmanager2:"../components/soundmanager/script/soundmanager2",observable:"lib/observable"},shim:{angular:{exports:"angular"},"angular-route":{deps:["angular"]},"angular-cookies":{deps:["angular"]},"angular-animate":{deps:["angular"]},"angular-ui-bootstrap-dropdownToggle":{deps:["angular"]},"angular-ui-bootstrap-alert":{deps:["angular"]},"angular-ui-bootstrap-transition":{deps:["angular"]},"angular-ui-bootstrap-collapse":{deps:["angular-ui-bootstrap-transition"]},"angular-ui-bootstrap-dialog":{deps:["angular-ui-bootstrap-transition"]},soundmanager2:{exports:"soundManager"}},packages:["components/playlist-chooser","components/songs-actions","controllers","models","common","artist-info","audio-player","home","keyboard-shortcuts","layout","settings","track","track-info","track-search","user"]}),require(["angular","app","routes","templates-loader"],function(e,t,n,i){var o=e.element(document);o.ready(function(){var a=o.find("html");e.bootstrap(a,[t.name,n.name,i.name]),a.addClass("ng-app")})}),define("main",function(){});