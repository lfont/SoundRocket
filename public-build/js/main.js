!function(e,t,n){function i(e){return function(){var t,n,i=arguments[0],o="["+(e?e+":":"")+i+"] ",a=arguments[1],r=arguments,s=function(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e};for(t=o+a.replace(/\{\d+\}/g,function(e){var t,n=+e.slice(1,-1);return n+2<r.length?(t=r[n+2],"function"==typeof t?t.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?R(t):t):e}),t=t+"\nhttp://errors.angularjs.org/1.2.1/"+(e?e+"/":"")+i,n=2;n<arguments.length;n++)t=t+(2==n?"?":"&")+"p"+(n-2)+"="+encodeURIComponent(s(arguments[n]));return new Error(t)}}function o(e){if(null==e||S(e))return!1;var t=e.length;return 1===e.nodeType&&t?!0:x(e)||k(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function a(e,t,n){var i;if(e)if(C(e))for(i in e)"prototype"!=i&&"length"!=i&&"name"!=i&&e.hasOwnProperty(i)&&t.call(n,e[i],i);else if(e.forEach&&e.forEach!==a)e.forEach(t,n);else if(o(e))for(i=0;i<e.length;i++)t.call(n,e[i],i);else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i);return e}function r(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function s(e,t,n){for(var i=r(e),o=0;o<i.length;o++)t.call(n,e[i[o]],i[o]);return i}function l(e){return function(t,n){e(n,t)}}function u(){for(var e,t=hi.length;t;){if(t--,e=hi[t].charCodeAt(0),57==e)return hi[t]="A",hi.join("");if(90!=e)return hi[t]=String.fromCharCode(e+1),hi.join("");hi[t]="0"}return hi.unshift("0"),hi.join("")}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function d(e){var t=e.$$hashKey;return a(arguments,function(t){t!==e&&a(t,function(t,n){e[n]=t})}),c(e,t),e}function f(e){return parseInt(e,10)}function p(e,t){return d(new(d(function(){},{prototype:e})),t)}function h(){}function m(e){return e}function g(e){return function(){return e}}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!=e&&"object"==typeof e}function x(e){return"string"==typeof e}function w(e){return"number"==typeof e}function $(e){return"[object Date]"==di.apply(e)}function k(e){return"[object Array]"==di.apply(e)}function C(e){return"function"==typeof e}function T(e){return"[object RegExp]"==di.apply(e)}function S(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function _(e){return e&&e.$evalAsync&&e.$watch}function E(e){return"[object File]"===di.apply(e)}function M(e){return e&&(e.nodeName||e.on&&e.find)}function D(e,t,n){var i=[];return a(e,function(e,o,a){i.push(t.call(n,e,o,a))}),i}function P(e,t){return-1!=N(e,t)}function N(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function O(e,t){var n=N(e,t);return n>=0&&e.splice(n,1),t}function L(e,t){if(S(e)||_(e))throw fi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw fi("cpi","Can't copy! Source and destination are identical.");if(k(e)){t.length=0;for(var n=0;n<e.length;n++)t.push(L(e[n]))}else{var i=t.$$hashKey;a(t,function(e,n){delete t[n]});for(var o in e)t[o]=L(e[o]);c(t,i)}}else t=e,e&&(k(e)?t=L(e,[]):$(e)?t=new Date(e.getTime()):T(e)?t=new RegExp(e.source):b(e)&&(t=L(e,{})));return t}function A(e,t){t=t||{};for(var n in e)e.hasOwnProperty(n)&&"$$"!==n.substr(0,2)&&(t[n]=e[n]);return t}function q(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,o,a,r=typeof e,s=typeof t;if(r==s&&"object"==r){if(!k(e)){if($(e))return $(t)&&e.getTime()==t.getTime();if(T(e)&&T(t))return e.toString()==t.toString();if(_(e)||_(t)||S(e)||S(t)||k(t))return!1;a={};for(o in e)if("$"!==o.charAt(0)&&!C(e[o])){if(!q(e[o],t[o]))return!1;a[o]=!0}for(o in t)if(!a.hasOwnProperty(o)&&"$"!==o.charAt(0)&&t[o]!==n&&!C(t[o]))return!1;return!0}if(!k(t))return!1;if((i=e.length)==t.length){for(o=0;i>o;o++)if(!q(e[o],t[o]))return!1;return!0}}return!1}function B(){return t.securityPolicy&&t.securityPolicy.isActive||t.querySelector&&!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"))}function j(e,t,n){return e.concat(ui.call(t,n))}function H(e,t){return ui.call(e,t||0)}function I(e,t){var n=arguments.length>2?H(arguments,2):[];return!C(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(ui.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function F(e,i){var o=i;return"string"==typeof e&&"$"===e.charAt(0)?o=n:S(i)?o="$WINDOW":i&&t===i?o="$DOCUMENT":_(i)&&(o="$SCOPE"),o}function R(e,t){return"undefined"==typeof e?n:JSON.stringify(e,F,t?"  ":null)}function U(e){return x(e)?JSON.parse(e):e}function W(e){if(e&&0!==e.length){var t=ei(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function V(e){e=ai(e).clone();try{e.html("")}catch(t){}var n=3,i=ai("<div>").append(e).html();try{return e[0].nodeType===n?ei(i):i.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+ei(t)})}catch(t){return ei(i)}}function z(e){try{return decodeURIComponent(e)}catch(t){}}function X(e){var t,n,i={};return a((e||"").split("&"),function(e){if(e&&(t=e.split("="),n=z(t[0]),y(n))){var o=y(t[1])?z(t[1]):!0;i[n]?k(i[n])?i[n].push(o):i[n]=[i[n],o]:i[n]=o}}),i}function Q(e){var t=[];return a(e,function(e,n){k(e)?a(e,function(e){t.push(G(n,!0)+(e===!0?"":"="+G(e,!0)))}):t.push(G(n,!0)+(e===!0?"":"="+G(e,!0)))}),t.length?t.join("&"):""}function Y(e){return G(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function G(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function J(e,n){function i(e){e&&s.push(e)}var o,r,s=[e],l=["ng:app","ng-app","x-ng-app","data-ng-app"],u=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;a(l,function(n){l[n]=!0,i(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(a(e.querySelectorAll("."+n),i),a(e.querySelectorAll("."+n+"\\:"),i),a(e.querySelectorAll("["+n+"]"),i))}),a(s,function(e){if(!o){var t=" "+e.className+" ",n=u.exec(t);n?(o=e,r=(n[2]||"").replace(/\s+/g,",")):a(e.attributes,function(t){!o&&l[t.name]&&(o=e,r=t.value)})}}),o&&n(o,r?[r]:[])}function K(n,i){var o=function(){if(n=ai(n),n.injector()){var e=n[0]===t?"document":V(n);throw fi("btstrpd","App Already Bootstrapped with this Element '{0}'",e)}i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.unshift("ng");var o=Mt(i);return o.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),o},r=/^NG_DEFER_BOOTSTRAP!/;return e&&!r.test(e.name)?o():(e.name=e.name.replace(r,""),pi.resumeBootstrap=function(e){a(e,function(e){i.push(e)}),o()},void 0)}function Z(e,t){return t=t||"_",e.replace(gi,function(e,n){return(n?t:"")+e.toLowerCase()})}function et(){ri=e.jQuery,ri?(ai=ri,d(ri.fn,{scope:Si.scope,isolateScope:Si.isolateScope,controller:Si.controller,injector:Si.injector,inheritedData:Si.inheritedData}),ct("remove",!0,!0,!1),ct("empty",!1,!1,!1),ct("html",!1,!1,!0)):ai=dt,pi.element=ai}function tt(e,t,n){if(!e)throw fi("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function nt(e,t,n){return n&&k(e)&&(e=e[e.length-1]),tt(C(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function it(e,t){if("hasOwnProperty"===e)throw fi("badname","hasOwnProperty is not a valid {0} name",t)}function ot(e,t,n){if(!t)return e;for(var i,o=t.split("."),a=e,r=o.length,s=0;r>s;s++)i=o[s],e&&(e=(a=e)[i]);return!n&&C(e)?I(a,e):e}function at(e){if(e.startNode===e.endNode)return ai(e.startNode);var t=e.startNode,n=[t];do{if(t=t.nextSibling,!t)break;n.push(t)}while(t!==e.endNode);return ai(n)}function rt(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),o=i("ng");return t(t(e,"angular",Object),"module",function(){var e={};return function(i,a,r){var s=function(e,t){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid {0} name",t)};return s(i,"module"),a&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,n,i){return function(){return t[i||"push"]([e,n,arguments]),l}}if(!a)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],o=[],s=e("$injector","invoke"),l={_invokeQueue:t,_runBlocks:o,requires:a,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:s,run:function(e){return o.push(e),this}};return r&&s(r),l})}})}function st(t){d(t,{bootstrap:K,copy:L,extend:d,equals:q,element:ai,forEach:a,injector:Mt,noop:h,bind:I,toJson:R,fromJson:U,identity:m,isUndefined:v,isDefined:y,isString:x,isFunction:C,isObject:b,isNumber:w,isElement:M,isArray:k,version:vi,isDate:$,lowercase:ei,uppercase:ti,callbacks:{counter:0},$$minErr:i,$$csp:B}),si=rt(e);try{si("ngLocale")}catch(n){si("ngLocale",[]).provider("$locale",Yt)}si("ng",["ngLocale"],["$provide",function(e){e.provider("$compile",At).directive({a:lo,input:bo,textarea:bo,form:po,script:Zo,select:na,style:oa,option:ia,ngBind:Po,ngBindHtml:Oo,ngBindTemplate:No,ngClass:Lo,ngClassEven:qo,ngClassOdd:Ao,ngCloak:Bo,ngController:jo,ngForm:ho,ngHide:Xo,ngIf:Io,ngInclude:Fo,ngInit:Ro,ngNonBindable:Uo,ngPluralize:Wo,ngRepeat:Vo,ngShow:zo,ngStyle:Qo,ngSwitch:Yo,ngSwitchWhen:Go,ngSwitchDefault:Jo,ngOptions:ta,ngTransclude:Ko,ngModel:To,ngList:Eo,ngChange:So,required:_o,ngRequired:_o,ngValue:Do}).directive(uo).directive(Ho),e.provider({$anchorScroll:Dt,$animate:Ai,$browser:Nt,$cacheFactory:Ot,$controller:Bt,$document:jt,$exceptionHandler:Ht,$filter:Pn,$interpolate:Xt,$interval:Qt,$http:Wt,$httpBackend:Vt,$location:un,$log:cn,$parse:gn,$rootScope:bn,$q:vn,$sce:Cn,$sceDelegate:kn,$sniffer:Tn,$templateCache:Lt,$timeout:Sn,$window:Dn})}])}function lt(){return++xi}function ut(e){return e.replace(ki,function(e,t,n,i){return i?n.toUpperCase():n}).replace(Ci,"Moz$1")}function ct(e,t,n,i){function o(e){var o,r,s,l,u,c,d,f=n&&e?[this.filter(e)]:[this],p=t;if(!i||null!=e)for(;f.length;)for(o=f.shift(),r=0,s=o.length;s>r;r++)for(l=ai(o[r]),p?l.triggerHandler("$destroy"):p=!p,u=0,c=(d=l.children()).length;c>u;u++)f.push(ri(d[u]));return a.apply(this,arguments)}var a=ri.fn[e];a=a.$original||a,o.$original=a,ri.fn[e]=o}function dt(e){if(e instanceof dt)return e;if(!(this instanceof dt)){if(x(e)&&"<"!=e.charAt(0))throw Ti("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new dt(e)}if(x(e)){var n=t.createElement("div");n.innerHTML="<div>&#160;</div>"+e,n.removeChild(n.firstChild),wt(this,n.childNodes);var i=ai(t.createDocumentFragment());i.append(this)}else wt(this,e)}function ft(e){return e.cloneNode(!0)}function pt(e){mt(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)pt(n[t])}function ht(e,t,n,i){if(y(i))throw Ti("offargs","jqLite#off() does not support the `selector` argument");var o=gt(e,"events"),r=gt(e,"handle");r&&(v(t)?a(o,function(t,n){$i(e,n,t),delete o[n]}):a(t.split(" "),function(t){v(n)?($i(e,t,o[t]),delete o[t]):O(o[t]||[],n)}))}function mt(e,t){var i=e[bi],o=yi[i];if(o){if(t)return delete yi[i].data[t],void 0;o.handle&&(o.events.$destroy&&o.handle({},"$destroy"),ht(e)),delete yi[i],e[bi]=n}}function gt(e,t,n){var i=e[bi],o=yi[i||-1];return y(n)?(o||(e[bi]=i=lt(),o=yi[i]={}),o[t]=n,void 0):o&&o[t]}function vt(e,t,n){var i=gt(e,"data"),o=y(n),a=!o&&y(t),r=a&&!b(t);if(i||r||gt(e,"data",i={}),o)i[t]=n;else{if(!a)return i;if(r)return i&&i[t];d(i,t)}}function yt(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function bt(e,t){t&&e.setAttribute&&a(t.split(" "),function(t){e.setAttribute("class",mi((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+mi(t)+" "," ")))})}function xt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(t.split(" "),function(e){e=mi(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",mi(n))}}function wt(e,t){if(t){t=t.nodeName||!y(t.length)||S(t)?[t]:t;for(var n=0;n<t.length;n++)e.push(t[n])}}function $t(e,t){return kt(e,"$"+(t||"ngController")+"Controller")}function kt(e,t,i){e=ai(e),9==e[0].nodeType&&(e=e.find("html"));for(var o=k(t)?t:[t];e.length;){for(var a=0,r=o.length;r>a;a++)if((i=e.data(o[a]))!==n)return i;e=e.parent()}}function Ct(e,t){var n=_i[t.toLowerCase()];return n&&Ei[e.nodeName]&&n}function Tt(e,n){var i=function(i,o){if(i.preventDefault||(i.preventDefault=function(){i.returnValue=!1}),i.stopPropagation||(i.stopPropagation=function(){i.cancelBubble=!0}),i.target||(i.target=i.srcElement||t),v(i.defaultPrevented)){var r=i.preventDefault;i.preventDefault=function(){i.defaultPrevented=!0,r.call(i)},i.defaultPrevented=!1}i.isDefaultPrevented=function(){return i.defaultPrevented||i.returnValue===!1},a(n[o||i.type],function(t){t.call(e,i)}),8>=oi?(i.preventDefault=null,i.stopPropagation=null,i.isDefaultPrevented=null):(delete i.preventDefault,delete i.stopPropagation,delete i.isDefaultPrevented)};return i.elem=e,i}function St(e){var t,i=typeof e;return"object"==i&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():t===n&&(t=e.$$hashKey=u()):t=e,i+":"+t}function _t(e){a(e,this.put,this)}function Et(e){var t,n,i,o;return"function"==typeof e?(t=e.$inject)||(t=[],e.length&&(n=e.toString().replace(Ni,""),i=n.match(Mi),a(i[1].split(Di),function(e){e.replace(Pi,function(e,n,i){t.push(i)})})),e.$inject=t):k(e)?(o=e.length-1,nt(e[o],"fn"),t=e.slice(0,o)):nt(e,"fn",!0),t}function Mt(e){function t(e){return function(t,n){return b(t)?(a(t,l(e)),void 0):e(t,n)}}function n(e,t){if(it(e,"service"),(C(t)||k(t))&&(t=w.instantiate(t)),!t.$get)throw Oi("pget","Provider '{0}' must define $get factory method.",e);return y[e+p]=t}function i(e,t){return n(e,{$get:t})}function o(e,t){return i(e,["$injector",function(e){return e.instantiate(t)}])}function r(e,t){return i(e,g(t))}function s(e,t){it(e,"constant"),y[e]=t,$[e]=t}function u(e,t){var n=w.get(e+p),i=n.$get;n.$get=function(){var e=T.invoke(i,n);return T.invoke(t,null,{$delegate:e})}}function c(e){var t,n,i,o,r=[];return a(e,function(e){if(!v.get(e)){v.put(e,!0);try{if(x(e))for(t=si(e),r=r.concat(c(t.requires)).concat(t._runBlocks),n=t._invokeQueue,i=0,o=n.length;o>i;i++){var a=n[i],s=w.get(a[0]);s[a[1]].apply(s,a[2])}else C(e)?r.push(w.invoke(e)):k(e)?r.push(w.invoke(e)):nt(e,"module")}catch(l){throw k(e)&&(e=e[e.length-1]),l.message&&l.stack&&-1==l.stack.indexOf(l.message)&&(l=l.message+"\n"+l.stack),Oi("modulerr","Failed to instantiate module {0} due to:\n{1}",e,l.stack||l.message||l)}}}),r}function d(e,t){function n(n){if(e.hasOwnProperty(n)){if(e[n]===f)throw Oi("cdep","Circular dependency found: {0}",m.join(" <- "));return e[n]}try{return m.unshift(n),e[n]=f,e[n]=t(n)}finally{m.shift()}}function i(e,t,i){var o,a,r,s=[],l=Et(e);for(a=0,o=l.length;o>a;a++){if(r=l[a],"string"!=typeof r)throw Oi("itkn","Incorrect injection token! Expected service name as string, got {0}",r);s.push(i&&i.hasOwnProperty(r)?i[r]:n(r))}switch(e.$inject||(e=e[o]),t?-1:s.length){case 0:return e();case 1:return e(s[0]);case 2:return e(s[0],s[1]);case 3:return e(s[0],s[1],s[2]);case 4:return e(s[0],s[1],s[2],s[3]);case 5:return e(s[0],s[1],s[2],s[3],s[4]);case 6:return e(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6]);case 8:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7]);case 9:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8]);case 10:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9]);default:return e.apply(t,s)}}function o(e,t){var n,o,a=function(){};return a.prototype=(k(e)?e[e.length-1]:e).prototype,n=new a,o=i(e,n,t),b(o)||C(o)?o:n}return{invoke:i,instantiate:o,get:n,annotate:Et,has:function(t){return y.hasOwnProperty(t+p)||e.hasOwnProperty(t)}}}var f={},p="Provider",m=[],v=new _t,y={$provide:{provider:t(n),factory:t(i),service:t(o),value:t(r),constant:t(s),decorator:u}},w=y.$injector=d(y,function(){throw Oi("unpr","Unknown provider: {0}",m.join(" <- "))}),$={},T=$.$injector=d($,function(e){var t=w.get(e+p);return T.invoke(t.$get,t)});return a(c(e),function(e){T.invoke(e||h)}),T}function Dt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function o(e){var t=null;return a(e,function(e){t||"a"!==ei(e.nodeName)||(t=e)}),t}function r(){var e,i=n.hash();i?(e=s.getElementById(i))?e.scrollIntoView():(e=o(s.getElementsByName(i)))?e.scrollIntoView():"top"===i&&t.scrollTo(0,0):t.scrollTo(0,0)}var s=t.document;return e&&i.$watch(function(){return n.hash()},function(){i.$evalAsync(r)}),r}]}function Pt(e,t,i,o){function r(e){try{e.apply(null,H(arguments,1))}finally{if(y--,0===y)for(;b.length;)try{b.pop()()}catch(t){i.error(t)}}}function s(e,t){!function n(){a($,function(e){e()}),w=t(n,e)}()}function l(){T=null,k!=u.url()&&(k=u.url(),a(S,function(e){e(u.url())}))}var u=this,c=t[0],d=e.location,f=e.history,p=e.setTimeout,m=e.clearTimeout,g={};u.isMock=!1;var y=0,b=[];u.$$completeOutstandingRequest=r,u.$$incOutstandingRequestCount=function(){y++},u.notifyWhenNoOutstandingRequests=function(e){a($,function(e){e()}),0===y?e():b.push(e)};var w,$=[];u.addPollFn=function(e){return v(w)&&s(100,p),$.push(e),e};var k=d.href,C=t.find("base"),T=null;u.url=function(t,n){if(d!==e.location&&(d=e.location),t){if(k==t)return;return k=t,o.history?n?f.replaceState(null,"",t):(f.pushState(null,"",t),C.attr("href",C.attr("href"))):(T=t,n?d.replace(t):d.href=t),u}return T||d.href.replace(/%27/g,"'")};var S=[],_=!1;u.onUrlChange=function(t){return _||(o.history&&ai(e).on("popstate",l),o.hashchange?ai(e).on("hashchange",l):u.addPollFn(l),_=!0),S.push(t),t},u.baseHref=function(){var e=C.attr("href");return e?e.replace(/^https?\:\/\/[^\/]*/,""):""};var E={},M="",D=u.baseHref();u.cookies=function(e,t){var o,a,r,s,l;if(!e){if(c.cookie!==M)for(M=c.cookie,a=M.split("; "),E={},s=0;s<a.length;s++)r=a[s],l=r.indexOf("="),l>0&&(e=unescape(r.substring(0,l)),E[e]===n&&(E[e]=unescape(r.substring(l+1))));return E}t===n?c.cookie=escape(e)+"=;path="+D+";expires=Thu, 01 Jan 1970 00:00:00 GMT":x(t)&&(o=(c.cookie=escape(e)+"="+escape(t)+";path="+D).length+1,o>4096&&i.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+o+" > 4096 bytes)!"))},u.defer=function(e,t){var n;return y++,n=p(function(){delete g[n],r(e)},t||0),g[n]=!0,n},u.defer.cancel=function(e){return g[e]?(delete g[e],m(e),r(h),!0):!1}}function Nt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new Pt(e,i,t,n)}]}function Ot(){this.$get=function(){function e(e,n){function o(e){e!=f&&(p?p==e&&(p=e.n):p=e,a(e.n,e.p),a(e,f),f=e,f.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var r=0,s=d({},n,{id:e}),l={},u=n&&n.capacity||Number.MAX_VALUE,c={},f=null,p=null;return t[e]={put:function(e,t){var n=c[e]||(c[e]={key:e});return o(n),v(t)?void 0:(e in l||r++,l[e]=t,r>u&&this.remove(p.key),t)},get:function(e){var t=c[e];if(t)return o(t),l[e]},remove:function(e){var t=c[e];t&&(t==f&&(f=t.p),t==p&&(p=t.n),a(t.n,t.p),delete c[e],delete l[e],r--)},removeAll:function(){l={},r=0,c={},f=p=null},destroy:function(){l=null,s=null,c=null,delete t[e]},info:function(){return d({},s,{size:r})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Lt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function At(e){var i={},o="Directive",r=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,s=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,u=/^\s*(https?|ftp|mailto|tel|file):/,c=/^\s*(https?|ftp|file):|data:image\//,f=/^(on[a-z]+|formaction)$/;this.directive=function h(t,n){return it(t,"directive"),x(t)?(tt(n,"directiveFactory"),i.hasOwnProperty(t)||(i[t]=[],e.factory(t+o,["$injector","$exceptionHandler",function(e,n){var o=[];return a(i[t],function(i,a){try{var r=e.invoke(i);C(r)?r={compile:g(r)}:!r.compile&&r.link&&(r.compile=g(r.link)),r.priority=r.priority||0,r.index=a,r.name=r.name||t,r.require=r.require||r.controller&&r.name,r.restrict=r.restrict||"A",o.push(r)}catch(s){n(s)}}),o}])),i[t].push(n)):a(t,l(h)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(u=e,this):u},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(c=e,this):c},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate",function(e,l,h,v,y,w,$,T,S,_,E){function M(e,t,n,i,o){e instanceof ai||(e=ai(e)),a(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=t=ai(t).wrap("<span></span>").parent()[0])});var r=P(e,t,e,n,i,o);return function(t,n,i){tt(t,"scope");var o=n?Si.clone.call(e):e;a(i,function(e,t){o.data("$"+t+"Controller",e)});for(var s=0,l=o.length;l>s;s++){var u=o[s];(1==u.nodeType||9==u.nodeType)&&o.eq(s).data("$scope",t)}return D(o,"ng-scope"),n&&n(o,t),r&&r(t,o,o),o}}function D(e,t){try{e.addClass(t)}catch(n){}}function P(e,t,i,o,a,r){function s(e,i,o,a){var r,s,l,u,c,d,f,h,m,g=[];for(f=0,h=i.length;h>f;f++)g.push(i[f]);for(f=0,m=0,h=p.length;h>f;m++)l=g[m],r=p[f++],s=p[f++],u=ai(l),r?(r.scope?(c=e.$new(),u.data("$scope",c),D(u,"ng-scope")):c=e,d=r.transclude,d||!a&&t?r(s,c,l,o,N(e,d||t)):r(s,c,l,n,a)):s&&s(e,l.childNodes,n,a)}for(var l,u,c,d,f,p=[],h=0;h<e.length;h++)d=new K,c=O(e[h],[],d,0===h?o:n,a),l=c.length?B(c,e[h],d,t,i,null,[],[],r):null,u=l&&l.terminal||!e[h].childNodes||!e[h].childNodes.length?null:P(e[h].childNodes,l?l.transclude:t),p.push(l),p.push(u),f=f||l||u,r=null;return f?s:null}function N(e,t){return function(n,i,o){var a=!1;n||(n=e.$new(),n.$$transcluded=!0,a=!0);var r=t(n,i,o);return a&&r.on("$destroy",I(n,n.$destroy)),r}}function O(e,t,n,i,o){var a,l,u=e.nodeType,c=n.$attr;switch(u){case 1:F(t,qt(li(e).toLowerCase()),"E",i,o);for(var d,f,p,h,m,g=e.attributes,v=0,y=g&&g.length;y>v;v++){var b=!1,w=!1;if(d=g[v],!oi||oi>=8||d.specified){f=d.name,h=qt(f),ot.test(h)&&(f=Z(h.substr(6),"-"));var $=h.replace(/(Start|End)$/,"");h===$+"Start"&&(b=f,w=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),p=qt(f.toLowerCase()),c[p]=f,n[p]=m=mi(oi&&"href"==f?decodeURIComponent(e.getAttribute(f,2)):d.value),Ct(e,p)&&(n[p]=!0),Y(e,t,m,p),F(t,p,"A",i,o,b,w)}}if(l=e.className,x(l)&&""!==l)for(;a=s.exec(l);)p=qt(a[2]),F(t,p,"C",i,o)&&(n[p]=mi(a[3])),l=l.substr(a.index+a[0].length);break;case 3:X(t,e.nodeValue);break;case 8:try{a=r.exec(e.nodeValue),a&&(p=qt(a[1]),F(t,p,"M",i,o)&&(n[p]=mi(a[2])))}catch(k){}}return t.sort(W),t}function L(e,t,n){var i=[],o=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw qi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1==e.nodeType&&(e.hasAttribute(t)&&o++,e.hasAttribute(n)&&o--),i.push(e),e=e.nextSibling}while(o>0)}else i.push(e);return ai(i)}function q(e,t,n){return function(i,o,a,r,s){return o=L(o[0],t,n),e(i,o,a,r,s)}}function B(e,i,o,r,s,u,c,d,f){function p(e,t,n,i){e&&(n&&(e=q(e,n,i)),e.require=y.require,(B===y||y.$$isolateScope)&&(e=J(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=q(t,n,i)),t.require=y.require,(B===y||y.$$isolateScope)&&(t=J(t,{isolateScope:!0})),d.push(t))}function m(e,t,n){var i,o="data",r=!1;if(x(e)){for(;"^"==(i=e.charAt(0))||"?"==i;)e=e.substr(1),"^"==i&&(o="inheritedData"),r=r||"?"==i;if(i=null,n&&"data"===o&&(i=n[e]),i=i||t[o]("$"+e+"Controller"),!i&&!r)throw qi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,T);return i}return k(e)&&(i=[],a(e,function(e){i.push(m(e,t,n))})),i}function g(e,t,r,s,u){function f(e,t){var i;return arguments.length<2&&(t=e,e=n),X&&(i=T),u(e,t,i)}var p,g,v,y,b,x,k,C,T={};if(p=i===r?o:A(o,new K(ai(r),o.$attr)),g=p.$$element,B){var S=/^\s*([@=&])(\??)\s*(\w*)\s*$/,_=ai(r);k=t.$new(!0),I&&I===B.$$originalDirective?_.data("$isolateScope",k):_.data("$isolateScopeNoTemplate",k),D(_,"ng-isolate-scope"),a(B.scope,function(e,n){var i,o,a,r=e.match(S)||[],s=r[3]||n,u="?"==r[2],c=r[1];switch(k.$$isolateBindings[n]=c+s,c){case"@":p.$observe(s,function(e){k[n]=e}),p.$$observers[s].$$scope=t,p[s]&&(k[n]=l(p[s])(t));break;case"=":if(u&&!p[s])return;o=w(p[s]),a=o.assign||function(){throw i=k[n]=o(t),qi("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",p[s],B.name)},i=k[n]=o(t),k.$watch(function(){var e=o(t);return e!==k[n]&&(e!==i?i=k[n]=e:a(t,e=i=k[n])),e});break;case"&":o=w(p[s]),k[n]=function(e){return o(t,e)};break;default:throw qi("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",B.name,n,e)}})}for(C=u&&f,N&&a(N,function(e){var n,i={$scope:e===B||e.$$isolateScope?k:t,$element:g,$attrs:p,$transclude:C};x=e.controller,"@"==x&&(x=p[e.name]),n=$(x,i),T[e.name]=n,X||g.data("$"+e.name+"Controller",n),e.controllerAs&&(i.$scope[e.controllerAs]=n)}),v=0,y=c.length;y>v;v++)try{b=c[v],b(b.isolateScope?k:t,g,p,b.require&&m(b.require,g,T),C)}catch(E){h(E,V(g))}var M=t;for(B&&(B.template||null===B.templateUrl)&&(M=k),e&&e(M,r.childNodes,n,u),v=d.length-1;v>=0;v--)try{b=d[v],b(b.isolateScope?k:t,g,p,b.require&&m(b.require,g,T),C)}catch(E){h(E,V(g))}}f=f||{};for(var v,y,T,S,_,E,P=-Number.MAX_VALUE,N=f.controllerDirectives,B=f.newIsolateScopeDirective,I=f.templateDirective,F=f.nonTlbTranscludeDirective,W=!1,X=!1,Q=o.$$element=ai(i),Y=u,Z=r,et=0,tt=e.length;tt>et;et++){y=e[et];var nt=y.$$start,ot=y.$$end;if(nt&&(Q=L(i,nt,ot)),S=n,P>y.priority)break;if((E=y.scope)&&(v=v||y,y.templateUrl||(z("new/isolated scope",B,y,Q),b(E)&&(B=y))),T=y.name,!y.templateUrl&&y.controller&&(E=y.controller,N=N||{},z("'"+T+"' controller",N[T],y,Q),N[T]=y),(E=y.transclude)&&(W=!0,y.$$tlb||(z("transclusion",F,y,Q),F=y),"element"==E?(X=!0,P=y.priority,S=L(i,nt,ot),Q=o.$$element=ai(t.createComment(" "+T+": "+o[T]+" ")),i=Q[0],G(s,ai(H(S)),i),Z=M(S,r,P,Y&&Y.name,{nonTlbTranscludeDirective:F})):(S=ai(ft(i)).contents(),Q.html(""),Z=M(S,r))),y.template)if(z("template",I,y,Q),I=y,E=C(y.template)?y.template(Q,o):y.template,E=it(E),y.replace){if(Y=y,S=ai("<div>"+mi(E)+"</div>").contents(),i=S[0],1!=S.length||1!==i.nodeType)throw qi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",T,"");G(s,Q,i);var at={$attr:{}},rt=O(i,[],at),st=e.splice(et+1,e.length-(et+1));B&&j(rt),e=e.concat(rt).concat(st),R(o,at),tt=e.length}else Q.html(E);if(y.templateUrl)z("template",I,y,Q),I=y,y.replace&&(Y=y),g=U(e.splice(et,e.length-et),Q,o,s,Z,c,d,{controllerDirectives:N,newIsolateScopeDirective:B,templateDirective:I,nonTlbTranscludeDirective:F}),tt=e.length;else if(y.compile)try{_=y.compile(Q,o,Z),C(_)?p(null,_,nt,ot):_&&p(_.pre,_.post,nt,ot)}catch(lt){h(lt,V(Q))}y.terminal&&(g.terminal=!0,P=Math.max(P,y.priority))}return g.scope=v&&v.scope===!0,g.transclude=W&&Z,g}function j(e){for(var t=0,n=e.length;n>t;t++)e[t]=p(e[t],{$$isolateScope:!0})}function F(t,a,r,s,l,u,c){if(a===l)return null;var d=null;if(i.hasOwnProperty(a))for(var f,m=e.get(a+o),g=0,v=m.length;v>g;g++)try{f=m[g],(s===n||s>f.priority)&&-1!=f.restrict.indexOf(r)&&(u&&(f=p(f,{$$start:u,$$end:c})),t.push(f),d=f)}catch(y){h(y)}return d}function R(e,t){var n=t.$attr,i=e.$attr,o=e.$$element;a(e,function(i,o){"$"!=o.charAt(0)&&(t[o]&&(i+=("style"===o?";":" ")+t[o]),e.$set(o,i,!0,n[o]))}),a(t,function(t,a){"class"==a?(D(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==a?(o.attr("style",o.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,i[a]=n[a])})}function U(e,t,n,i,o,r,s,l){var u,c,f=[],p=t[0],h=e.shift(),m=d({},h,{templateUrl:null,transclude:null,replace:null,$$originalDirective:h}),g=C(h.templateUrl)?h.templateUrl(t,n):h.templateUrl;return t.html(""),v.get(_.getTrustedResourceUrl(g),{cache:y}).success(function(d){var v,y,x,w;if(d=it(d),h.replace){if(x=ai("<div>"+mi(d)+"</div>").contents(),v=x[0],1!=x.length||1!==v.nodeType)throw qi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h.name,g);y={$attr:{}},G(i,t,v);var $=O(v,[],y);b(h.scope)&&j($),e=$.concat(e),R(n,y)}else v=p,t.html(d);for(e.unshift(m),u=B(e,v,n,o,t,h,r,s,l),a(i,function(e,n){e==v&&(i[n]=t[0])}),c=P(t[0].childNodes,o);f.length;){var k=f.shift(),C=f.shift(),T=f.shift(),S=f.shift(),_=t[0];C!==p&&(_=ft(v),G(T,ai(C),_)),w=u.transclude?N(k,u.transclude):S,u(c,k,_,i,w)}f=null}).error(function(e,t,n,i){throw qi("tpload","Failed to load template: {0}",i.url)}),function(e,t,n,i,o){f?(f.push(t),f.push(n),f.push(i),f.push(o)):u(c,t,n,i,o)}}function W(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function z(e,t,n,i){if(t)throw qi("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,V(i))}function X(e,t){var n=l(t,!0);n&&e.push({priority:0,compile:g(function(e,t){var i=t.parent(),o=i.data("$binding")||[];o.push(n),D(i.data("$binding",o),"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})})})}function Q(e,t){return"xlinkHref"==t||"IMG"!=li(e)&&("src"==t||"ngSrc"==t)?_.RESOURCE_URL:void 0}function Y(e,t,n,i){var o=l(n,!0);if(o){if("multiple"===i&&"SELECT"===li(e))throw qi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",V(e));t.push({priority:100,compile:function(){return{pre:function(t,n,a){var r=a.$$observers||(a.$$observers={});if(f.test(i))throw qi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");o=l(a[i],!0,Q(e,i)),o&&(a[i]=o(t),(r[i]||(r[i]=[])).$$inter=!0,(a.$$observers&&a.$$observers[i].$$scope||t).$watch(o,function(e){a.$set(i,e)}))}}}})}}function G(e,n,i){var o,a,r=n[0],s=n.length,l=r.parentNode;if(e)for(o=0,a=e.length;a>o;o++)if(e[o]==r){e[o++]=i;for(var u=o,c=u+s-1,d=e.length;d>u;u++,c++)d>c?e[u]=e[c]:delete e[u];e.length-=s-1;break}l&&l.replaceChild(i,r);var f=t.createDocumentFragment();f.appendChild(r),i[ai.expando]=r[ai.expando];for(var p=1,h=n.length;h>p;p++){var m=n[p];ai(m).remove(),f.appendChild(m),delete n[p]}n[0]=i,n.length=1}function J(e,t){return d(function(){return e.apply(null,arguments)},e,t)}var K=function(e,t){this.$$element=e,this.$attr=t||{}};K.prototype={$normalize:qt,$addClass:function(e){e&&e.length>0&&E.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&E.removeClass(this.$$element,e)},$set:function(e,t,i,o){function r(e,t){var n=[],i=e.split(/\s+/),o=t.split(/\s+/);e:for(var a=0;a<i.length;a++){for(var r=i[a],s=0;s<o.length;s++)if(r==o[s])continue e;n.push(r)}return n}if("class"==e){t=t||"";var s=this.$$element.attr("class")||"";this.$removeClass(r(s,t).join(" ")),this.$addClass(r(t,s).join(" "))}else{var l,d,f=Ct(this.$$element[0],e);f&&(this.$$element.prop(e,t),o=f),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=Z(e,"-"))),d=li(this.$$element),("A"===d&&"href"===e||"IMG"===d&&"src"===e)&&(!oi||oi>=8)&&(l=_n(t).href,""!==l&&("href"===e&&!l.match(u)||"src"===e&&!l.match(c))&&(this[e]=t="unsafe:"+l)),i!==!1&&(null===t||t===n?this.$$element.removeAttr(o):this.$$element.attr(o,t))}var p=this.$$observers;p&&a(p[e],function(e){try{e(t)}catch(n){h(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers={}),o=i[e]||(i[e]=[]);return o.push(t),T.$evalAsync(function(){o.$$inter||t(n[e])}),t}};var et=l.startSymbol(),nt=l.endSymbol(),it="{{"==et||"}}"==nt?m:function(e){return e.replace(/\{\{/g,et).replace(/}}/g,nt)},ot=/^ngAttr[A-Z]/;return M}]}function qt(e){return ut(e.replace(Bi,""))}function Bt(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){it(t,"controller"),b(t)?d(e,t):e[t]=n
},this.$get=["$injector","$window",function(n,o){return function(a,r){var s,l,u,c;if(x(a)&&(l=a.match(t),u=l[1],c=l[3],a=e.hasOwnProperty(u)?e[u]:ot(r.$scope,u,!0)||ot(o,u,!0),nt(a,u,!0)),s=n.instantiate(a,r),c){if(!r||"object"!=typeof r.$scope)throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",u||a.name,c);r.$scope[c]=s}return s}}]}function jt(){this.$get=["$window",function(e){return ai(e.document)}]}function Ht(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function It(e){var t,n,i,o={};return e?(a(e.split("\n"),function(e){i=e.indexOf(":"),t=ei(mi(e.substr(0,i))),n=mi(e.substr(i+1)),t&&(o[t]?o[t]+=", "+n:o[t]=n)}),o):o}function Ft(e){var t=b(e)?e:n;return function(n){return t||(t=It(e)),n?t[ei(n)]||null:t}}function Rt(e,t,n){return C(n)?n(e,t):(a(n,function(n){e=n(e,t)}),e)}function Ut(e){return e>=200&&300>e}function Wt(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,i=/^\)\]\}',?\n/,o={"Content-Type":"application/json;charset=utf-8"},r=this.defaults={transformResponse:[function(n){return x(n)&&(n=n.replace(i,""),e.test(n)&&t.test(n)&&(n=U(n))),n}],transformRequest:[function(e){return b(e)&&!E(e)?R(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:o,put:o,patch:o},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},l=this.interceptors=[],u=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,i,o,c,f){function p(e){function i(e){var t=d({},e,{data:Rt(e.data,e.headers,s.transformResponse)});return Ut(e.status)?t:c.reject(t)}function o(e){function t(e){var t;a(e,function(n,i){C(n)&&(t=n(),null!=t?e[i]=t:delete e[i])})}var n,i,o,s=r.headers,l=d({},e.headers);s=d({},s.common,s[ei(e.method)]),t(s),t(l);e:for(n in s){i=ei(n);for(o in l)if(ei(o)===i)continue e;l[n]=s[n]}return l}var s={transformRequest:r.transformRequest,transformResponse:r.transformResponse},l=o(e);d(s,e),s.headers=l,s.method=ti(s.method);var u=En(s.url)?t.cookies()[s.xsrfCookieName||r.xsrfCookieName]:n;u&&(l[s.xsrfHeaderName||r.xsrfHeaderName]=u);var f=function(e){l=e.headers;var t=Rt(e.data,Ft(l),e.transformRequest);return v(e.data)&&a(l,function(e,t){"content-type"===ei(t)&&delete l[t]}),v(e.withCredentials)&&!v(r.withCredentials)&&(e.withCredentials=r.withCredentials),g(e,t,l).then(i,i)},p=[f,n],h=c.when(s);for(a(T,function(e){(e.request||e.requestError)&&p.unshift(e.request,e.requestError),(e.response||e.responseError)&&p.push(e.response,e.responseError)});p.length;){var m=p.shift(),y=p.shift();h=h.then(m,y)}return h.success=function(e){return h.then(function(t){e(t.data,t.status,t.headers,s)}),h},h.error=function(e){return h.then(null,function(t){e(t.data,t.status,t.headers,s)}),h},h}function h(){a(arguments,function(e){p[e]=function(t,n){return p(d(n||{},{method:e,url:t}))}})}function m(){a(arguments,function(e){p[e]=function(t,n,i){return p(d(i||{},{method:e,url:t,data:n}))}})}function g(t,n,i){function a(e,t,n){u&&(Ut(e)?u.put(m,[e,t,It(n)]):u.remove(m)),s(t,e,n),o.$$phase||o.$apply()}function s(e,n,i){n=Math.max(n,0),(Ut(n)?f.resolve:f.reject)({data:e,status:n,headers:Ft(i),config:t})}function l(){var e=N(p.pendingRequests,t);-1!==e&&p.pendingRequests.splice(e,1)}var u,d,f=c.defer(),h=f.promise,m=w(t.url,t.params);if(p.pendingRequests.push(t),h.then(l,l),(t.cache||r.cache)&&t.cache!==!1&&"GET"==t.method&&(u=b(t.cache)?t.cache:b(r.cache)?r.cache:$),u)if(d=u.get(m),y(d)){if(d.then)return d.then(l,l),d;k(d)?s(d[1],d[0],L(d[2])):s(d,200,{})}else u.put(m,h);return v(d)&&e(t.method,m,n,a,i,t.timeout,t.withCredentials,t.responseType),h}function w(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||v(e)||(k(e)||(e=[e]),a(e,function(e){b(e)&&(e=R(e)),n.push(G(t)+"="+G(e))}))}),e+(-1==e.indexOf("?")?"?":"&")+n.join("&")}var $=i("$http"),T=[];return a(l,function(e){T.unshift(x(e)?f.get(e):f.invoke(e))}),a(u,function(e,t){var n=x(e)?f.get(e):f.invoke(e);T.splice(t,0,{response:function(e){return n(c.when(e))},responseError:function(e){return n(c.reject(e))}})}),p.pendingRequests=[],h("get","delete","head","jsonp"),m("post","put"),p.defaults=r,p}]}function Vt(){this.$get=["$browser","$window","$document",function(e,t,n){return zt(e,ji,e.defer,t.angular.callbacks,n[0],t.location.protocol.replace(":",""))}]}function zt(e,t,n,i,o,r){function s(e,t){var n=o.createElement("script"),i=function(){o.body.removeChild(n),t&&t()};return n.type="text/javascript",n.src=e,oi?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&i()}:n.onload=n.onerror=i,o.body.appendChild(n),i}return function(o,l,u,c,d,f,p,m){function g(){b=-1,w&&w(),$&&$.abort()}function v(t,i,o,a){var s=r||_n(l).protocol;k&&n.cancel(k),w=$=null,i="file"==s?o?200:404:i,i=1223==i?204:i,t(i,o,a),e.$$completeOutstandingRequest(h)}var b;if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==ei(o)){var x="_"+(i.counter++).toString(36);i[x]=function(e){i[x].data=e};var w=s(l.replace("JSON_CALLBACK","angular.callbacks."+x),function(){i[x].data?v(c,200,i[x].data):v(c,b||-2),delete i[x]})}else{var $=new t;$.open(o,l,!0),a(d,function(e,t){y(e)&&$.setRequestHeader(t,e)}),$.onreadystatechange=function(){if(4==$.readyState){var e=$.getAllResponseHeaders();v(c,b||$.status,$.responseType?$.response:$.responseText,e)}},p&&($.withCredentials=!0),m&&($.responseType=m),$.send(u||null)}if(f>0)var k=n(g,f);else f&&f.then&&f.then(g)}}function Xt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,o){function a(a,l,u){for(var c,d,f,p,h=0,m=[],g=a.length,y=!1,b=[];g>h;)-1!=(c=a.indexOf(e,h))&&-1!=(d=a.indexOf(t,c+r))?(h!=c&&m.push(a.substring(h,c)),m.push(f=n(p=a.substring(c+r,d))),f.exp=p,h=d+s,y=!0):(h!=g&&m.push(a.substring(h)),h=g);if((g=m.length)||(m.push(""),g=1),u&&m.length>1)throw Hi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a);return!l||y?(b.length=g,f=function(e){try{for(var t,n=0,r=g;r>n;n++)"function"==typeof(t=m[n])&&(t=t(e),t=u?o.getTrusted(u,t):o.valueOf(t),null===t||v(t)?t="":"string"!=typeof t&&(t=R(t))),b[n]=t;return b.join("")}catch(s){var l=Hi("interr","Can't interpolate: {0}\n{1}",a,s.toString());i(l)}},f.exp=a,f.parts=m,f):void 0}var r=e.length,s=t.length;return a.startSymbol=function(){return e},a.endSymbol=function(){return t},a}]}function Qt(){this.$get=["$rootScope","$window","$q",function(e,t,n){function i(i,a,r,s){var l=t.setInterval,u=t.clearInterval,c=n.defer(),d=c.promise,f=0,p=y(s)&&!s;return r=y(r)?r:0,d.then(null,null,i),d.$$intervalId=l(function(){c.notify(f++),r>0&&f>=r&&(c.resolve(f),u(d.$$intervalId),delete o[d.$$intervalId]),p||e.$apply()},a),o[d.$$intervalId]=c,d}var o={};return i.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},i}]}function Yt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function Gt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Y(t[n]);return t.join("/")}function Jt(e,t,n){var i=_n(e,n);t.$$protocol=i.protocol,t.$$host=i.hostname,t.$$port=f(i.port)||Fi[i.protocol]||null}function Kt(e,t,n){var i="/"!==e.charAt(0);i&&(e="/"+e);var o=_n(e,n);t.$$path=decodeURIComponent(i&&"/"===o.pathname.charAt(0)?o.pathname.substring(1):o.pathname),t.$$search=X(o.search),t.$$hash=decodeURIComponent(o.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Zt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function en(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function tn(e){return e.substr(0,en(e).lastIndexOf("/")+1)}function nn(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function on(e,t){this.$$html5=!0,t=t||"";var i=tn(e);Jt(e,this,e),this.$$parse=function(t){var n=Zt(i,t);if(!x(n))throw Ri("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,i);Kt(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Q(this.$$search),t=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=Gt(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=i+this.$$url.substr(1)},this.$$rewrite=function(o){var a,r;return(a=Zt(e,o))!==n?(r=a,(a=Zt(t,a))!==n?i+(Zt("/",a)||a):e+r):(a=Zt(i,o))!==n?i+a:i==o+"/"?i:void 0}}function an(e,t){var n=tn(e);Jt(e,this,e),this.$$parse=function(i){var o=Zt(e,i)||Zt(n,i),a="#"==o.charAt(0)?Zt(t,o):this.$$html5?o:"";if(!x(a))throw Ri("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',i,t);Kt(a,this,e),this.$$compose()},this.$$compose=function(){var n=Q(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=Gt(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$rewrite=function(t){return en(e)==en(t)?t:void 0}}function rn(e,t){this.$$html5=!0,an.apply(this,arguments);var n=tn(e);this.$$rewrite=function(i){var o;return e==en(i)?i:(o=Zt(n,i))?e+t+o:n===i+"/"?n:void 0}}function sn(e){return function(){return this[e]}}function ln(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function un(){var t="",n=!1;this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(e){return y(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(i,o,a,r){function s(e){i.$broadcast("$locationChangeSuccess",l.absUrl(),e)}var l,u,c,d=o.baseHref(),f=o.url();n?(c=nn(f)+(d||"/"),u=a.history?on:rn):(c=en(f),u=an),l=new u(c,"#"+t),l.$$parse(l.$$rewrite(f)),r.on("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var n=ai(t.target);"a"!==ei(n[0].nodeName);)if(n[0]===r[0]||!(n=n.parent())[0])return;var a=n.prop("href"),s=l.$$rewrite(a);a&&!n.attr("target")&&s&&!t.isDefaultPrevented()&&(t.preventDefault(),s!=o.url()&&(l.$$parse(s),i.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}),l.absUrl()!=f&&o.url(l.absUrl(),!0),o.onUrlChange(function(e){if(l.absUrl()!=e){if(i.$broadcast("$locationChangeStart",e,l.absUrl()).defaultPrevented)return o.url(l.absUrl()),void 0;i.$evalAsync(function(){var t=l.absUrl();l.$$parse(e),s(t)}),i.$$phase||i.$digest()}});var p=0;return i.$watch(function(){var e=o.url(),t=l.$$replace;return p&&e==l.absUrl()||(p++,i.$evalAsync(function(){i.$broadcast("$locationChangeStart",l.absUrl(),e).defaultPrevented?l.$$parse(e):(o.url(l.absUrl(),t),s(e))})),l.$$replace=!1,p}),l}]}function cn(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||h;return o.apply?function(){var e=[];return a(arguments,function(t){e.push(i(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function dn(e,t){if("constructor"===e)throw Wi("isecfld",'Referencing "constructor" field in Angular expressions is disallowed! Expression: {0}',t);return e}function fn(e,t){if(e&&e.constructor===e)throw Wi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e&&e.document&&e.location&&e.alert&&e.setInterval)throw Wi("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e&&(e.nodeName||e.on&&e.find))throw Wi("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);return e}function pn(e,t,i,o,a){a=a||{};for(var r,s=t.split("."),l=0;s.length>1;l++){r=dn(s.shift(),o);var u=e[r];u||(u={},e[r]=u),e=u,e.then&&a.unwrapPromises&&(Ui(o),"$$v"in e||function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return r=dn(s.shift(),o),e[r]=i,i}function hn(e,t,i,o,a,r,s){return dn(e,r),dn(t,r),dn(i,r),dn(o,r),dn(a,r),s.unwrapPromises?function(s,l){var u,c=l&&l.hasOwnProperty(e)?l:s;return null===c||c===n?c:(c=c[e],c&&c.then&&(Ui(r),"$$v"in c||(u=c,u.$$v=n,u.then(function(e){u.$$v=e})),c=c.$$v),t&&null!==c&&c!==n?(c=c[t],c&&c.then&&(Ui(r),"$$v"in c||(u=c,u.$$v=n,u.then(function(e){u.$$v=e})),c=c.$$v),i&&null!==c&&c!==n?(c=c[i],c&&c.then&&(Ui(r),"$$v"in c||(u=c,u.$$v=n,u.then(function(e){u.$$v=e})),c=c.$$v),o&&null!==c&&c!==n?(c=c[o],c&&c.then&&(Ui(r),"$$v"in c||(u=c,u.$$v=n,u.then(function(e){u.$$v=e})),c=c.$$v),a&&null!==c&&c!==n?(c=c[a],c&&c.then&&(Ui(r),"$$v"in c||(u=c,u.$$v=n,u.then(function(e){u.$$v=e})),c=c.$$v),c):c):c):c):c)}:function(r,s){var l=s&&s.hasOwnProperty(e)?s:r;return null===l||l===n?l:(l=l[e],t&&null!==l&&l!==n?(l=l[t],i&&null!==l&&l!==n?(l=l[i],o&&null!==l&&l!==n?(l=l[o],a&&null!==l&&l!==n?l=l[a]:l):l):l):l)}}function mn(e,t,i){if(Gi.hasOwnProperty(e))return Gi[e];var o,r=e.split("."),s=r.length;if(t.csp)o=6>s?hn(r[0],r[1],r[2],r[3],r[4],i,t):function(e,o){var a,l=0;do a=hn(r[l++],r[l++],r[l++],r[l++],r[l++],i,t)(e,o),o=n,e=a;while(s>l);return a};else{var l="var l, fn, p;\n";a(r,function(e,n){dn(e,i),l+="if(s === null || s === undefined) return s;\nl=s;\ns="+(n?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"]'+";\n"+(t.unwrapPromises?'if (s && s.then) {\n pw("'+i.replace(/\"/g,'\\"')+'");\n'+' if (!("$$v" in s)) {\n'+" p=s;\n"+" p.$$v = undefined;\n"+" p.then(function(v) {p.$$v=v;});\n"+"}\n"+" s=s.$$v\n"+"}\n":"")}),l+="return s;";var u=new Function("s","k","pw",l);u.toString=function(){return l},o=function(e,t){return u(e,t,Ui)}}return"hasOwnProperty"!==e&&(Gi[e]=o),o}function gn(){var e={},t={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(e){return y(e)?(t.unwrapPromises=!!e,this):t.unwrapPromises},this.logPromiseWarnings=function(e){return y(e)?(t.logPromiseWarnings=e,this):t.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(n,i,o){return t.csp=i.csp,Ui=function(e){t.logPromiseWarnings&&!Vi.hasOwnProperty(e)&&(Vi[e]=!0,o.warn("[$parse] Promise found in the expression `"+e+"`. "+"Automatic unwrapping of promises in Angular expressions is deprecated."))},function(i){var o;switch(typeof i){case"string":if(e.hasOwnProperty(i))return e[i];var a=new Qi(t),r=new Yi(a,n,t);return o=r.parse(i,!1),"hasOwnProperty"!==i&&(e[i]=o),o;case"function":return i;default:return h}}}]}function vn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return yn(function(t){e.$evalAsync(t)},t)}]}function yn(e,t){function i(e){return e}function o(e){return u(e)}function r(e){var t=s(),n=0,i=k(e)?[]:{};return a(e,function(e,o){n++,l(e).then(function(e){i.hasOwnProperty(o)||(i[o]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(o)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}var s=function(){var a,r,c=[];return r={resolve:function(t){if(c){var i=c;c=n,a=l(t),i.length&&e(function(){for(var e,t=0,n=i.length;n>t;t++)e=i[t],a.then(e[0],e[1],e[2])})}},reject:function(e){r.resolve(u(e))},notify:function(t){if(c){var n=c;c.length&&e(function(){for(var e,i=0,o=n.length;o>i;i++)e=n[i],e[2](t)})}},promise:{then:function(e,n,r){var l=s(),u=function(n){try{l.resolve((C(e)?e:i)(n))}catch(o){l.reject(o),t(o)}},d=function(e){try{l.resolve((C(n)?n:o)(e))}catch(i){l.reject(i),t(i)}},f=function(e){try{l.notify((C(r)?r:i)(e))}catch(n){t(n)}};return c?c.push([u,d,f]):a.then(u,d,f),l.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){var n=s();return t?n.resolve(e):n.reject(e),n.promise}function n(n,o){var a=null;try{a=(e||i)()}catch(r){return t(r,!1)}return a&&C(a.then)?a.then(function(){return t(n,o)},function(e){return t(e,!1)}):t(n,o)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}}},l=function(t){return t&&C(t.then)?t:{then:function(n){var i=s();return e(function(){i.resolve(n(t))}),i.promise}}},u=function(n){return{then:function(i,a){var r=s();return e(function(){try{r.resolve((C(a)?a:o)(n))}catch(e){r.reject(e),t(e)}}),r.promise}}},c=function(n,a,r,c){var d,f=s(),p=function(e){try{return(C(a)?a:i)(e)}catch(n){return t(n),u(n)}},h=function(e){try{return(C(r)?r:o)(e)}catch(n){return t(n),u(n)}},m=function(e){try{return(C(c)?c:i)(e)}catch(n){t(n)}};return e(function(){l(n).then(function(e){d||(d=!0,f.resolve(l(e).then(p,h,m)))},function(e){d||(d=!0,f.resolve(h(e)))},function(e){d||f.notify(m(e))})}),f.promise};return{defer:s,reject:u,when:c,all:r}}function bn(){var e=10,t=i("$rootScope");this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(n,i,a,r){function s(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$isolateBindings={}}function l(e){if(p.$$phase)throw t("inprog","{0} already in progress",p.$$phase);p.$$phase=e}function c(){p.$$phase=null}function d(e,t){var n=a(e);return nt(n,t),n}function f(){}s.prototype={constructor:s,$new:function(e){var t,n;return e?(n=new s,n.$root=this.$root,n.$$asyncQueue=this.$$asyncQueue,n.$$postDigestQueue=this.$$postDigestQueue):(t=function(){},t.prototype=this,n=new t,n.$id=u()),n["this"]=n,n.$$listeners={},n.$parent=this,n.$$watchers=n.$$nextSibling=n.$$childHead=n.$$childTail=null,n.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=n,this.$$childTail=n):this.$$childHead=this.$$childTail=n,n},$watch:function(e,t,n){var i=this,o=d(e,"watch"),a=i.$$watchers,r={fn:t,last:f,get:o,exp:e,eq:!!n};if(!C(t)){var s=d(t||h,"listener");r.fn=function(e,t,n){s(n)}}if("string"==typeof e&&o.constant){var l=r.fn;r.fn=function(e,t,n){l.call(this,e,t,n),O(a,r)}}return a||(a=i.$$watchers=[]),a.unshift(r),function(){O(a,r)}},$watchCollection:function(e,t){function n(){s=c(l);var e,t;if(b(s))if(o(s)){r!==d&&(r=d,p=r.length=0,u++),e=s.length,p!==e&&(u++,r.length=p=e);for(var n=0;e>n;n++)r[n]!==s[n]&&(u++,r[n]=s[n])}else{r!==f&&(r=f={},p=0,u++),e=0;for(t in s)s.hasOwnProperty(t)&&(e++,r.hasOwnProperty(t)?r[t]!==s[t]&&(u++,r[t]=s[t]):(p++,r[t]=s[t],u++));if(p>e){u++;for(t in r)r.hasOwnProperty(t)&&!s.hasOwnProperty(t)&&(p--,delete r[t])}}else r!==s&&(r=s,u++);return u}function i(){t(s,r,l)}var r,s,l=this,u=0,c=a(e),d=[],f={},p=0;return this.$watch(n,i)},$digest:function(){var n,o,a,r,s,u,d,p,h,m,g,v=this.$$asyncQueue,y=this.$$postDigestQueue,b=e,x=this,w=[];l("$digest");do{for(u=!1,p=x;v.length;)try{g=v.shift(),g.scope.$eval(g.expression)}catch($){i($)}do{if(r=p.$$watchers)for(s=r.length;s--;)try{n=r[s],n&&(o=n.get(p))!==(a=n.last)&&!(n.eq?q(o,a):"number"==typeof o&&"number"==typeof a&&isNaN(o)&&isNaN(a))&&(u=!0,n.last=n.eq?L(o):o,n.fn(o,a===f?o:a,p),5>b&&(h=4-b,w[h]||(w[h]=[]),m=C(n.exp)?"fn: "+(n.exp.name||n.exp.toString()):n.exp,m+="; newVal: "+R(o)+"; oldVal: "+R(a),w[h].push(m)))}catch($){i($)}if(!(d=p.$$childHead||p!==x&&p.$$nextSibling))for(;p!==x&&!(d=p.$$nextSibling);)p=p.$parent}while(p=d);if(u&&!b--)throw c(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,R(w))}while(u||v.length);for(c();y.length;)try{y.shift()()}catch($){i($)}},$destroy:function(){if(p!=this&&!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(e,t){return a(e)(this,t)},$evalAsync:function(e){p.$$phase||p.$$asyncQueue.length||r.defer(function(){p.$$asyncQueue.length&&p.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return l("$apply"),this.$eval(e)}catch(t){i(t)}finally{c();try{p.$digest()}catch(t){throw i(t),t}}},$on:function(e,t){var n=this.$$listeners[e];return n||(this.$$listeners[e]=n=[]),n.push(t),function(){n[N(n,t)]=null}},$emit:function(e){var t,n,o,a=[],r=this,s=!1,l={name:e,targetScope:r,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=j([l],arguments,1);do{for(t=r.$$listeners[e]||a,l.currentScope=r,n=0,o=t.length;o>n;n++)if(t[n])try{t[n].apply(null,u)}catch(c){i(c)}else t.splice(n,1),n--,o--;if(s)return l;r=r.$parent}while(r);return l},$broadcast:function(e){var t,n,o,a=this,r=a,s=a,l={name:e,targetScope:a,preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=j([l],arguments,1);do{for(r=s,l.currentScope=r,t=r.$$listeners[e]||[],n=0,o=t.length;o>n;n++)if(t[n])try{t[n].apply(null,u)}catch(c){i(c)}else t.splice(n,1),n--,o--;if(!(s=r.$$childHead||r!==a&&r.$$nextSibling))for(;r!==a&&!(s=r.$$nextSibling);)r=r.$parent}while(r=s);return l}};var p=new s;return p}]}function xn(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function wn(e){if("self"===e)return e;if(x(e)){if(e.indexOf("***")>-1)throw Ji("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=xn(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw Ji("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function $n(e){var t=[];return y(e)&&a(e,function(e){t.push(wn(e))}),t}function kn(){this.SCE_CONTEXTS=Ki;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=$n(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=$n(e)),t},this.$get=["$log","$document","$injector",function(i,o,a){function r(e,t){return"self"===e?En(t):!!e.exec(t.href)}function s(n){var i,o,a=_n(n.toString()),s=!1;for(i=0,o=e.length;o>i;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;o>i;i++)if(r(t[i],a)){s=!1;break}return s}function l(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function u(e,t){var i=h.hasOwnProperty(e)?h[e]:null;if(!i)throw Ji("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw Ji("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new i(t)}function c(e){return e instanceof p?e.$$unwrapTrustedValue():e}function d(e,t){if(null===t||t===n||""===t)return t;var i=h.hasOwnProperty(e)?h[e]:null;if(i&&t instanceof i)return t.$$unwrapTrustedValue();if(e===Ki.RESOURCE_URL){if(s(t))return t;throw Ji("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Ki.HTML)return f(t);throw Ji("unsafe","Attempting to use an unsafe value in a safe context.")}var f=function(){throw Ji("unsafe","Attempting to use an unsafe value in a safe context.")};a.has("$sanitize")&&(f=a.get("$sanitize"));var p=l(),h={};return h[Ki.HTML]=l(p),h[Ki.CSS]=l(p),h[Ki.URL]=l(p),h[Ki.JS]=l(p),h[Ki.RESOURCE_URL]=l(h[Ki.URL]),{trustAs:u,getTrusted:d,valueOf:c}}]}function Cn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$document","$sceDelegate",function(t,i,o){if(e&&oi){var r=i[0].documentMode;if(r!==n&&8>r)throw Ji("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.")}var s=L(Ki);s.isEnabled=function(){return e},s.trustAs=o.trustAs,s.getTrusted=o.getTrusted,s.valueOf=o.valueOf,e||(s.trustAs=s.getTrusted=function(e,t){return t},s.valueOf=m),s.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:function(t,n){return s.getTrusted(e,i(t,n))}};var l=s.parseAs,u=s.getTrusted,c=s.trustAs;return a(Ki,function(e,t){var n=ei(t);s[ut("parse_as_"+n)]=function(t){return l(e,t)},s[ut("get_trusted_"+n)]=function(t){return u(e,t)},s[ut("trust_as_"+n)]=function(t){return c(e,t)}}),s}]}function Tn(){this.$get=["$window","$document",function(e,t){var n,i,o={},a=f((/android (\d+)/.exec(ei((e.navigator||{}).userAgent))||[])[1]),r=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=/^(Moz|webkit|O|ms)(?=[A-Z])/,u=s.body&&s.body.style,c=!1,d=!1;if(u){for(var p in u)if(i=l.exec(p)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),c=!!("transition"in u||n+"Transition"in u),d=!!("animation"in u||n+"Animation"in u),!a||c&&d||(c=x(s.body.style.webkitTransition),d=x(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>a||r),hashchange:"onhashchange"in e&&(!s.documentMode||s.documentMode>7),hasEvent:function(e){if("input"==e&&9==oi)return!1;if(v(o[e])){var t=s.createElement("div");o[e]="on"+e in t}return o[e]},csp:B(),vendorPrefix:n,transitions:c,animations:d,msie:oi}}]}function Sn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,i){function o(o,r,s){var l,u=n.defer(),c=u.promise,d=y(s)&&!s;return l=t.defer(function(){try{u.resolve(o())}catch(t){u.reject(t),i(t)}finally{delete a[c.$$timeoutId]}d||e.$apply()},r),c.$$timeoutId=l,a[l]=u,c}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function _n(e,t){var n,i=e;return oi&&(Zi.setAttribute("href",i),i=Zi.href),Zi.setAttribute("href",i),n=Mn(Zi.pathname,e,t),n="/"===n.charAt(0)?n:"/"+n,{href:Zi.href,protocol:Zi.protocol?Zi.protocol.replace(/:$/,""):"",host:Zi.host,search:Zi.search?Zi.search.replace(/^\?/,""):"",hash:Zi.hash?Zi.hash.replace(/^#/,""):"",hostname:Zi.hostname,port:Zi.port,pathname:n}}function En(e){var t=x(e)?_n(e):e;return t.protocol===to.protocol&&t.host===to.host}function Mn(e,t,n){var i;return 0===t.indexOf(n)&&(t=t.replace(n,"")),eo.exec(t)?e:(i=eo.exec(e),i?i[1]:e)}function Dn(){this.$get=g(e)}function Pn(e){function t(i,o){if(b(i)){var r={};return a(i,function(e,n){r[n]=t(n,e)}),r}return e.factory(i+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",On),t("date",Fn),t("filter",Nn),t("json",Rn),t("limitTo",Un),t("lowercase",ro),t("number",Ln),t("orderBy",Wn),t("uppercase",so)}function Nn(){return function(e,t,n){if(!k(e))return e;var i=typeof n,o=[];o.check=function(e){for(var t=0;t<o.length;t++)if(!o[t](e))return!1;return!0},"function"!==i&&(n="boolean"===i&&n?function(e,t){return pi.equals(e,t)}:function(e,t){return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1});var a=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!a(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var i in e)if("$"!==i.charAt(0)&&a(e[i],t))return!0}return!1;case"array":for(var o=0;o<e.length;o++)if(a(e[o],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var r in t)"$"==r?function(){if(t[r]){var e=r;o.push(function(n){return a(n,t[e])})}}():function(){if("undefined"!=typeof t[r]){var e=r;o.push(function(n){return a(ot(n,e),t[e])})}}();break;case"function":o.push(t);break;default:return e}for(var s=[],l=0;l<e.length;l++){var u=e[l];o.check(u)&&s.push(u)}return s}}function On(e){var t=e.NUMBER_FORMATS;return function(e,n){return v(n)&&(n=t.CURRENCY_SYM),An(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function Ln(e){var t=e.NUMBER_FORMATS;return function(e,n){return An(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function An(e,t,n,i,o){if(isNaN(e)||!isFinite(e))return"";var a=0>e;e=Math.abs(e);var r=e+"",s="",l=[],u=!1;if(-1!==r.indexOf("e")){var c=r.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>o+1?r="0":(s=r,u=!0)}if(u)o>0&&e>-1&&1>e&&(s=e.toFixed(o));else{var d=(r.split(no)[1]||"").length;v(o)&&(o=Math.min(Math.max(t.minFrac,d),t.maxFrac));var f=Math.pow(10,o);e=Math.round(e*f)/f;var p=(""+e).split(no),h=p[0];p=p[1]||"";var m,g=0,y=t.lgSize,b=t.gSize;if(h.length>=y+b)for(g=h.length-y,m=0;g>m;m++)0===(g-m)%b&&0!==m&&(s+=n),s+=h.charAt(m);for(m=g;m<h.length;m++)0===(h.length-m)%y&&0!==m&&(s+=n),s+=h.charAt(m);for(;p.length<o;)p+="0";o&&"0"!==o&&(s+=i+p.substr(0,o))}return l.push(a?t.negPre:t.posPre),l.push(s),l.push(a?t.negSuf:t.posSuf),l.join("")}function qn(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function Bn(e,t,n,i){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),qn(a,t,i)}}function jn(e,t){return function(n,i){var o=n["get"+e](),a=ti(t?"SHORT"+e:e);return i[a][o]}}function Hn(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=qn(Math[t>0?"floor":"ceil"](t/60),2)+qn(Math.abs(t%60),2)}function In(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Fn(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),o=0,a=0,r=t[8]?i.setUTCFullYear:i.setFullYear,s=t[8]?i.setUTCHours:i.setHours;t[9]&&(o=f(t[9]+t[10]),a=f(t[9]+t[11])),r.call(i,f(t[1]),f(t[2])-1,f(t[3]));var l=f(t[4]||0)-o,u=f(t[5]||0)-a,c=f(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(i,l,u,c,d),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i){var o,r,s="",l=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,x(n)&&(n=ao.test(n)?f(n):t(n)),w(n)&&(n=new Date(n)),!$(n))return n;for(;i;)r=oo.exec(i),r?(l=j(l,r,1),i=l.pop()):(l.push(i),i=null);return a(l,function(t){o=io[t],s+=o?o(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function Rn(){return function(e){return R(e,!0)}}function Un(){return function(e,t){if(!k(e)&&!x(e))return e;if(t=f(t),x(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n,i,o=[];for(t>e.length?t=e.length:t<-e.length&&(t=-e.length),t>0?(n=0,i=t):(n=e.length+t,i=e.length);i>n;n++)o.push(e[n]);return o}}function Wn(e){return function(t,n,i){function o(e,t){for(var i=0;i<n.length;i++){var o=n[i](e,t);if(0!==o)return o}return 0}function a(e,t){return W(t)?function(t,n){return e(n,t)}:e}function r(e,t){var n=typeof e,i=typeof t;return n==i?("string"==n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):i>n?-1:1}if(!k(t))return t;if(!n)return t;n=k(n)?n:[n],n=D(n,function(t){var n=!1,i=t||m;return x(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),i=e(t)),a(function(e,t){return r(i(e),i(t))},n)});for(var s=[],l=0;l<t.length;l++)s.push(t[l]);return s.sort(a(o,i))}}function Vn(e){return C(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)
}function zn(e,t){function n(t,n){n=n?"-"+Z(n,"-"):"",e.removeClass((t?wo:xo)+n).addClass((t?xo:wo)+n)}var i=this,o=e.parent().controller("form")||co,r=0,s=i.$error={},l=[];i.$name=t.name||t.ngForm,i.$dirty=!1,i.$pristine=!0,i.$valid=!0,i.$invalid=!1,o.$addControl(i),e.addClass($o),n(!0),i.$addControl=function(e){it(e.$name,"input"),l.push(e),e.$name&&(i[e.$name]=e)},i.$removeControl=function(e){e.$name&&i[e.$name]===e&&delete i[e.$name],a(s,function(t,n){i.$setValidity(n,!0,e)}),O(l,e)},i.$setValidity=function(e,t,a){var l=s[e];if(t)l&&(O(l,a),l.length||(r--,r||(n(t),i.$valid=!0,i.$invalid=!1),s[e]=!1,n(!0,e),o.$setValidity(e,!0,i)));else{if(r||n(t),l){if(P(l,a))return}else s[e]=l=[],r++,n(!1,e),o.$setValidity(e,!1,i);l.push(a),i.$valid=!1,i.$invalid=!0}},i.$setDirty=function(){e.removeClass($o).addClass(ko),i.$dirty=!0,i.$pristine=!1,o.$setDirty()},i.$setPristine=function(){e.removeClass(ko).addClass($o),i.$dirty=!1,i.$pristine=!0,a(l,function(e){e.$setPristine()})}}function Xn(e,t,o,a,r,s){var l=function(){var n=t.val();W(o.ngTrim||"T")&&(n=mi(n)),a.$viewValue!==n&&e.$apply(function(){a.$setViewValue(n)})};if(r.hasEvent("input"))t.on("input",l);else{var u,c=function(){u||(u=s.defer(function(){l(),u=null}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c()}),t.on("change",l),r.hasEvent("paste")&&t.on("paste cut",c)}a.$render=function(){t.val(a.$isEmpty(a.$viewValue)?"":a.$viewValue)};var d,p,h=o.ngPattern,m=function(e,t){return a.$isEmpty(t)||e.test(t)?(a.$setValidity("pattern",!0),t):(a.$setValidity("pattern",!1),n)};if(h&&(p=h.match(/^\/(.*)\/([gim]*)$/),p?(h=new RegExp(p[1],p[2]),d=function(e){return m(h,e)}):d=function(n){var o=e.$eval(h);if(!o||!o.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,o,V(t));return m(o,n)},a.$formatters.push(d),a.$parsers.push(d)),o.ngMinlength){var g=f(o.ngMinlength),v=function(e){return!a.$isEmpty(e)&&e.length<g?(a.$setValidity("minlength",!1),n):(a.$setValidity("minlength",!0),e)};a.$parsers.push(v),a.$formatters.push(v)}if(o.ngMaxlength){var y=f(o.ngMaxlength),b=function(e){return!a.$isEmpty(e)&&e.length>y?(a.$setValidity("maxlength",!1),n):(a.$setValidity("maxlength",!0),e)};a.$parsers.push(b),a.$formatters.push(b)}}function Qn(e,t,i,o,a,r){if(Xn(e,t,i,o,a,r),o.$parsers.push(function(e){var t=o.$isEmpty(e);return t||vo.test(e)?(o.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(o.$setValidity("number",!1),n)}),o.$formatters.push(function(e){return o.$isEmpty(e)?"":""+e}),i.min){var s=function(e){var t=parseFloat(i.min);return!o.$isEmpty(e)&&t>e?(o.$setValidity("min",!1),n):(o.$setValidity("min",!0),e)};o.$parsers.push(s),o.$formatters.push(s)}if(i.max){var l=function(e){var t=parseFloat(i.max);return!o.$isEmpty(e)&&e>t?(o.$setValidity("max",!1),n):(o.$setValidity("max",!0),e)};o.$parsers.push(l),o.$formatters.push(l)}o.$formatters.push(function(e){return o.$isEmpty(e)||w(e)?(o.$setValidity("number",!0),e):(o.$setValidity("number",!1),n)})}function Yn(e,t,i,o,a,r){Xn(e,t,i,o,a,r);var s=function(e){return o.$isEmpty(e)||mo.test(e)?(o.$setValidity("url",!0),e):(o.$setValidity("url",!1),n)};o.$formatters.push(s),o.$parsers.push(s)}function Gn(e,t,i,o,a,r){Xn(e,t,i,o,a,r);var s=function(e){return o.$isEmpty(e)||go.test(e)?(o.$setValidity("email",!0),e):(o.$setValidity("email",!1),n)};o.$formatters.push(s),o.$parsers.push(s)}function Jn(e,t,n,i){v(n.name)&&t.attr("name",u()),t.on("click",function(){t[0].checked&&e.$apply(function(){i.$setViewValue(n.value)})}),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)}function Kn(e,t,n,i){var o=n.ngTrueValue,a=n.ngFalseValue;x(o)||(o=!0),x(a)||(a=!1),t.on("click",function(){e.$apply(function(){i.$setViewValue(t[0].checked)})}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return e!==o},i.$formatters.push(function(e){return e===o}),i.$parsers.push(function(e){return e?o:a})}function Zn(e,t){return e="ngClass"+e,function(){return{restrict:"AC",link:function(n,i,o){function r(e){(t===!0||n.$index%2===t)&&(c&&!q(e,c)&&s(c),l(e)),c=L(e)}function s(e){o.$removeClass(u(e))}function l(e){o.$addClass(u(e))}function u(e){if(k(e))return e.join(" ");if(b(e)){var t=[];return a(e,function(e,n){e&&t.push(n)}),t.join(" ")}return e}var c;n.$watch(o[e],r,!0),o.$observe("class",function(){r(n.$eval(o[e]))}),"ngClass"!==e&&n.$watch("$index",function(i,a){var r=1&i;1&r!==a&&(r===t?l(n.$eval(o[e])):s(n.$eval(o[e])))})}}}}var ei=function(e){return x(e)?e.toLowerCase():e},ti=function(e){return x(e)?e.toUpperCase():e},ni=function(e){return x(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},ii=function(e){return x(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(ei=ni,ti=ii);var oi,ai,ri,si,li,ui=[].slice,ci=[].push,di=Object.prototype.toString,fi=i("ng"),pi=(e.angular,e.angular||(e.angular={})),hi=["0","0","0"];oi=f((/msie (\d+)/.exec(ei(navigator.userAgent))||[])[1]),isNaN(oi)&&(oi=f((/trident\/.*; rv:(\d+)/.exec(ei(navigator.userAgent))||[])[1])),h.$inject=[],m.$inject=[];var mi=function(){return String.prototype.trim?function(e){return x(e)?e.trim():e}:function(e){return x(e)?e.replace(/^\s*/,"").replace(/\s*$/,""):e}}();li=9>oi?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?ti(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var gi=/[A-Z]/g,vi={full:"1.2.1",major:1,minor:2,dot:1,codeName:"underscore-empathy"},yi=dt.cache={},bi=dt.expando="ng-"+(new Date).getTime(),xi=1,wi=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},$i=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},ki=/([\:\-\_]+(.))/g,Ci=/^moz([A-Z])/,Ti=i("jqLite"),Si=dt.prototype={ready:function(n){function i(){o||(o=!0,n())}var o=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),dt(e).on("load",i))},toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?ai(this[e]):ai(this[this.length+e])},length:0,push:ci,sort:[].sort,splice:[].splice},_i={};a("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){_i[ei(e)]=e});var Ei={};a("input,select,option,textarea,button,form,details".split(","),function(e){Ei[ti(e)]=!0}),a({data:vt,inheritedData:kt,scope:function(e){return ai(e).data("$scope")||kt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return ai(e).data("$isolateScope")||ai(e).data("$isolateScopeNoTemplate")},controller:$t,injector:function(e){return kt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:yt,css:function(e,t,i){if(t=ut(t),!y(i)){var o;return 8>=oi&&(o=e.currentStyle&&e.currentStyle[t],""===o&&(o="auto")),o=o||e.style[t],8>=oi&&(o=""===o?n:o),o}e.style[t]=i},attr:function(e,t,i){var o=ei(t);if(_i[o]){if(!y(i))return e[t]||(e.attributes.getNamedItem(t)||h).specified?o:n;i?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(y(i))e.setAttribute(t,i);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}},prop:function(e,t,n){return y(n)?(e[t]=n,void 0):e[t]},text:function(){function e(e,n){var i=t[e.nodeType];return v(n)?i?e[i]:"":(e[i]=n,void 0)}var t=[];return 9>oi?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",e.$dv="",e}(),val:function(e,t){if(v(t)){if("SELECT"===li(e)&&e.multiple){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(v(t))return e.innerHTML;for(var n=0,i=e.childNodes;n<i.length;n++)pt(i[n]);e.innerHTML=t}},function(e,t){dt.prototype[t]=function(t,i){var o,a;if((2==e.length&&e!==yt&&e!==$t?t:i)===n){if(b(t)){for(o=0;o<this.length;o++)if(e===vt)e(this[o],t);else for(a in t)e(this[o],a,t[a]);return this}for(var r=e.$dv,s=r===n?Math.min(this.length,1):this.length,l=0;s>l;l++){var u=e(this[l],t,i);r=r?r+u:u}return r}for(o=0;o<this.length;o++)e(this[o],t,i);return this}}),a({removeData:mt,dealoc:pt,on:function aa(e,n,i,o){if(y(o))throw Ti("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var r=gt(e,"events"),s=gt(e,"handle");r||gt(e,"events",r={}),s||gt(e,"handle",s=Tt(e,r)),a(n.split(" "),function(n){var o=r[n];if(!o){if("mouseenter"==n||"mouseleave"==n){var a=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};r[n]=[];var l={mouseleave:"mouseout",mouseenter:"mouseover"};aa(e,l[n],function(e){var t=this,i=e.relatedTarget;(!i||i!==t&&!a(t,i))&&s(e,n)})}else wi(e,n,s),r[n]=[];o=r[n]}o.push(i)})},off:ht,replaceWith:function(e,t){var n,i=e.parentNode;pt(e),a(new dt(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.childNodes||[]},append:function(e,t){a(new dt(t),function(t){(1===e.nodeType||11===e.nodeType)&&e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;a(new dt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=ai(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){pt(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,i=e.parentNode;a(new dt(t),function(e){i.insertBefore(e,n.nextSibling),n=e})},addClass:xt,removeClass:bt,toggleClass:function(e,t,n){v(n)&&(n=!yt(e,t)),(n?xt:bt)(e,t)},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName(t)},clone:ft,triggerHandler:function(e,t,n){var i=(gt(e,"events")||{})[t];n=n||[];var o=[{preventDefault:h,stopPropagation:h}];a(i,function(t){t.apply(e,o.concat(n))})}},function(e,t){dt.prototype[t]=function(t,n,i){for(var o,a=0;a<this.length;a++)v(o)?(o=e(this[a],t,n,i),y(o)&&(o=ai(o))):wt(o,e(this[a],t,n,i));return y(o)?o:this},dt.prototype.bind=dt.prototype.on,dt.prototype.unbind=dt.prototype.off}),_t.prototype={put:function(e,t){this[St(e)]=t},get:function(e){return this[St(e)]},remove:function(e){var t=this[e=St(e)];return delete this[e],t}};var Mi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Di=/,/,Pi=/^\s*(_?)(\S+?)\1\s*$/,Ni=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Oi=i("$injector"),Li=i("$animate"),Ai=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var i=t+"-animation";if(t&&"."!=t.charAt(0))throw Li("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=i,e.factory(i,n)},this.$get=["$timeout",function(e){return{enter:function(t,n,i,o){var r=i&&i[i.length-1],s=n&&n[0]||r&&r.parentNode,l=r&&r.nextSibling||null;a(t,function(e){s.insertBefore(e,l)}),o&&e(o,0,!1)},leave:function(t,n){t.remove(),n&&e(n,0,!1)},move:function(e,t,n,i){this.enter(e,t,n,i)},addClass:function(t,n,i){n=x(n)?n:k(n)?n.join(" "):"",a(t,function(e){xt(e,n)}),i&&e(i,0,!1)},removeClass:function(t,n,i){n=x(n)?n:k(n)?n.join(" "):"",a(t,function(e){bt(e,n)}),i&&e(i,0,!1)},enabled:h}}]}],qi=i("$compile");At.$inject=["$provide"];var Bi=/^(x[\:\-_]|data[\:\-_])/i,ji=e.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw i("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")},Hi=i("$interpolate"),Ii=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Fi={http:80,https:443,ftp:21},Ri=i("$location");rn.prototype=an.prototype=on.prototype={$$html5:!1,$$replace:!1,absUrl:sn("$$absUrl"),url:function(e,t){if(v(e))return this.$$url;var n=Ii.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:sn("$$protocol"),host:sn("$$host"),port:sn("$$port"),path:ln("$$path",function(e){return"/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(x(e))this.$$search=X(e);else{if(!b(e))throw Ri("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:ln("$$hash",m),replace:function(){return this.$$replace=!0,this}};var Ui,Wi=i("$parse"),Vi={},zi={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:h,"+":function(e,t,i,o){return i=i(e,t),o=o(e,t),y(i)?y(o)?i+o:i:y(o)?o:n},"-":function(e,t,n,i){return n=n(e,t),i=i(e,t),(y(n)?n:0)-(y(i)?i:0)},"*":function(e,t,n,i){return n(e,t)*i(e,t)},"/":function(e,t,n,i){return n(e,t)/i(e,t)},"%":function(e,t,n,i){return n(e,t)%i(e,t)},"^":function(e,t,n,i){return n(e,t)^i(e,t)},"=":h,"===":function(e,t,n,i){return n(e,t)===i(e,t)},"!==":function(e,t,n,i){return n(e,t)!==i(e,t)},"==":function(e,t,n,i){return n(e,t)==i(e,t)},"!=":function(e,t,n,i){return n(e,t)!=i(e,t)},"<":function(e,t,n,i){return n(e,t)<i(e,t)},">":function(e,t,n,i){return n(e,t)>i(e,t)},"<=":function(e,t,n,i){return n(e,t)<=i(e,t)},">=":function(e,t,n,i){return n(e,t)>=i(e,t)},"&&":function(e,t,n,i){return n(e,t)&&i(e,t)},"||":function(e,t,n,i){return n(e,t)||i(e,t)},"&":function(e,t,n,i){return n(e,t)&i(e,t)},"|":function(e,t,n,i){return i(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},Xi={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Qi=function(e){this.options=e};Qi.prototype={constructor:Qi,lex:function(e){this.text=e,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];for(var t,i=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&"{"===i[0]&&(t=this.tokens[this.tokens.length-1])&&(t.json=-1===t.text.indexOf("."));else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&i.unshift(this.ch),this.is("}]")&&i.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var o=this.ch+this.peek(),a=o+this.peek(2),r=zi[this.ch],s=zi[o],l=zi[a];l?(this.tokens.push({index:this.index,text:a,fn:l}),this.index+=3):s?(this.tokens.push({index:this.index,text:o,fn:s}),this.index+=2):r?(this.tokens.push({index:this.index,text:this.ch,fn:r,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return-1!==e.indexOf(this.ch)},was:function(e){return-1!==e.indexOf(this.lastCh)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Wi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=ei(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}e=1*e,this.tokens.push({index:t,text:e,json:!0,fn:function(){return e}})},readIdent:function(){for(var e,t,n,i,o=this,a="",r=this.index;this.index<this.text.length&&(i=this.text.charAt(this.index),"."===i||this.isIdent(i)||this.isNumber(i));)"."===i&&(e=this.index),a+=i,this.index++;if(e)for(t=this.index;t<this.text.length;){if(i=this.text.charAt(t),"("===i){n=a.substr(e-r+1),a=a.substr(0,e-r),this.index=t;break}if(!this.isWhitespace(i))break;t++}var s={index:r,text:a};if(zi.hasOwnProperty(a))s.fn=zi[a],s.json=zi[a];else{var l=mn(a,this.options,this.text);s.fn=d(function(e,t){return l(e,t)},{assign:function(e,t){return pn(e,a,t,o.text,o.options)}})}this.tokens.push(s),n&&(this.tokens.push({index:e,text:".",json:!1}),this.tokens.push({index:e+1,text:n,json:!1}))},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,o=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(i+=a,o){if("u"===a){var r=this.text.substring(this.index+1,this.index+5);r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))}else{var s=Xi[a];n+=s?s:a}o=!1}else if("\\"===a)o=!0;else{if(a===e)return this.index++,this.tokens.push({index:t,text:i,string:n,json:!0,fn:function(){return n}}),void 0;n+=a}this.index++}this.throwError("Unterminated quote",t)}};var Yi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};Yi.ZERO=function(){return 0},Yi.prototype={constructor:Yi,parse:function(e,t){this.text=e,this.json=t,this.tokens=this.lexer.lex(e),t&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:e,index:0})});var n=t?this.primary():this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),n.literal=!!n.literal,n.constant=!!n.constant,n},primary:function(){var e;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();e=t.fn,e||this.throwError("not a primary expression",t),t.json&&(e.constant=!0,e.literal=!0)}for(var n,i;n=this.expect("(","[",".");)"("===n.text?(e=this.functionCall(e,i),i=null):"["===n.text?(i=e,e=this.objectIndex(e)):"."===n.text?(i=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw Wi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw Wi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){if(this.tokens.length>0){var o=this.tokens[0],a=o.text;if(a===e||a===t||a===n||a===i||!e&&!t&&!n&&!i)return o}return!1},expect:function(e,t,n,i){var o=this.peek(e,t,n,i);return o?(this.json&&!o.json&&this.throwError("is not valid json",o),this.tokens.shift(),o):!1},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return d(function(n,i){return e(n,i,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return d(function(i,o){return e(i,o)?t(i,o):n(i,o)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return d(function(i,o){return t(i,o,e,n)},{constant:e.constant&&n.constant})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var i,o=0;o<e.length;o++){var a=e[o];a&&(i=a(t,n))}return i}},filterChain:function(){for(var e,t=this.expression();;){if(!(e=this.expect("|")))return t;t=this.binaryFn(t,e.fn,this.filter())}},filter:function(){for(var e=this.expect(),t=this.$filter(e.text),n=[];;){if(!(e=this.expect(":"))){var i=function(e,i,o){for(var a=[o],r=0;r<n.length;r++)a.push(n[r](e,i));return t.apply(e,a)};return function(){return i}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),function(t,i){return n.assign(t,e(t,i),i)}):n},ternary:function(){var e,t,n=this.logicalOR();return(t=this.expect("?"))?(e=this.ternary(),(t=this.expect(":"))?this.ternaryFn(n,e,this.ternary()):(this.throwError("expected :",t),void 0)):n},logicalOR:function(){for(var e,t=this.logicalAND();;){if(!(e=this.expect("||")))return t;t=this.binaryFn(t,e.fn,this.logicalAND())}},logicalAND:function(){var e,t=this.equality();return(e=this.expect("&&"))&&(t=this.binaryFn(t,e.fn,this.logicalAND())),t},equality:function(){var e,t=this.relational();return(e=this.expect("==","!=","===","!=="))&&(t=this.binaryFn(t,e.fn,this.equality())),t},relational:function(){var e,t=this.additive();return(e=this.expect("<",">","<=",">="))&&(t=this.binaryFn(t,e.fn,this.relational())),t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.fn,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.fn,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(Yi.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,i=mn(n,this.options,this.text);return d(function(t,n,o){return i(o||e(t,n),n)},{assign:function(i,o,a){return pn(e(i,a),n,o,t.text,t.options)}})},objectIndex:function(e){var t=this,i=this.expression();return this.consume("]"),d(function(o,a){var r,s,l=e(o,a),u=i(o,a);return l?(r=fn(l[u],t.text),r&&r.then&&t.options.unwrapPromises&&(s=r,"$$v"in r||(s.$$v=n,s.then(function(e){s.$$v=e})),r=r.$$v),r):n},{assign:function(n,o,a){var r=i(n,a),s=fn(e(n,a),t.text);return s[r]=o}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var i=this;return function(o,a){for(var r=[],s=t?t(o,a):o,l=0;l<n.length;l++)r.push(n[l](o,a));var u=e(o,a,s)||h;fn(s,i.text),fn(u,i.text);var c=u.apply?u.apply(s,r):u(r[0],r[1],r[2],r[3],r[4]);return fn(c,i.text)}},arrayDeclaration:function(){var e=[],t=!0;if("]"!==this.peekToken().text)do{var n=this.expression();e.push(n),n.constant||(t=!1)}while(this.expect(","));return this.consume("]"),d(function(t,n){for(var i=[],o=0;o<e.length;o++)i.push(e[o](t,n));return i},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if("}"!==this.peekToken().text)do{var n=this.expect(),i=n.string||n.text;this.consume(":");var o=this.expression();e.push({key:i,value:o}),o.constant||(t=!1)}while(this.expect(","));return this.consume("}"),d(function(t,n){for(var i={},o=0;o<e.length;o++){var a=e[o];i[a.key]=a.value(t,n)}return i},{literal:!0,constant:t})}};var Gi={},Ji=i("$sce"),Ki={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Zi=t.createElement("a"),eo=/^\/?.*?:(\/.*)/,to=_n(e.location.href,!0);Pn.$inject=["$provide"],On.$inject=["$locale"],Ln.$inject=["$locale"];var no=".",io={yyyy:Bn("FullYear",4),yy:Bn("FullYear",2,0,!0),y:Bn("FullYear",1),MMMM:jn("Month"),MMM:jn("Month",!0),MM:Bn("Month",2,1),M:Bn("Month",1,1),dd:Bn("Date",2),d:Bn("Date",1),HH:Bn("Hours",2),H:Bn("Hours",1),hh:Bn("Hours",2,-12),h:Bn("Hours",1,-12),mm:Bn("Minutes",2),m:Bn("Minutes",1),ss:Bn("Seconds",2),s:Bn("Seconds",1),sss:Bn("Milliseconds",3),EEEE:jn("Day"),EEE:jn("Day",!0),a:In,Z:Hn},oo=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,ao=/^\-?\d+$/;Fn.$inject=["$locale"];var ro=g(ei),so=g(ti);Wn.$inject=["$parse"];var lo=g({restrict:"E",compile:function(e,n){return 8>=oi&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),function(e,t){t.on("click",function(e){t.attr("href")||e.preventDefault()})}}}),uo={};a(_i,function(e,t){if("multiple"!=e){var n=qt("ng-"+t);uo[n]=function(){return{priority:100,compile:function(){return function(e,i,o){e.$watch(o[n],function(e){o.$set(t,!!e)})}}}}}}),a(["src","srcset","href"],function(e){var t=qt("ng-"+e);uo[t]=function(){return{priority:99,link:function(n,i,o){o.$observe(t,function(t){t&&(o.$set(e,t),oi&&i.prop(e,o[e]))})}}}});var co={$addControl:h,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h};zn.$inject=["$element","$attrs","$scope"];var fo=function(e){return["$timeout",function(t){var i={name:"form",restrict:e?"EAC":"E",controller:zn,compile:function(){return{pre:function(e,i,o,a){if(!o.action){var r=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};wi(i[0],"submit",r),i.on("$destroy",function(){t(function(){$i(i[0],"submit",r)},0,!1)})}var s=i.parent().controller("form"),l=o.name||o.ngForm;l&&pn(e,l,a,l),s&&i.on("$destroy",function(){s.$removeControl(a),l&&pn(e,l,n,l),d(a,co)})}}}};return i}]},po=fo(),ho=fo(!0),mo=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,go=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$/,vo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,yo={text:Xn,number:Qn,url:Yn,email:Gn,radio:Jn,checkbox:Kn,hidden:h,button:h,submit:h,reset:h},bo=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,i,o,a){a&&(yo[ei(o.type)]||yo.text)(n,i,o,a,t,e)}}}],xo="ng-valid",wo="ng-invalid",$o="ng-pristine",ko="ng-dirty",Co=["$scope","$exceptionHandler","$attrs","$element","$parse",function(e,t,n,o,r){function s(e,t){t=t?"-"+Z(t,"-"):"",o.removeClass((e?wo:xo)+t).addClass((e?xo:wo)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var l=r(n.ngModel),u=l.assign;if(!u)throw i("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,V(o));this.$render=h,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var c=o.inheritedData("$formController")||co,d=0,f=this.$error={};o.addClass($o),s(!0),this.$setValidity=function(e,t){f[e]!==!t&&(t?(f[e]&&d--,d||(s(!0),this.$valid=!0,this.$invalid=!1)):(s(!1),this.$invalid=!0,this.$valid=!1,d++),f[e]=!t,s(t,e),c.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,o.removeClass(ko).addClass($o)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,o.removeClass($o).addClass(ko),c.$setDirty()),a(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,u(e,n),a(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var p=this;e.$watch(function(){var t=l(e);if(p.$modelValue!==t){var n=p.$formatters,i=n.length;for(p.$modelValue=t;i--;)t=n[i](t);p.$viewValue!==t&&(p.$viewValue=t,p.$render())}})}],To=function(){return{require:["ngModel","^?form"],controller:Co,link:function(e,t,n,i){var o=i[0],a=i[1]||co;a.$addControl(o),e.$on("$destroy",function(){a.$removeControl(o)})}}},So=g({require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),_o=function(){return{require:"?ngModel",link:function(e,t,n,i){if(i){n.required=!0;var o=function(e){return n.required&&i.$isEmpty(e)?(i.$setValidity("required",!1),void 0):(i.$setValidity("required",!0),e)};i.$formatters.push(o),i.$parsers.unshift(o),n.$observe("required",function(){o(i.$viewValue)})}}}},Eo=function(){return{require:"ngModel",link:function(e,t,i,o){var r=/\/(.*)\//.exec(i.ngList),s=r&&new RegExp(r[1])||i.ngList||",",l=function(e){if(!v(e)){var t=[];return e&&a(e.split(s),function(e){e&&t.push(mi(e))}),t}};o.$parsers.push(l),o.$formatters.push(function(e){return k(e)?e.join(", "):n}),o.$isEmpty=function(e){return!e||!e.length}}}},Mo=/^(true|false|\d+)$/,Do=function(){return{priority:100,compile:function(e,t){return Mo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Po=Vn(function(e,t,i){t.addClass("ng-binding").data("$binding",i.ngBind),e.$watch(i.ngBind,function(e){t.text(e==n?"":e)})}),No=["$interpolate",function(e){return function(t,n,i){var o=e(n.attr(i.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",o),i.$observe("ngBindTemplate",function(e){n.text(e)})}}],Oo=["$sce","$parse",function(e,t){return function(n,i,o){function a(){return(r(n)||"").toString()}i.addClass("ng-binding").data("$binding",o.ngBindHtml);var r=t(o.ngBindHtml);n.$watch(a,function(){i.html(e.getTrustedHtml(r(n))||"")})}}],Lo=Zn("",!0),Ao=Zn("Odd",0),qo=Zn("Even",1),Bo=Vn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),jo=[function(){return{scope:!0,controller:"@"}}],Ho={};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=qt("ng-"+e);Ho[t]=["$parse",function(n){return{compile:function(i,o){var a=n(o[t]);return function(t,n){n.on(ei(e),function(e){t.$apply(function(){a(t,{$event:e})})})}}}}]});var Io=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,o,a,r){var s,l;n.$watch(o.ngIf,function(a){W(a)?l||(l=n.$new(),r(l,function(n){s={startNode:n[0],endNode:n[n.length++]=t.createComment(" end ngIf: "+o.ngIf+" ")},e.enter(n,i.parent(),i)})):(l&&(l.$destroy(),l=null),s&&(e.leave(at(s)),s=null))})}}}],Fo=["$http","$templateCache","$anchorScroll","$compile","$animate","$sce",function(e,t,n,i,o,a){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",compile:function(r,s){var l=s.ngInclude||s.src,u=s.onload||"",c=s.autoscroll;return function(r,s,d,f,p){var h,m,g=0,v=function(){h&&(h.$destroy(),h=null),m&&(o.leave(m),m=null)};r.$watch(a.parseAsResourceUrl(l),function(a){var l=function(){!y(c)||c&&!r.$eval(c)||n()},d=++g;a?(e.get(a,{cache:t}).success(function(e){if(d===g){var t=r.$new();p(t,function(n){v(),h=t,m=n,m.html(e),o.enter(m,null,s,l),i(m.contents())(h),h.$emit("$includeContentLoaded"),r.$eval(u)})}}).error(function(){d===g&&v()}),r.$emit("$includeContentRequested")):v()})}}}}],Ro=Vn({compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Uo=Vn({terminal:!0,priority:1e3}),Wo=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(i,o,r){var s=r.count,l=r.$attr.when&&o.attr(r.$attr.when),u=r.offset||0,c=i.$eval(l)||{},d={},f=t.startSymbol(),p=t.endSymbol(),h=/^when(Minus)?(.+)$/;a(r,function(e,t){h.test(t)&&(c[ei(t.replace("when","").replace("Minus","-"))]=o.attr(r.$attr[t]))}),a(c,function(e,i){d[i]=t(e.replace(n,f+s+"-"+u+p))}),i.$watch(function(){var t=parseFloat(i.$eval(s));return isNaN(t)?"":(t in c||(t=e.pluralCat(t-u)),d[t](i,o,!0))},function(e){o.text(e)})}}}],Vo=["$parse","$animate",function(e,n){var r="$$NG_REMOVED",s=i("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(i,l,u,c,d){var f,p,h,m,g,v,y,b,x,w=u.ngRepeat,$=w.match(/^\s*(.+)\s+in\s+(.*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),k={$id:St};if(!$)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",w);if(v=$[1],y=$[2],f=$[4],f?(p=e(f),h=function(e,t,n){return x&&(k[x]=e),k[b]=t,k.$index=n,p(i,k)}):(m=function(e,t){return St(t)},g=function(e){return e}),$=v.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!$)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);b=$[3]||$[1],x=$[2];var C={};i.$watchCollection(y,function(e){var u,c,f,p,v,y,$,k,T,S,_,E,M=l[0],D={},P=[];
if(o(e))S=e,T=h||m;else{T=h||g,S=[];for(y in e)e.hasOwnProperty(y)&&"$"!=y.charAt(0)&&S.push(y);S.sort()}for(p=S.length,c=P.length=S.length,u=0;c>u;u++)if(y=e===S?u:S[u],$=e[y],k=T(y,$,u),it(k,"`track by` id"),C.hasOwnProperty(k))_=C[k],delete C[k],D[k]=_,P[u]=_;else{if(D.hasOwnProperty(k))throw a(P,function(e){e&&e.startNode&&(C[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",w,k);P[u]={id:k},D[k]=!1}for(y in C)C.hasOwnProperty(y)&&(_=C[y],E=at(_),n.leave(E),a(E,function(e){e[r]=!0}),_.scope.$destroy());for(u=0,c=S.length;c>u;u++){if(y=e===S?u:S[u],$=e[y],_=P[u],P[u-1]&&(M=P[u-1].endNode),_.startNode){v=_.scope,f=M;do f=f.nextSibling;while(f&&f[r]);_.startNode!=f&&n.move(at(_),null,ai(M)),M=_.endNode}else v=i.$new();v[b]=$,x&&(v[x]=y),v.$index=u,v.$first=0===u,v.$last=u===p-1,v.$middle=!(v.$first||v.$last),v.$odd=!(v.$even=0===(1&u)),_.startNode||d(v,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+w+" "),n.enter(e,null,ai(M)),M=e,_.scope=v,_.startNode=M&&M.endNode?M.endNode:e[0],_.endNode=e[e.length-1],D[_.id]=_})}C=D})}}}],zo=["$animate",function(e){return function(t,n,i){t.$watch(i.ngShow,function(t){e[W(t)?"removeClass":"addClass"](n,"ng-hide")})}}],Xo=["$animate",function(e){return function(t,n,i){t.$watch(i.ngHide,function(t){e[W(t)?"addClass":"removeClass"](n,"ng-hide")})}}],Qo=Vn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Yo=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,i,o){var r,s,l=i.ngSwitch||i.on,u=[];t.$watch(l,function(n){for(var l=0,c=u.length;c>l;l++)u[l].$destroy(),e.leave(s[l]);s=[],u=[],(r=o.cases["!"+n]||o.cases["?"])&&(t.$eval(i.change),a(r,function(n){var i=t.$new();u.push(i),n.transclude(i,function(t){var i=n.element;s.push(t),e.enter(t,i.parent(),i)})}))})}}}],Go=Vn({transclude:"element",priority:800,require:"^ngSwitch",compile:function(e,t){return function(e,n,i,o,a){o.cases["!"+t.ngSwitchWhen]=o.cases["!"+t.ngSwitchWhen]||[],o.cases["!"+t.ngSwitchWhen].push({transclude:a,element:n})}}}),Jo=Vn({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,i,o){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:o,element:t})}}),Ko=Vn({controller:["$element","$transclude",function(e,t){if(!t)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",V(e));this.$transclude=t}],link:function(e,t,n,i){i.$transclude(function(e){t.html(""),t.append(e)})}}),Zo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,o=t[0].text;e.put(i,o)}}}}],ea=i("ngOptions"),ta=g({terminal:!0}),na=["$compile","$parse",function(e,i){var o=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,s={$setViewValue:h};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var i,o,a=this,r={},l=s;a.databound=n.ngModel,a.init=function(e,t,n){l=e,i=t,o=n},a.addOption=function(t){it(t,'"option value"'),r[t]=!0,l.$viewValue==t&&(e.val(t),o.parent()&&o.remove())},a.removeOption=function(e){this.hasOption(e)&&(delete r[e],l.$viewValue==e&&this.renderUnknownOption(e))},a.renderUnknownOption=function(t){var n="? "+St(t)+" ?";o.val(n),e.prepend(o),e.val(n),o.prop("selected",!0)},a.hasOption=function(e){return r.hasOwnProperty(e)},t.$on("$destroy",function(){a.renderUnknownOption=h})}],link:function(s,l,u,c){function d(e,t,n,i){n.$render=function(){var e=n.$viewValue;i.hasOption(e)?(T.parent()&&T.remove(),t.val(e),""===e&&h.prop("selected",!0)):v(e)&&h?t.val(""):i.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){T.parent()&&T.remove(),n.$setViewValue(t.val())})})}function f(e,t,n){var i;n.$render=function(){var e=new _t(n.$viewValue);a(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){q(i,n.$viewValue)||(i=L(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];a(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function p(t,a,s){function l(){var e,n,i,o,l,u,g,x,S,_,E,M,D,P,N,O={"":[]},L=[""],A=s.$modelValue,q=m(t)||[],B=f?r(q):q,j={},H=!1;if(b)if(v&&k(A)){H=new _t([]);for(var I=0;I<A.length;I++)j[d]=A[I],H.put(v(t,j),A[I])}else H=new _t(A);for(E=0;S=B.length,S>E;E++){if(g=E,f){if(g=B[E],"$"===g.charAt(0))continue;j[f]=g}if(j[d]=q[g],e=p(t,j)||"",(n=O[e])||(n=O[e]=[],L.push(e)),b)M=y(H.remove(v?v(t,j):h(t,j)));else{if(v){var F={};F[d]=A,M=v(t,F)===v(t,j)}else M=A===h(t,j);H=H||M}N=c(t,j),N=y(N)?N:"",n.push({id:v?v(t,j):f?B[E]:E,label:N,selected:M})}for(b||(w||null===A?O[""].unshift({id:"",label:"",selected:!H}):H||O[""].unshift({id:"?",label:"",selected:!0})),_=0,x=L.length;x>_;_++){for(e=L[_],n=O[e],T.length<=_?(o={element:C.clone().attr("label",e),label:n.label},l=[o],T.push(l),a.append(o.element)):(l=T[_],o=l[0],o.label!=e&&o.element.attr("label",o.label=e)),D=null,E=0,S=n.length;S>E;E++)i=n[E],(u=l[E+1])?(D=u.element,u.label!==i.label&&D.text(u.label=i.label),u.id!==i.id&&D.val(u.id=i.id),D[0].selected!==i.selected&&D.prop("selected",u.selected=i.selected)):(""===i.id&&w?P=w:(P=$.clone()).val(i.id).attr("selected",i.selected).text(i.label),l.push(u={element:P,label:i.label,id:i.id,selected:i.selected}),D?D.after(P):o.element.append(P),D=P);for(E++;l.length>E;)l.pop().element.remove()}for(;T.length>_;)T.pop()[0].element.remove()}var u;if(!(u=x.match(o)))throw ea("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",x,V(a));var c=i(u[2]||u[1]),d=u[4]||u[6],f=u[5],p=i(u[3]||""),h=i(u[2]?u[1]:d),m=i(u[7]),g=u[8],v=g?i(u[8]):null,T=[[{element:a,label:""}]];w&&(e(w)(t),w.removeClass("ng-scope"),w.remove()),a.html(""),a.on("change",function(){t.$apply(function(){var e,i,o,r,l,u,c,p,g,y=m(t)||[],x={};if(b){for(o=[],u=0,p=T.length;p>u;u++)for(e=T[u],l=1,c=e.length;c>l;l++)if((r=e[l].element)[0].selected){if(i=r.val(),f&&(x[f]=i),v)for(g=0;g<y.length&&(x[d]=y[g],v(t,x)!=i);g++);else x[d]=y[i];o.push(h(t,x))}}else if(i=a.val(),"?"==i)o=n;else if(""===i)o=null;else if(v){for(g=0;g<y.length;g++)if(x[d]=y[g],v(t,x)==i){o=h(t,x);break}}else x[d]=y[i],f&&(x[f]=i),o=h(t,x);s.$setViewValue(o)})}),s.$render=l,t.$watch(l)}if(c[1]){for(var h,m=c[0],g=c[1],b=u.multiple,x=u.ngOptions,w=!1,$=ai(t.createElement("option")),C=ai(t.createElement("optgroup")),T=$.clone(),S=0,_=l.children(),E=_.length;E>S;S++)if(""===_[S].value){h=w=_.eq(S);break}if(m.init(g,w,T),b&&(u.required||u.ngRequired)){var M=function(e){return g.$setValidity("required",!u.required||e&&e.length),e};g.$parsers.push(M),g.$formatters.unshift(M),u.$observe("required",function(){M(g.$viewValue)})}x?p(s,l,g):b?f(s,l,g):d(s,l,g,m)}}}}],ia=["$interpolate",function(e){var t={addOption:h,removeOption:h};return{restrict:"E",priority:100,compile:function(n,i){if(v(i.value)){var o=e(n.text(),!0);o||i.$set("value",n.text())}return function(e,n,i){var a="$selectController",r=n.parent(),s=r.data(a)||r.parent().data(a);s&&s.databound?n.prop("selected",!1):s=t,o?e.$watch(o,function(e,t){i.$set("value",e),e!==t&&s.removeOption(t),s.addOption(e)}):s.addOption(i.value),n.on("$destroy",function(){s.removeOption(i.value)})}}}}],oa=g({restrict:"E",terminal:!0});et(),st(pi),ai(t).ready(function(){J(t,K)})}(window,document),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-start{clip:rect(0,auto,auto,0);-ms-zoom:1.0001;}.ng-animate-active{clip:rect(-1px,auto,auto,0);-ms-zoom:1;}</style>'),define("angular",function(e){return function(){var t;return t||e.angular}}(this)),define("common/directives/artwork-drt",[],function(){function e(){function e(e){var t="";return e?(e.artist&&(t+=e.artist),e.album&&(t+=(t?" - ":"")+e.album),e.name&&(t+=(t?" - ":"")+e.name),t):t}function t(e){return e&&e.artworkUrl?e.artworkUrl:"/img/album.png"}return{restrict:"E",replace:!0,scope:{data:"="},template:'<img class="artwork" alt="{{ title }}" ng-src="{{ src }}">',link:function(n){n.$watch("data",function(i){n.title=e(i),n.src=t(i)})}}}return e}),define("common/directives/no-scroll-propagation-drt",[],function(){function e(){var e;return{restrict:"A",replace:!1,scope:!1,link:function(t,n){var i,o;n[0].onmousewheel!==e?(i="mousewheel",o=function(e){return e.wheelDelta>0}):(i="wheel",o=function(e){return e.deltaY<0}),n.on(i,function(e){var t=o(e);!t&&this.scrollTop>=this.scrollHeight-this.clientHeight?e.preventDefault():t&&0===this.scrollTop&&e.preventDefault()})}}}return e}),define("common/filters/time-flt",[],function(){function e(){function e(e){var t,n,i,o;return e?(e=parseInt(e,10),t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),i=e-3600*t-60*n,10>t&&(t="0"+t),10>n&&(n="0"+n),10>i&&(i="0"+i),o=n+":"+i,"00"!==t&&(o=t+":"+o),o):"00:00"}return e}return e}),define("common/filters/sentence-filter-flt",[],function(){function e(e){function t(e,t){return 0===e.localeCompare(t,"en-US",{sensitivity:"base"})}return function(n,i,o){function a(e){var n,o,a,s=0;if(!e[i])return!1;for(n=e[i].split(/ +/),o=0,a=n.length;a>o;o++)if(t(r[s],n[o])){if(++s===r.length)return!0}else s=0;return!1}var r;return i&&o?(r=o.split(/ +/),e(n,a)):n}}return e.$inject=["filterFilter"],e}),define("common/filters/encode-flt",[],function(){function e(){function e(e){return encodeURIComponent(e)}return e}return e}),define("common/services/cache-fct",[],function(){function e(e){function t(t){var n=e(t),i=[];this.get=function(e){return n.get(e)},this.put=function(e,t,o){this.get(e)||(n.put(e,t),o||i.push(t))},this.remove=function(e){var t,o=this.get(e);o&&(n.remove(e),t=i.indexOf(o),-1!==t&&i.splice(t,1))},this.values=function(){return i}}var n={};return function(e){return n[e]||(n[e]=new t(e)),n[e]}}return e.$inject=["$cacheFactory"],e}),define("common/main",["angular","./directives/artwork-drt","./directives/no-scroll-propagation-drt","./filters/time-flt","./filters/sentence-filter-flt","./filters/encode-flt","./services/cache-fct"],function(e,t,n,i,o,a,r){return e.module("soundrocket.common",[]).directive("srArtwork",t).directive("srNoScrollPropagation",n).filter("srTime",i).filter("srSentenceFilter",o).filter("srEncode",a).factory("cacheFactory",r)}),define("common",["common/main"],function(e){return e}),define("artist-info/artist-info-ctrl",[],function(){function e(e,t,n){e.artist=null,n.getInfo(t.artist).then(function(t){e.artist=t})}return e.$inject=["$scope","$routeParams","artistInfoSrv"],e}),define("artist-info/similar-artists-ctrl",[],function(){function e(e,t,n){e.artists=null,n.getSimilar(t.artist).then(function(t){e.artists=t})}return e.$inject=["$scope","$routeParams","artistInfoSrv"],e}),define("artist-info/top-albums-ctrl",[],function(){function e(e,t,n){e.albums=null,n.getTopAlbums(t.artist).then(function(t){e.albums=t}),e.loadAlbumTracks=function(e){e.tracks=n.getAlbumTracks(t.artist,e.name)}}return e.$inject=["$scope","$routeParams","artistInfoSrv"],e}),define("artist-info/top-tracks-ctrl",[],function(){function e(e,t,n){e.tracksActionsOptions={play:!0},e.artist=t.artist,e.tracks=null,n.getTopTracks(t.artist).then(function(t){e.tracks=t})}return e.$inject=["$scope","$routeParams","artistInfoSrv"],e}),define("artist-info/artist-info-srv",[],function(){function e(e,t){function n(n){return e.get("/api/artists/"+n,{cache:!0}).then(function(e){return e.data.bio=t.trustAsHtml(e.data.bio),e.data})}this.getInfo=function(e){return n(e).then(function(e){return{name:e.name,artworkUrl:e.artworkUrl,bio:e.bio}})},this.getSimilar=function(e){return n(e).then(function(e){return e.similarArtists})},this.getTopTracks=function(t){return e.get("/api/artists/"+t+"/tracks",{cache:!0}).then(function(e){return e.data})},this.getTopAlbums=function(t){return e.get("/api/artists/"+t+"/albums",{cache:!0}).then(function(e){return e.data})},this.getAlbumTracks=function(t,n){return e.get("/api/artists/"+t+"/albums/"+n,{cache:!0}).then(function(e){return e.data.tracks})}}return e.$inject=["$http","$sce"],e}),define("artist-info/main",["angular","./artist-info-ctrl","./similar-artists-ctrl","./top-albums-ctrl","./top-tracks-ctrl","./artist-info-srv"],function(e,t,n,i,o,a){var r=e.module("soundrocket.artist-info",[]);return r.controller("ArtistInfoCtrl",t).controller("SimilarArtistsCtrl",n).controller("TopAlbumsCtrl",i).controller("TopTracksCtrl",o).service("artistInfoSrv",a),r}),define("artist-info",["artist-info/main"],function(e){return e}),define("keyboard-shortcuts/keyboard-shortcuts-ctrl",[],function(){function e(e,t){e.close=function(){t.close()}}return e.$inject=["$scope","dialog"],e}),define("keyboard-shortcuts/keyboard-shortcut-drt",["angular"],function(e){function t(t,n){var i={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},o=[];return t.on("keypress",function(t){if(this.activeElement===this.body){var n=!(!t.metaKey||t.ctrlKey),a=!!t.altKey,r=!!t.ctrlKey,s=!!t.shiftKey,l=t.keyCode;!s&&l>=97&&122>=l&&(l-=32),e.forEach(o,function(e){var o=e.keys[i[l]]||e.keys[String.fromCharCode(l).toLowerCase()],u=!!e.keys.meta,c=!!e.keys.alt,d=!!e.keys.ctrl,f=!!e.keys.shift;o&&u===n&&c===a&&d===r&&f===s&&e.scope.$apply(function(){e.expression(e.scope,{$event:t})})}),t.preventDefault()}}),{restrict:"A",replace:!1,link:function(t,i,a){var r=t.$eval(a.srKeyboardShortcut);e.forEach(r,function(i,a){var r=n(i);e.forEach(a.split(" "),function(n){var i={scope:t,expression:r,keys:{}};e.forEach(n.split("-"),function(e){i.keys[e]=!0}),o.push(i),t.$on("$destroy",function(){var e=o.indexOf(i);o.splice(e,1),i=null})})})}}}return t.$inject=["$document","$parse"],t}),define("keyboard-shortcuts/main",["angular","./keyboard-shortcuts-ctrl","./keyboard-shortcut-drt"],function(e,t,n){return e.module("soundrocket.keyboard-shortcuts",[]).controller("KeyboardShortcutsCtrl",t).directive("srKeyboardShortcut",n)}),define("keyboard-shortcuts",["keyboard-shortcuts/main"],function(e){return e}),define("user/user-menu-ctrl",[],function(){function e(e,t,n,i,o){var a=!1;o.getUser().then(function(t){e.user=t}),e.openKeyboardShortcuts=function(){a||(a=!0,n.dialog({backdrop:!0,keyboard:!0,backdropClick:!0,templateUrl:"templates/keyboard-shortcuts/keyboard-shortcuts.html",controller:"KeyboardShortcutsCtrl"}).open().then(function(){a=!1}))},e.signOut=function(){i.logout().then(function(){t.path("/")})}}return e.$inject=["$scope","$location","$dialog","userSrv","userMdl"],e}),define("user/user-srv",[],function(){function e(e,t,n){function i(e){var n,i;return t[e]?(n=decodeURIComponent(escape(t[e])),i=n.replace("j:",""),JSON.parse(i)):null}this.getUserCookie=function(){return i("user")},this.getInvitationCookie=function(){return i("invitation")},this.getUser=function(t){return e.get("/api/users/"+t).then(function(e){return e.data})},this.logout=function(){return e.post("/logout")},this.setInvitationCode=function(t){return e.post("/api/users/me/invitation",{code:t}).then(function(e){return e.data},function(e){var t;return t="ERRINVALID"===e.data.error.code?{isBusiness:!0,title:"Sorry,",message:"The invitation code is not valid."}:{title:"Oops,",message:"An error has occured. Please, try again."},n.reject(t)})},this.delete=function(){return e.delete("/api/users/me").then(function(e){return e.data},function(){return n.reject({title:"Oops,",message:"An error has occured. Please, try again."})})}}return e.$inject=["$http","$cookies","$q"],e}),define("user/user-mdl",["angular"],function(e){function t(t,n){this.isLoggedIn=function(){var t=n.getUserCookie();return e.isDefined(t)&&null!==t},this.hasInvitation=function(){var t=n.getInvitationCookie();return e.isDefined(t)&&null!==t},this.getNickname=function(){return this.isLoggedIn()?n.getUserCookie().name:null},this.resolveNickname=function(e){return e?e===this.getNickname()?"me":e:"me"},this.getUser=function(e){var t=this.resolveNickname(e);return n.getUser(t)},this.isLoggedUser=function(e){var t=this.resolveNickname(e);return"me"===t},this.setInvitationCode=function(e){return n.setInvitationCode(e).then(function(e){return t.$broadcast("userMdl:setInvitationCode"),e})}}return t.$inject=["$rootScope","userSrv"],t}),function(e,t,n){t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,i){function o(){var e,o,a,l;for(e in s)c(r[e])&&i.cookies(e,n);for(e in r)o=r[e],t.isString(o)?o!==s[e]&&(i.cookies(e,o),l=!0):t.isDefined(s[e])?r[e]=s[e]:delete r[e];if(l){l=!1,a=i.cookies();for(e in r)r[e]!==a[e]&&(c(a[e])?delete r[e]:r[e]=a[e],l=!0)}}var a,r={},s={},l=!1,u=t.copy,c=t.isUndefined;return i.addPollFn(function(){var t=i.cookies();a!=t&&(a=t,u(t,s),u(t,r),l&&e.$apply())})(),l=!0,e.$watch(o),r}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){var i=e[n];return i?t.fromJson(i):i},put:function(n,i){e[n]=t.toJson(i)},remove:function(t){delete e[t]}}}])}(window,window.angular),define("angular-cookies",["angular"],function(){}),define("user/main",["angular","keyboard-shortcuts","./user-menu-ctrl","./user-srv","./user-mdl","angular-cookies"],function(e,t,n,i,o){var a=e.module("soundrocket.user",["ngCookies",t.name]);return a.controller("UserMenuCtrl",n).service("userSrv",i).service("userMdl",o),a}),define("user",["user/main"],function(e){return e}),define("track-group/track-group-ctrl",[],function(){function e(e,t,n,i){var o=t.group||"loved";e.tracks=null,n.get(o).getTracks(t.user).then(function(t){e.tracks=t}),e.tracksActionsOptions={play:!0,filterPlaylists:!1},e.trackActionsOptions={loved:i.isLoggedUser(t.user)},e.noTrackTemplateUrl="",e.$watchCollection("tracks",function(t){e.noTrackTemplateUrl=!t||t.length?"":"templates/track-group/empty-group.html"}),e.$on("trackGroup:add",function(t,n,i){var a;n===o&&(a=e.utils.indexOf(e.tracks,"url",i.url),0>a&&e.tracks.push(i))}),e.$on("trackGroup:remove",function(t,n,i){var a;n===o&&(a=e.utils.indexOf(e.tracks,"url",i.url),a>-1&&e.tracks.splice(a,1))})}return e.$inject=["$scope","$routeParams","trackGroupMdl","userMdl"],e}),define("track-group/empty-group-ctrl",[],function(){function e(e,t,n){var i=t.group||"loved",o=n.isLoggedUser(t.user);switch(e.message=null,i){case"loved":e.message=o?"You don't have any loved song for the moment.<br />Let's search for new music. Once you find a song that you love,click on the <i class=\"icon-heart\"></i> button to love it.<br />Loved songs will appear on this page.":t.user+" has no loved song.";break;case"mostplayed":e.message=o?"You haven't listen any song for the moment.<br />Let's search for new music. When you listen to a song,StereoBuns will keep track of how often you play it.<br />Your most played songs will appear on this page.":t.user+" has no most played song."}}return e.$inject=["$scope","$routeParams","userMdl"],e}),define("track-group/track-group-srv",[],function(){function e(e,t){this.getTracks=function(n,i){return e.get("/api/users/"+n+"/tracks/"+i).error(function(){t.console.log("get tracks failed for group: "+i)}).then(function(e){return e.data.songs})},this.add=function(n,i){return e.post("/api/users/me/tracks/"+n,i).error(function(){t.console.log("track: "+i.url+" has not been added.")}).then(function(e){return 0!==e.data.count?(t.console.log("track: "+i.url+" has been added."),i):null})},this.remove=function(n,i){return e.put("/api/users/me/tracks/"+n,i).error(function(){t.console.log("track: "+i.url+" has not been removed.")}).then(function(e){return 0!==e.data.count?(t.console.log("track: "+i.url+" has been removed."),i):null})}}return e.$inject=["$http","$window"],e}),define("track-group/track-group-mdl",["angular"],function(e){function t(t,n,i,o,a){function r(e,i,o){function a(){var n,o;if(0===--d){for(n=0,o=f.length;o>n;n++)t.$broadcast("trackGroup:"+e,i,f[n]);c.resolve(f)}}function r(t){t&&("loved"===i&&(t.loved="add"===e),f.push(t)),a()}function s(){a()}var l,u,c=n.defer(),d=o.length,f=[];for(l=0,u=o.length;u>l;l++)o[l].then(r,s);return c.promise}function s(n,i,a){var s,l,u,c=[];for(u=e.isArray(a)?a:[a],s=0,l=u.length;l>s;s++)c.push(o[n](i,t.utils.copy(u[s])));return r(n,i,c)}function l(e){var t=this;this.id=e.id,this.name=e.name,this.icon=e.icon,this.length=0,this.getTracks=function(e){var n=a.resolveNickname(e);return o.getTracks(n,this.id).then(function(e){return t.length=e.length,e})},this.add=function(e){return s("add",this.id,e).then(function(e){return t.length+=e.length,e})},this.remove=function(e){return s("remove",this.id,e).then(function(e){return t.length-=e.length,e})}}this.getAll=function(){var e=i("all");return e.get("loved")||e.put("loved",new l({id:"loved",name:"Loved",icon:"icon-heart"})),e.get("mostplayed")||e.put("mostplayed",new l({id:"mostplayed",name:"Most Played",icon:"icon-music"})),e.get("queued")||e.put("queued",new l({id:"queued",name:"Queue"}),!0),e.values()},this.get=function(e){var t=i("all");return this.getAll(),t.get(e)}}return t.$inject=["$rootScope","$q","cacheFactory","trackGroupSrv","userMdl"],t}),function(e,t){function n(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function i(e,n){function i(e,i,r,s){if(i=t.lowercase(i),k[i])for(;y.last()&&C[y.last()];)a("",y.last());$[i]&&y.last()==i&&a("",i),s=b[i]||!!s,s||y.push(i);var l={};r.replace(d,function(e,t,n,i,a){var r=n||i||a||"";l[t]=o(r)}),n.start&&n.start(i,l,s)}function a(e,i){var o,a=0;if(i=t.lowercase(i))for(a=y.length-1;a>=0&&y[a]!=i;a--);if(a>=0){for(o=y.length-1;o>=a;o--)n.end&&n.end(y[o]);y.length=a}}var r,l,v,y=[],x=e;for(y.last=function(){return y[y.length-1]};e;){if(l=!0,y.last()&&T[y.last()])e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(e,t){return t=t.replace(h,"$1").replace(g,"$1"),n.chars&&n.chars(o(t)),""}),a("",y.last());else if(0===e.indexOf("<!--")?(r=e.indexOf("--",4),r>=0&&e.lastIndexOf("-->",r)===r&&(n.comment&&n.comment(e.substring(4,r)),e=e.substring(r+3),l=!1)):m.test(e)?(v=e.match(m),v&&(e=e.replace(v[0],""),l=!1)):p.test(e)?(v=e.match(c),v&&(e=e.substring(v[0].length),v[0].replace(c,a),l=!1)):f.test(e)&&(v=e.match(u),v&&(e=e.substring(v[0].length),v[0].replace(u,i),l=!1)),l){r=e.indexOf("<");var w=0>r?e:e.substring(0,r);e=0>r?"":e.substring(r),n.chars&&n.chars(o(w))}if(e==x)throw s("badparse","The sanitizer was unable to parse the following block of html: {0}",e);x=e}a()}function o(e){return M.innerHTML=e.replace(/</g,"&lt;"),M.innerText||M.textContent||""}function a(e){return e.replace(/&/g,"&amp;").replace(y,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(e){var n=!1,i=t.bind(e,e.push);return{start:function(e,o,r){e=t.lowercase(e),!n&&T[e]&&(n=e),n||S[e]!==!0||(i("<"),i(e),t.forEach(o,function(e,n){var o=t.lowercase(n);E[o]!==!0||_[o]===!0&&!e.match(v)||(i(" "),i(n),i('="'),i(a(e)),i('"'))}),i(r?"/>":">"))},end:function(e){e=t.lowercase(e),n||S[e]!==!0||(i("</"),i(e),i(">")),e==n&&(n=!1)},chars:function(e){n||i(a(e))}}}var s=t.$$minErr("$sanitize"),l=function(e){var t=[];return i(e,r(t)),t.join("")},u=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,c=/^<\s*\/\s*([\w:-]+)[^>]*>/,d=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,f=/^</,p=/^<\s*\//,h=/<!--(.*?)-->/g,m=/<!DOCTYPE([^>]*?)>/i,g=/<!\[CDATA\[(.*?)]]>/g,v=/^((ftp|https?):\/\/|mailto:|tel:|#)/i,y=/([^\#-~| |!])/g,b=n("area,br,col,hr,img,wbr"),x=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w=n("rp,rt"),$=t.extend({},w,x),k=t.extend({},x,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),C=t.extend({},w,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),T=n("script,style"),S=t.extend({},b,k,C,$),_=n("background,cite,href,longdesc,src,usemap"),E=t.extend({},_,n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width")),M=document.createElement("pre");t.module("ngSanitize",[]).value("$sanitize",l),t.module("ngSanitize").filter("linky",function(){var e=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,n=/^mailto:/;return function(i,o){if(!i)return i;var a,s,l,u=i,c=[],d=r(c),f={};for(t.isDefined(o)&&(f.target=o);a=u.match(e);)s=a[0],a[2]==a[3]&&(s="mailto:"+s),l=a.index,d.chars(u.substr(0,l)),f.href=s,d.start("a",f),d.chars(a[0].replace(n,"")),d.end("a"),u=u.substring(l+a[0].length);return d.chars(u),c.join("")}})}(window,window.angular),define("angular-sanitize",["angular"],function(){}),define("track-group/main",["angular","user","./track-group-ctrl","./empty-group-ctrl","./track-group-srv","./track-group-mdl","angular-sanitize"],function(e,t,n,i,o,a){var r=e.module("soundrocket.track-group",["ngSanitize",t.name]);return r.controller("TrackGroupCtrl",n).controller("EmptyGroupCtrl",i).service("trackGroupSrv",o).service("trackGroupMdl",a),r}),define("track-group",["track-group/main"],function(e){return e}),define("audio-player/audio-player-ctrl",[],function(){function e(e,t,n){function i(t){return e.song&&t&&e.song.url===t.url}function o(){var n=t.getStatus();e.song=n.song,e.isPlaying=n.isPlaying}e.song=null,e.isPlaying=null,e.shouldRepeat=!1,e.shouldOpenQueue=!1,e.$on("audioPlayer:play",function(){e.isPlaying=!0,e.song=t.getStatus().track}),e.$on("audioPlayer:pause",function(){e.isPlaying=!1}),e.$on("audioPlayer:resume",function(){e.isPlaying=!0}),e.$on("audioPlayer:stop",function(){e.isPlaying=!1,e.song=null}),e.$on("audioPlayerQueue:close",function(){e.shouldOpenQueue=!1}),e.$on("trackGroup:add",function(t,n,o){"loved"===n&&i(o)&&!e.song.loved&&(e.song.loved=!0)}),e.$on("trackGroup:remove",function(t,n,o){"loved"===n&&i(o)&&e.song.loved&&(e.song.loved=!1)}),e.previous=function(){t.previous()},e.next=function(){t.next()},e.togglePlay=function(){e.isPlaying?t.pause():t.play()},e.toggleRepeat=function(){e.shouldRepeat=!e.shouldRepeat,t.toggleRepeat(e.shouldRepeat)},e.toggleQueue=function(){e.shouldOpenQueue=!e.shouldOpenQueue,e.$broadcast("audioPlayerBar:toggleQueue",e.shouldOpenQueue)},e.toggleLoveStatus=function(){var t=n.get("loved");e.song.loved?t.remove(e.song):t.add(e.song)},o()}return e.$inject=["$scope","audioPlayerSrv","trackGroupMdl"],e}),define("audio-player/audio-player-queue-ctrl",[],function(){function e(e,t){function n(){t.getQueue().then(function(t){e.songs=t})}function i(){e.shouldBeOpen=!1,e.songs.length=0}e.songs=null,e.shouldBeOpen=!1,e.songsActionsOptions={remove:!0,play:!1,queue:!1,filterPlaylists:!1},e.songOptions={queue:!1,remove:!0},e.$on("audioPlayer:queue",function(){e.shouldBeOpen&&n()}),e.$on("audioPlayer:dequeue",function(){e.shouldBeOpen&&n()}),e.$on("audioPlayerBar:toggleQueue",function(t,o){o?(e.shouldBeOpen=!0,n()):i()}),e.dequeue=function(e){t.dequeue(e)},e.close=function(){i(),e.$emit("audioPlayerQueue:close")}}return e.$inject=["$scope","audioPlayerSrv"],e}),define("audio-player/audio-player-srv",[],function(){function e(e,t,n){function i(t){var n=-1;return t&&(n=e.utils.indexOf(s,"url",t)),n}function o(){var e=t.getCurrentUrl();return i(e)}function a(n){var i=e.utils.indexOf(s,"url",n.url)>-1;i?t.play(n.url):l.enqueue(n).then(function(){t.play(n.url)})}function r(n){var i=e.utils.indexOf(s,"url",n.url);s.splice(i,1),t.destroySound(n.url)}var s,l=this,u=n.get("queued"),c=!1;t.on("playing",function(t){e.$apply(function(){e.$broadcast("audioPlayer:playing",t)})}),t.on("loading",function(t){e.$apply(function(){e.$broadcast("audioPlayer:loading",t)})}),t.on("play",function(t){e.$apply(function(){e.$broadcast("audioPlayer:play",t)})}),t.on("pause",function(){e.$apply(function(){e.$broadcast("audioPlayer:pause")})}),t.on("resume",function(){e.$apply(function(){e.$broadcast("audioPlayer:resume")})}),t.on("stop",function(){e.$apply(function(){e.$broadcast("audioPlayer:stop")})}),t.on("halfPlay",function(){var e=l.getStatus().track,t=n.get("mostplayed");t.add(e)}),t.on("finish",function(t){l.next(t)||(c?l.play():e.$apply(function(){e.$broadcast("audioPlayer:stop")}))}),this.getStatus=function(){var e=o(),n=null;return e>-1&&(n=s[e]),{track:n,isPlaying:t.isPlaying()}},this.getQueue=function(){return u.getTracks().then(function(e){return s=e,e.slice(0)})},this.enqueue=function(t){function n(){return u.add(t).then(function(t){var n,i;for(n=0,i=t.length;i>n;n++)s.push(t[n]);return e.$broadcast("audioPlayer:queue",t),t})}var i;return i=s?n():this.getQueue().then(function(){return n()})},this.dequeue=function(t){return u.remove(t).then(function(t){var n,i;for(n=0,i=t.length;i>n;n++)r(t[n]);return e.$broadcast("audioPlayer:dequeue",t),t})},this.setPosition=function(e){t.setPosition(e)},this.play=function(e){return s?e?(a(e),void 0):(t.resume()||s.length&&a(s[0]),void 0):(this.getQueue().then(function(){return e?(a(e),void 0):(s.length&&a(s[0]),void 0)}),void 0)},this.pause=function(){t.pause()},this.stop=function(){t.stop()},this.previous=function(){var e=o();return--e>-1?(a(s[e]),!0):!1},this.next=function(e){var t=e?i(e):o();return++t<s.length?(a(s[t]),!0):!1},this.toggleRepeat=function(e){c=e}}return e.$inject=["$rootScope","soundManagerSrv","trackGroupMdl"],e}),function(){"function"==typeof define&&define.amd,define("observable",["require","exports","module"],function(e,t,n){function i(){function e(e,n){setTimeout(function(){e.apply(t,n)},0)}var t=this,n={};this.on=function(e,t){n[e]||(n[e]=[]),n[e].push(t)},this.off=function(e,t){if(n[e]){if(!t)return n[e].length=0,void 0;var i=n[e].indexOf(t);n[e].splice(i,1)}},this.trigger=function(t){var i,o,a,r,s=n[t];if(s)for(i=Array.prototype.slice.call(arguments,1),o=0,a=s.length;a>o;o++)r=s[o],r&&e(r,i)}}return n.exports=i,n.exports})}(),function(e,t){function n(n,i){function o(e){return gt.preferFlash&&ut&&!gt.ignoreFlash&&gt.flash[e]!==t&&gt.flash[e]}function a(e){return function(t){var n,i=this._s;return i&&i._a?n=e.call(this,t):(i&&i.id?gt._wD(i.id+": Ignoring "+t.type):gt._wD(wt+"Ignoring "+t.type),n=null),n}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=i||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20130512+DEV",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;
var r,s,l,u,c,d,f,p,h,m,g,v,y,b,x,w,$,k,C,T,S,_,E,M,D,P,N,O,L,A,q,B,j,H,I,F,R,U,W,V,z,X,Q,Y,G,J,K,Z,et,tt,nt,it,ot,at,rt,st,lt,ut,ct,dt,ft,pt,ht,mt,gt=this,vt=null,yt=null,bt="soundManager",xt=bt+": ",wt="HTML5::",$t=navigator.userAgent,kt=e.location.href.toString(),Ct=document,Tt=[],St=!0,_t=!1,Et=!1,Mt=!1,Dt=!1,Pt=!1,Nt=0,Ot=["log","info","warn","error"],Lt=8,At=null,qt=null,Bt=!1,jt=!1,Ht=0,It=null,Ft=[],Rt=null,Ut=Array.prototype.slice,Wt=!1,Vt=0,zt=$t.match(/(ipad|iphone|ipod)/i),Xt=$t.match(/android/i),Qt=$t.match(/msie/i),Yt=$t.match(/webkit/i),Gt=$t.match(/safari/i)&&!$t.match(/chrome/i),Jt=$t.match(/opera/i),Kt=$t.match(/firefox/i),Zt=$t.match(/(mobile|pre\/|xoom)/i)||zt||Xt,en=!kt.match(/usehtml5audio/i)&&!kt.match(/sm2\-ignorebadua/i)&&Gt&&!$t.match(/silk/i)&&$t.match(/OS X 10_6_([3-7])/i),tn=e.console!==t&&console.log!==t,nn=Ct.hasFocus!==t?Ct.hasFocus():null,on=Gt&&(Ct.hasFocus===t||!Ct.hasFocus()),an=!on,rn=/(mp3|mp4|mpa|m4a|m4b)/i,sn=1e3,ln="about:blank",un=Ct.location?Ct.location.protocol.match(/http/i):null,cn=un?"":"http://",dn=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,fn=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],pn=new RegExp("\\.("+fn.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!un,U={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.hasHTML5=function(){try{return Audio!==t&&(Jt&&opera!==t&&opera.version()<10?new Audio(null):new Audio).canPlayType!==t}catch(e){return!1}}(),this.setup=function(e){var n=!gt.url;return e!==t&&Mt&&Rt&&gt.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t)&&X(I("setupLate")),g(e),e&&(n&&P&&e.url!==t&&gt.beginDelayedInit(),P||e.url===t||"complete"!==Ct.readyState||setTimeout(M,1)),gt},this.ok=function(){return Rt?Mt&&!Dt:gt.useHTML5Audio&&gt.hasHTML5},this.supported=this.ok,this.getMovie=function(t){return s(t)||Ct[t]||e[t]},this.createSound=function(e,n){function i(){return s=V(s),gt.sounds[s.id]=new r(s),gt.soundIDs.push(s.id),gt.sounds[s.id]}var o,a,s,l=null;if(o=bt+".createSound(): ",a=o+I(Mt?"notOK":"notReady"),!Mt||!gt.ok())return X(a),!1;if(n!==t&&(e={id:e,url:n}),s=m(e),s.url=K(s.url),void 0===s.id&&(s.id=gt.setupOptions.idPrefix+Vt++),s.id.toString().charAt(0).match(/^[0-9]$/)&&gt._wD(o+I("badID",s.id),2),gt._wD(o+s.id+(s.url?" ("+s.url+")":""),1),Q(s.id,!0))return gt._wD(o+s.id+" exists",1),gt.sounds[s.id];if(tt(s))l=i(),gt._wD(s.id+": Using HTML5"),l._setup_html5(s);else{if(gt.html5Only)return gt._wD(s.id+": No HTML5 support for this sound, and no Flash. Exiting."),i();if(gt.html5.usingFlash&&s.url&&s.url.match(/data\:/i))return gt._wD(s.id+": data: URIs not supported via Flash. Exiting."),i();d>8&&(null===s.isMovieStar&&(s.isMovieStar=!!(s.serverURL||(s.type?s.type.match(dn):!1)||s.url&&s.url.match(pn))),s.isMovieStar&&(gt._wD(o+"using MovieStar handling"),s.loops>1&&p("noNSLoop"))),s=z(s,o),l=i(),8===d?yt._createSound(s.id,s.loops||1,s.usePolicyFile):(yt._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),s.serverURL||(l.connected=!0,s.onconnect&&s.onconnect.apply(l))),s.serverURL||!s.autoLoad&&!s.autoPlay||l.load(s)}return!s.serverURL&&s.autoPlay&&l.play(),l},this.destroySound=function(e,t){if(!Q(e))return!1;var n,i=gt.sounds[e];for(i._iO={},i.stop(),i.unload(),n=0;n<gt.soundIDs.length;n++)if(gt.soundIDs[n]===e){gt.soundIDs.splice(n,1);break}return t||i.destruct(!0),i=null,delete gt.sounds[e],!0},this.load=function(e,t){return Q(e)?gt.sounds[e].load(t):!1},this.unload=function(e){return Q(e)?gt.sounds[e].unload():!1},this.onPosition=function(e,t,n,i){return Q(e)?gt.sounds[e].onposition(t,n,i):!1},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,n){return Q(e)?gt.sounds[e].clearOnPosition(t,n):!1},this.play=function(e,t){var n=null,i=t&&!(t instanceof Object);if(!Mt||!gt.ok())return X(bt+".play(): "+I(Mt?"notOK":"notReady")),!1;if(Q(e,i))i&&(t={url:t});else{if(!i)return!1;i&&(t={url:t}),t&&t.url&&(gt._wD(bt+'.play(): Attempting to create "'+e+'"',1),t.id=e,n=gt.createSound(t).play())}return null===n&&(n=gt.sounds[e].play(t)),n},this.start=this.play,this.setPosition=function(e,t){return Q(e)?gt.sounds[e].setPosition(t):!1},this.stop=function(e){return Q(e)?(gt._wD(bt+".stop("+e+")",1),gt.sounds[e].stop()):!1},this.stopAll=function(){var e;gt._wD(bt+".stopAll()",1);for(e in gt.sounds)gt.sounds.hasOwnProperty(e)&&gt.sounds[e].stop()},this.pause=function(e){return Q(e)?gt.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=gt.soundIDs.length-1;e>=0;e--)gt.sounds[gt.soundIDs[e]].pause()},this.resume=function(e){return Q(e)?gt.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=gt.soundIDs.length-1;e>=0;e--)gt.sounds[gt.soundIDs[e]].resume()},this.togglePause=function(e){return Q(e)?gt.sounds[e].togglePause():!1},this.setPan=function(e,t){return Q(e)?gt.sounds[e].setPan(t):!1},this.setVolume=function(e,t){return Q(e)?gt.sounds[e].setVolume(t):!1},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return Q(e)?(gt._wD(bt+'.mute(): Muting "'+e+'"'),gt.sounds[e].mute()):!1;for(gt._wD(bt+".mute(): Muting all sounds"),t=gt.soundIDs.length-1;t>=0;t--)gt.sounds[gt.soundIDs[t]].mute();return gt.muted=!0,!0},this.muteAll=function(){gt.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return Q(e)?(gt._wD(bt+'.unmute(): Unmuting "'+e+'"'),gt.sounds[e].unmute()):!1;for(gt._wD(bt+".unmute(): Unmuting all sounds"),t=gt.soundIDs.length-1;t>=0;t--)gt.sounds[gt.soundIDs[t]].unmute();return gt.muted=!1,!0},this.unmuteAll=function(){gt.unmute()},this.toggleMute=function(e){return Q(e)?gt.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return yt&&8!==d&&(e=parseInt(yt._getMemoryUse(),10)),e},this.disable=function(n){var i;if(n===t&&(n=!1),Dt)return!1;for(Dt=!0,p("shutdown",1),i=gt.soundIDs.length-1;i>=0;i--)B(gt.sounds[gt.soundIDs[i]]);return h(n),st.remove(e,"load",x),!0},this.canPlayMIME=function(e){var t;return gt.hasHTML5&&(t=nt({type:e})),!t&&Rt&&(t=e&&gt.ok()?!!((d>8?e.match(dn):null)||e.match(gt.mimePattern)):null),t},this.canPlayURL=function(e){var t;return gt.hasHTML5&&(t=nt({url:e})),!t&&Rt&&(t=e&&gt.ok()?!!e.match(gt.filePattern):null),t},this.canPlayLink=function(e){return e.type!==t&&e.type&&gt.canPlayMIME(e.type)?!0:gt.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var n=gt.sounds[e];return n||t||gt._wD(bt+'.getSoundById(): Sound "'+e+'" not found.',2),n},this.onready=function(t,n){var i="onready",o=!1;if("function"!=typeof t)throw I("needFunction",i);return Mt&&gt._wD(I("queue",i)),n||(n=e),y(i,t,n),b(),o=!0,o},this.ontimeout=function(t,n){var i="ontimeout",o=!1;if("function"!=typeof t)throw I("needFunction",i);return Mt&&gt._wD(I("queue",i)),n||(n=e),y(i,t,n),b({type:i}),o=!0,o},this._writeDebug=function(e,n){var i,o,a="soundmanager-debug";return gt.debugMode?tn&&gt.useConsole&&(n&&"object"==typeof n?console.log(e,n):Ot[n]!==t?console[Ot[n]](e):console.log(e),gt.consoleOnly)?!0:(i=s(a))?(o=Ct.createElement("div"),0===++Nt%2&&(o.className="sm2-alt"),n=n===t?0:parseInt(n,10),o.appendChild(Ct.createTextNode(e)),n&&(n>=2&&(o.style.fontWeight="bold"),3===n&&(o.style.color="#ff3333")),i.insertBefore(o,i.firstChild),i=null,!0):!1:!1},-1!==kt.indexOf("sm2-debug=alert")&&(this._writeDebug=function(t){e.alert(t)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(p("currentObj",1),e=0,t=gt.soundIDs.length;t>e;e++)gt.sounds[gt.soundIDs[e]]._debug()},this.reboot=function(t,n){gt.soundIDs.length&&gt._wD("Destroying "+gt.soundIDs.length+" SMSound object"+(1!==gt.soundIDs.length?"s":"")+"...");var i,o,a;for(i=gt.soundIDs.length-1;i>=0;i--)gt.sounds[gt.soundIDs[i]].destruct();if(yt)try{Qt&&(qt=yt.innerHTML),At=yt.parentNode.removeChild(yt)}catch(r){p("badRemove",2)}if(qt=At=Rt=yt=null,gt.enabled=P=Mt=Bt=jt=_t=Et=Dt=Wt=gt.swfLoaded=!1,gt.soundIDs=[],gt.sounds={},Vt=0,t)Tt=[];else for(i in Tt)if(Tt.hasOwnProperty(i))for(o=0,a=Tt[i].length;a>o;o++)Tt[i][o].fired=!1;return n||gt._wD(bt+": Rebooting..."),gt.html5={usingFlash:null},gt.flash={},gt.html5Only=!1,gt.ignoreFlash=!1,e.setTimeout(function(){E(),n||gt.beginDelayedInit()},20),gt},this.reset=function(){return p("reset"),gt.reboot(!0,!0)},this.getMoviePercent=function(){return yt&&"PercentLoaded"in yt?yt.PercentLoaded():null},this.beginDelayedInit=function(){Pt=!0,M(),setTimeout(function(){return jt?!1:(O(),_(),jt=!0,!0)},20),w()},this.destruct=function(){gt._wD(bt+".destruct()"),gt.disable(!0)},r=function(e){var n,i,o,a,r,s,l,u,c,h,g=this,v=!1,y=[],b=0,x=null;c={duration:null,time:null},this.id=e.id,this.sID=this.id,this.url=e.url,this.options=m(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,h=this.url?!1:!0,this.id3={},this._debug=function(){gt._wD(g.id+": Merged options:",g.options)},this.load=function(e){var n,i=null;if(e!==t?g._iO=m(e,g.options):(e=g.options,g._iO=e,x&&x!==g.url&&(p("manURL"),g._iO.url=g.url,g.url=null)),g._iO.url||(g._iO.url=g.url),g._iO.url=K(g._iO.url),g.instanceOptions=g._iO,n=g._iO,gt._wD(g.id+": load ("+n.url+")"),!n.url&&!g.url)return gt._wD(g.id+": load(): url is unassigned. Exiting.",2),g;if(g.isHTML5||8!==d||g.url||n.autoPlay||gt._wD(g.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),n.url===g.url&&0!==g.readyState&&2!==g.readyState)return p("onURL",1),3===g.readyState&&n.onload&&mt(g,function(){n.onload.apply(g,[!!g.duration])}),g;if(g.loaded=!1,g.readyState=1,g.playState=0,g.id3={},tt(n))i=g._setup_html5(n),i._called_load?gt._wD(g.id+": Ignoring request to load again"):(g._html5_canplay=!1,g.url!==n.url&&(gt._wD(p("manURL")+": "+n.url),g._a.src=n.url,g.setPosition(0)),g._a.autobuffer="auto",g._a.preload="auto",g._a._called_load=!0);else{if(gt.html5Only)return gt._wD(g.id+": No flash support. Exiting."),g;if(g._iO.url&&g._iO.url.match(/data\:/i))return gt._wD(g.id+": data: URIs not supported via Flash. Exiting."),g;try{g.isHTML5=!1,g._iO=z(V(n)),n=g._iO,8===d?yt._load(g.id,n.url,n.stream,n.autoPlay,n.usePolicyFile):yt._load(g.id,n.url,!!n.stream,!!n.autoPlay,n.loops||1,!!n.autoLoad,n.usePolicyFile)}catch(o){p("smError",2),f("onload",!1),L({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return g.url=n.url,g},this.unload=function(){return 0!==g.readyState&&(gt._wD(g.id+": unload()"),g.isHTML5?(a(),g._a&&(g._a.pause(),x=ot(g._a))):8===d?yt._unload(g.id,ln):yt._unload(g.id),n()),g},this.destruct=function(e){gt._wD(g.id+": Destruct"),g.isHTML5?(a(),g._a&&(g._a.pause(),ot(g._a),Wt||o(),g._a._s=null,g._a=null)):(g._iO.onfailure=null,yt._destroySound(g.id)),e||gt.destroySound(g.id,!0)},this.play=function(e,n){var i,o,a,l,c,f,p,y=!0,b=null;if(i=g.id+": play(): ",n=n===t?!0:n,e||(e={}),g.url&&(g._iO.url=g.url),g._iO=m(g._iO,g.options),g._iO=m(e,g._iO),g._iO.url=K(g._iO.url),g.instanceOptions=g._iO,!g.isHTML5&&g._iO.serverURL&&!g.connected)return g.getAutoPlay()||(gt._wD(i+" Netstream not connected yet - setting autoPlay"),g.setAutoPlay(!0)),g;if(tt(g._iO)&&(g._setup_html5(g._iO),r()),1!==g.playState||g.paused||(o=g._iO.multiShot,o?gt._wD(i+"Already playing (multi-shot)",1):(gt._wD(i+"Already playing (one-shot)",1),g.isHTML5&&g.setPosition(g._iO.position),b=g)),null!==b)return b;if(e.url&&e.url!==g.url&&(g.readyState||g.isHTML5||8!==d||!h?g.load(g._iO):h=!1),g.loaded?gt._wD(i.substr(0,i.lastIndexOf(":"))):0===g.readyState?(gt._wD(i+"Attempting to load"),g.isHTML5||gt.html5Only?g.isHTML5?g.load(g._iO):(gt._wD(i+"Unsupported type. Exiting."),b=g):(g._iO.autoPlay=!0,g.load(g._iO)),g.instanceOptions=g._iO):2===g.readyState?(gt._wD(i+"Could not load - exiting",2),b=g):gt._wD(i+"Loading - attempting to play..."),null!==b)return b;if(!g.isHTML5&&9===d&&g.position>0&&g.position===g.duration&&(gt._wD(i+"Sound at end, resetting to position:0"),e.position=0),g.paused&&g.position>=0&&(!g._iO.serverURL||g.position>0))gt._wD(i+"Resuming from paused state",1),g.resume();else{if(g._iO=m(e,g._iO),null!==g._iO.from&&null!==g._iO.to&&0===g.instanceCount&&0===g.playState&&!g._iO.serverURL){if(l=function(){g._iO=m(e,g._iO),g.play(g._iO)},g.isHTML5&&!g._html5_canplay?(gt._wD(i+"Beginning load for from/to case"),g.load({_oncanplay:l}),b=!1):g.isHTML5||g.loaded||g.readyState&&2===g.readyState||(gt._wD(i+"Preloading for from/to case"),g.load({onload:l}),b=!1),null!==b)return b;g._iO=u()}(!g.instanceCount||g._iO.multiShotEvents||g.isHTML5&&g._iO.multiShot&&!Wt||!g.isHTML5&&d>8&&!g.getAutoPlay())&&g.instanceCount++,g._iO.onposition&&0===g.playState&&s(g),g.playState=1,g.paused=!1,g.position=g._iO.position===t||isNaN(g._iO.position)?0:g._iO.position,g.isHTML5||(g._iO=z(V(g._iO))),g._iO.onplay&&n&&(g._iO.onplay.apply(g),v=!0),g.setVolume(g._iO.volume,!0),g.setPan(g._iO.pan,!0),g.isHTML5?g.instanceCount<2?(r(),a=g._setup_html5(),g.setPosition(g._iO.position),a.play()):(gt._wD(g.id+": Cloning Audio() for instance #"+g.instanceCount+"..."),c=new Audio(g._iO.url),f=function(){st.remove(c,"ended",f),g._onfinish(g),ot(c),c=null},p=function(){st.remove(c,"canplay",p);try{c.currentTime=g._iO.position/sn}catch(e){X(g.id+": multiShot play() failed to apply position of "+g._iO.position/sn)}c.play()},st.add(c,"ended",f),void 0!==g._iO.volume&&(c.volume=Math.max(0,Math.min(1,g._iO.volume/100))),g.muted&&(c.muted=!0),g._iO.position?st.add(c,"canplay",p):c.play()):(y=yt._start(g.id,g._iO.loops||1,9===d?g.position:g.position/sn,g._iO.multiShot||!1),9!==d||y||(gt._wD(i+"No sound hardware, or 32-sound ceiling hit",2),g._iO.onplayerror&&g._iO.onplayerror.apply(g)))}return g},this.start=this.play,this.stop=function(e){var t,n=g._iO;return 1===g.playState&&(gt._wD(g.id+": stop()"),g._onbufferchange(0),g._resetOnPosition(0),g.paused=!1,g.isHTML5||(g.playState=0),l(),n.to&&g.clearOnPosition(n.to),g.isHTML5?g._a&&(t=g.position,g.setPosition(0),g.position=t,g._a.pause(),g.playState=0,g._onTimer(),a()):(yt._stop(g.id,e),n.serverURL&&g.unload()),g.instanceCount=0,g._iO={},n.onstop&&n.onstop.apply(g)),g},this.setAutoPlay=function(e){gt._wD(g.id+": Autoplay turned "+(e?"on":"off")),g._iO.autoPlay=e,g.isHTML5||(yt._setAutoPlay(g.id,e),e&&(g.instanceCount||1!==g.readyState||(g.instanceCount++,gt._wD(g.id+": Incremented instance count to "+g.instanceCount))))},this.getAutoPlay=function(){return g._iO.autoPlay},this.setPosition=function(e){e===t&&(e=0);var n,i,o=g.isHTML5?Math.max(e,0):Math.min(g.duration||g._iO.duration,Math.max(e,0));if(g.position=o,i=g.position/sn,g._resetOnPosition(g.position),g._iO.position=o,g.isHTML5){if(g._a){if(g._html5_canplay){if(g._a.currentTime!==i){gt._wD(g.id+": setPosition("+i+")");try{g._a.currentTime=i,(0===g.playState||g.paused)&&g._a.pause()}catch(a){gt._wD(g.id+": setPosition("+i+") failed: "+a.message,2)}}}else if(i)return gt._wD(g.id+": setPosition("+i+"): Cannot seek yet, sound not ready",2),g;g.paused&&g._onTimer(!0)}}else n=9===d?g.position:i,g.readyState&&2!==g.readyState&&yt._setPosition(g.id,n,g.paused||!g.playState,g._iO.multiShot);return g},this.pause=function(e){return g.paused||0===g.playState&&1!==g.readyState?g:(gt._wD(g.id+": pause()"),g.paused=!0,g.isHTML5?(g._setup_html5().pause(),a()):(e||e===t)&&yt._pause(g.id,g._iO.multiShot),g._iO.onpause&&g._iO.onpause.apply(g),g)},this.resume=function(){var e=g._iO;return g.paused?(gt._wD(g.id+": resume()"),g.paused=!1,g.playState=1,g.isHTML5?(g._setup_html5().play(),r()):(e.isMovieStar&&!e.serverURL&&g.setPosition(g.position),yt._pause(g.id,e.multiShot)),!v&&e.onplay?(e.onplay.apply(g),v=!0):e.onresume&&e.onresume.apply(g),g):g},this.togglePause=function(){return gt._wD(g.id+": togglePause()"),0===g.playState?(g.play({position:9!==d||g.isHTML5?g.position/sn:g.position}),g):(g.paused?g.resume():g.pause(),g)},this.setPan=function(e,n){return e===t&&(e=0),n===t&&(n=!1),g.isHTML5||yt._setPan(g.id,e),g._iO.pan=e,n||(g.pan=e,g.options.pan=e),g},this.setVolume=function(e,n){return e===t&&(e=100),n===t&&(n=!1),g.isHTML5?g._a&&(gt.muted&&!g.muted&&(g.muted=!0,g._a.muted=!0),g._a.volume=Math.max(0,Math.min(1,e/100))):yt._setVolume(g.id,gt.muted&&!g.muted||g.muted?0:e),g._iO.volume=e,n||(g.volume=e,g.options.volume=e),g},this.mute=function(){return g.muted=!0,g.isHTML5?g._a&&(g._a.muted=!0):yt._setVolume(g.id,0),g},this.unmute=function(){g.muted=!1;var e=g._iO.volume!==t;return g.isHTML5?g._a&&(g._a.muted=!1):yt._setVolume(g.id,e?g._iO.volume:g.options.volume),g},this.toggleMute=function(){return g.muted?g.unmute():g.mute()},this.onPosition=function(e,n,i){return y.push({position:parseInt(e,10),method:n,scope:i!==t?i:g,fired:!1}),g},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),isNaN(e))return!1;for(n=0;n<y.length;n++)e===y[n].position&&(t&&t!==y[n].method||(y[n].fired&&b--,y.splice(n,1)))},this._processOnPosition=function(){var e,t,n=y.length;if(!n||!g.playState||b>=n)return!1;for(e=n-1;e>=0;e--)t=y[e],!t.fired&&g.position>=t.position&&(t.fired=!0,b++,t.method.apply(t.scope,[t.position]),n=y.length);return!0},this._resetOnPosition=function(e){var t,n,i=y.length;if(!i)return!1;for(t=i-1;t>=0;t--)n=y[t],n.fired&&e<=n.position&&(n.fired=!1,b--);return!0},u=function(){var e,t,n=g._iO,i=n.from,o=n.to;return t=function(){gt._wD(g.id+': "To" time of '+o+" reached."),g.clearOnPosition(o,t),g.stop()},e=function(){gt._wD(g.id+': Playing "from" '+i),null===o||isNaN(o)||g.onPosition(o,t)},null===i||isNaN(i)||(n.position=i,n.multiShot=!1,e()),n},s=function(){var e,t=g._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&g.onPosition(parseInt(e,10),t[e])},l=function(){var e,t=g._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&g.clearOnPosition(parseInt(e,10))},r=function(){g.isHTML5&&Y(g)},a=function(){g.isHTML5&&G(g)},n=function(e){e||(y=[],b=0),v=!1,g._hasTimer=null,g._a=null,g._html5_canplay=!1,g.bytesLoaded=null,g.bytesTotal=null,g.duration=g._iO&&g._iO.duration?g._iO.duration:null,g.durationEstimate=null,g.buffered=[],g.eqData=[],g.eqData.left=[],g.eqData.right=[],g.failures=0,g.isBuffering=!1,g.instanceOptions={},g.instanceCount=0,g.loaded=!1,g.metadata={},g.readyState=0,g.muted=!1,g.paused=!1,g.peakData={left:0,right:0},g.waveformData={left:[],right:[]},g.playState=0,g.position=null,g.id3={}},n(),this._onTimer=function(e){var t,n,i=!1,o={};return g._hasTimer||e?(g._a&&(e||(g.playState>0||1===g.readyState)&&!g.paused)&&(t=g._get_html5_duration(),t!==c.duration&&(c.duration=t,g.duration=t,i=!0),g.durationEstimate=g.duration,n=g._a.currentTime*sn||0,n!==c.time&&(c.time=n,i=!0),(i||e)&&g._whileplaying(n,o,o,o,o)),i):void 0},this._get_html5_duration=function(){var e=g._iO,t=g._a&&g._a.duration?g._a.duration*sn:e&&e.duration?e.duration:null,n=t&&!isNaN(t)&&1/0!==t?t:null;return n},this._apply_loop=function(e,t){!e.loop&&t>1&&gt._wD("Note: Native HTML5 looping is infinite.",1),e.loop=t>1?"loop":""},this._setup_html5=function(e){var t,o=m(g._iO,e),a=Wt?vt:g._a,r=decodeURI(o.url);if(Wt?r===decodeURI(lt)&&(t=!0):r===decodeURI(x)&&(t=!0),a){if(a._s)if(Wt)a._s&&a._s.playState&&!t&&a._s.stop();else if(!Wt&&r===decodeURI(x))return g._apply_loop(a,o.loops),a;t||(x&&n(!1),a.src=o.url,g.url=o.url,x=o.url,lt=o.url,a._called_load=!1)}else o.autoLoad||o.autoPlay?(g._a=new Audio(o.url),g._a.load()):g._a=Jt&&opera.version()<10?new Audio(null):new Audio,a=g._a,a._called_load=!1,Wt&&(vt=a);return g.isHTML5=!0,g._a=a,a._s=g,i(),g._apply_loop(a,o.loops),o.autoLoad||o.autoPlay?g.load():(a.autobuffer=!1,a.preload="auto"),a},i=function(){function e(e,t,n){return g._a?g._a.addEventListener(e,t,n||!1):null}if(g._a._added_events)return!1;var t;g._a._added_events=!0;for(t in ft)ft.hasOwnProperty(t)&&e(t,ft[t]);return!0},o=function(){function e(e,t,n){return g._a?g._a.removeEventListener(e,t,n||!1):null}var t;gt._wD(g.id+": Removing event listeners"),g._a._added_events=!1;for(t in ft)ft.hasOwnProperty(t)&&e(t,ft[t])},this._onload=function(e){var t,n=!!e||!g.isHTML5&&8===d&&g.duration;return t=g.id+": ",gt._wD(t+(n?"onload()":"Failed to load / invalid sound?"+(g.duration?" -":" Zero-length duration reported.")+" ("+g.url+")"),n?1:2),n||g.isHTML5||(gt.sandbox.noRemote===!0&&gt._wD(t+I("noNet"),1),gt.sandbox.noLocal===!0&&gt._wD(t+I("noLocal"),1)),g.loaded=n,g.readyState=n?3:2,g._onbufferchange(0),g._iO.onload&&mt(g,function(){g._iO.onload.apply(g,[n])}),!0},this._onbufferchange=function(e){return 0===g.playState?!1:e&&g.isBuffering||!e&&!g.isBuffering?!1:(g.isBuffering=1===e,g._iO.onbufferchange&&(gt._wD(g.id+": Buffer state change: "+e),g._iO.onbufferchange.apply(g)),!0)},this._onsuspend=function(){return g._iO.onsuspend&&(gt._wD(g.id+": Playback suspended"),g._iO.onsuspend.apply(g)),!0},this._onfailure=function(e,t,n){g.failures++,gt._wD(g.id+": Failures = "+g.failures),g._iO.onfailure&&1===g.failures?g._iO.onfailure(g,e,t,n):gt._wD(g.id+": Ignoring failure")},this._onfinish=function(){var e=g._iO.onfinish;g._onbufferchange(0),g._resetOnPosition(0),g.instanceCount&&(g.instanceCount--,g.instanceCount||(l(),g.playState=0,g.paused=!1,g.instanceCount=0,g.instanceOptions={},g._iO={},a(),g.isHTML5&&(g.position=0)),(!g.instanceCount||g._iO.multiShotEvents)&&e&&(gt._wD(g.id+": onfinish()"),mt(g,function(){e.apply(g)})))},this._whileloading=function(e,t,n,i){var o=g._iO;g.bytesLoaded=e,g.bytesTotal=t,g.duration=Math.floor(n),g.bufferLength=i,g.durationEstimate=g.isHTML5||o.isMovieStar?g.duration:o.duration?g.duration>o.duration?g.duration:o.duration:parseInt(g.bytesTotal/g.bytesLoaded*g.duration,10),g.isHTML5||(g.buffered=[{start:0,end:g.duration}]),(3!==g.readyState||g.isHTML5)&&o.whileloading&&o.whileloading.apply(g)},this._whileplaying=function(e,n,i,o,a){var r,s=g._iO;return isNaN(e)||null===e?!1:(g.position=Math.max(0,e),g._processOnPosition(),!g.isHTML5&&d>8&&(s.usePeakData&&n!==t&&n&&(g.peakData={left:n.leftPeak,right:n.rightPeak}),s.useWaveformData&&i!==t&&i&&(g.waveformData={left:i.split(","),right:o.split(",")}),s.useEQData&&a!==t&&a&&a.leftEQ&&(r=a.leftEQ.split(","),g.eqData=r,g.eqData.left=r,a.rightEQ!==t&&a.rightEQ&&(g.eqData.right=a.rightEQ.split(",")))),1===g.playState&&(g.isHTML5||8!==d||g.position||!g.isBuffering||g._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(g)),!0)},this._oncaptiondata=function(e){gt._wD(g.id+": Caption data received."),g.captiondata=e,g._iO.oncaptiondata&&g._iO.oncaptiondata.apply(g,[e])},this._onmetadata=function(e,t){gt._wD(g.id+": Metadata received.");var n,i,o={};for(n=0,i=e.length;i>n;n++)o[e[n]]=t[n];g.metadata=o,g._iO.onmetadata&&g._iO.onmetadata.apply(g)},this._onid3=function(e,t){gt._wD(g.id+": ID3 data received.");var n,i,o=[];for(n=0,i=e.length;i>n;n++)o[e[n]]=t[n];g.id3=m(g.id3,o),g._iO.onid3&&g._iO.onid3.apply(g)},this._onconnect=function(e){e=1===e,gt._wD(g.id+": "+(e?"Connected.":"Failed to connect? - "+g.url),e?1:2),g.connected=e,e&&(g.failures=0,Q(g.id)&&(g.getAutoPlay()?g.play(t,g.getAutoPlay()):g._iO.autoLoad&&g.load()),g._iO.onconnect&&g._iO.onconnect.apply(g,[e]))},this._ondataerror=function(e){g.playState>0&&(gt._wD(g.id+": Data error: "+e),g._iO.ondataerror&&g._iO.ondataerror.apply(g))},this._debug()},N=function(){return Ct.body||Ct.getElementsByTagName("div")[0]},s=function(e){return Ct.getElementById(e)},m=function(e,n){var i,o,a=e||{};i=n===t?gt.defaultOptions:n;for(o in i)i.hasOwnProperty(o)&&a[o]===t&&(a[o]="object"!=typeof i[o]||null===i[o]?i[o]:m(a[o],i[o]));return a},mt=function(t,n){t.isHTML5||8!==d?n():e.setTimeout(n,0)},v={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},g=function(e,n){var i,o=!0,a=n!==t,r=gt.setupOptions,s=v;if(e===t){o=[];for(i in r)r.hasOwnProperty(i)&&o.push(i);for(i in s)s.hasOwnProperty(i)&&("object"==typeof gt[i]?o.push(i+": {...}"):gt[i]instanceof Function?o.push(i+": function() {...}"):o.push(i));return gt._wD(I("setup",o.join(", "))),!1}for(i in e)if(e.hasOwnProperty(i))if("object"!=typeof e[i]||null===e[i]||e[i]instanceof Array||e[i]instanceof RegExp)a&&s[n]!==t?gt[n][i]=e[i]:r[i]!==t?(gt.setupOptions[i]=e[i],gt[i]=e[i]):s[i]===t?(X(I(gt[i]===t?"setupUndef":"setupError",i),2),o=!1):gt[i]instanceof Function?gt[i].apply(gt,e[i]instanceof Array?e[i]:[e[i]]):gt[i]=e[i];else{if(s[i]!==t)return g(e[i],i);X(I(gt[i]===t?"setupUndef":"setupError",i),2),o=!1}return o},st=function(){function t(e){var t=Ut.call(e),n=t.length;return a?(t[1]="on"+t[1],n>3&&t.pop()):3===n&&t.push(!1),t}function n(e,t){var n=e.shift(),i=[r[t]];a?n[i](e[0],e[1]):n[i].apply(n,e)}function i(){n(t(arguments),"add")}function o(){n(t(arguments),"remove")}var a=e.attachEvent,r={add:a?"attachEvent":"addEventListener",remove:a?"detachEvent":"removeEventListener"};return{add:i,remove:o}}(),ft={abort:a(function(){gt._wD(this._s.id+": abort")}),canplay:a(function(){var e,n=this._s;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,gt._wD(n.id+": canplay"),n._onbufferchange(0),e=n._iO.position===t||isNaN(n._iO.position)?null:n._iO.position/sn,n.position&&this.currentTime!==e){gt._wD(n.id+": canplay: Setting position to "+e);try{this.currentTime=e}catch(i){gt._wD(n.id+": canplay: Setting position of "+e+" failed: "+i.message,2)}}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:a(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:a(function(){var e=this._s;gt._wD(e.id+": ended"),e._onfinish()}),error:a(function(){gt._wD(this._s.id+": HTML5 error, code "+this.error.code),this._s._onload(!1)}),loadeddata:a(function(){var e=this._s;gt._wD(e.id+": loadeddata"),e._loaded||Gt||(e.duration=e._get_html5_duration())}),loadedmetadata:a(function(){gt._wD(this._s.id+": loadedmetadata")}),loadstart:a(function(){gt._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:a(function(){this._s._onbufferchange(0)}),playing:a(function(){gt._wD(this._s.id+": playing"),this._s._onbufferchange(0)}),progress:a(function(e){var t,n,i,o=this._s,a=0,r="progress"===e.type,s=e.target.buffered,l=e.loaded||0,u=e.total||1;if(o.buffered=[],s&&s.length){for(t=0,n=s.length;n>t;t++)o.buffered.push({start:s.start(t)*sn,end:s.end(t)*sn});if(a=(s.end(0)-s.start(0))*sn,l=Math.min(1,a/(e.target.duration*sn)),r&&s.length>1){for(i=[],n=s.length,t=0;n>t;t++)i.push(e.target.buffered.start(t)*sn+"-"+e.target.buffered.end(t)*sn);gt._wD(this._s.id+": progress, timeRanges: "+i.join(", "))}r&&!isNaN(l)&&gt._wD(this._s.id+": progress, "+Math.floor(100*l)+"% loaded")}isNaN(l)||(o._onbufferchange(0),o._whileloading(l,u,o._get_html5_duration()),l&&u&&l===u&&ft.canplaythrough.call(this,e))}),ratechange:a(function(){gt._wD(this._s.id+": ratechange")}),suspend:a(function(e){var t=this._s;gt._wD(this._s.id+": suspend"),ft.progress.call(this,e),t._onsuspend()}),stalled:a(function(){gt._wD(this._s.id+": stalled")}),timeupdate:a(function(){this._s._onTimer()}),waiting:a(function(){var e=this._s;gt._wD(this._s.id+": waiting"),e._onbufferchange(1)})},tt=function(e){var t;return t=e&&(e.type||e.url||e.serverURL)?e.serverURL||e.type&&o(e.type)?!1:e.type?nt({type:e.type}):nt({url:e.url})||gt.html5Only||e.url.match(/data\:/i):!1},ot=function(e){var t;return e&&(t=Gt&&!zt?null:Kt?ln:null,e.src=t,void 0!==e._called_unload&&(e._called_load=!1)),Wt&&(lt=null),t},nt=function(e){if(!gt.useHTML5Audio||!gt.hasHTML5)return!1;var n,i,a,r,s=e.url||null,l=e.type||null,u=gt.audioFormats;if(l&&gt.html5[l]!==t)return gt.html5[l]&&!o(l);if(!it){it=[];for(r in u)u.hasOwnProperty(r)&&(it.push(r),u[r].related&&(it=it.concat(u[r].related)));it=new RegExp("\\.("+it.join("|")+")(\\?.*)?$","i")}return a=s?s.toLowerCase().match(it):null,a&&a.length?a=a[1]:l?(i=l.indexOf(";"),a=(-1!==i?l.substr(0,i):l).substr(6)):n=!1,a&&gt.html5[a]!==t?n=gt.html5[a]&&!o(a):(l="audio/"+a,n=gt.html5.canPlayType({type:l}),gt.html5[a]=n,n=n&&gt.html5[l]&&!o(l)),n},rt=function(){function e(e){var t,n,i,o=!1,a=!1;if(!r||"function"!=typeof r.canPlayType)return o;if(e instanceof Array){for(n=0,i=e.length;i>n;n++)(gt.html5[e[n]]||r.canPlayType(e[n]).match(gt.html5Test))&&(a=!0,gt.html5[e[n]]=!0,gt.flash[e[n]]=!!e[n].match(rn));o=a}else t=r&&"function"==typeof r.canPlayType?r.canPlayType(e):!1,o=!(!t||!t.match(gt.html5Test));return o}if(!gt.useHTML5Audio||!gt.hasHTML5)return gt.html5.usingFlash=!0,Rt=!0,!1;var n,i,o,a,r=Audio!==t?Jt&&opera.version()<10?new Audio(null):new Audio:null,s={};o=gt.audioFormats;for(n in o)if(o.hasOwnProperty(n)&&(i="audio/"+n,s[n]=e(o[n].type),s[i]=s[n],n.match(rn)?(gt.flash[n]=!0,gt.flash[i]=!0):(gt.flash[n]=!1,gt.flash[i]=!1),o[n]&&o[n].related))for(a=o[n].related.length-1;a>=0;a--)s["audio/"+o[n].related[a]]=s[n],gt.html5[o[n].related[a]]=s[n],gt.flash[o[n].related[a]]=s[n];return s.canPlayType=r?e:null,gt.html5=m(gt.html5,s),gt.html5.usingFlash=et(),Rt=gt.html5.usingFlash,!0},S={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:bt+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:xt+"Verify that %s is a valid path.",tryDebug:"Try "+bt+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:xt+"Non-HTTP page ("+Ct.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:xt+"Special case: Waiting for SWF to load with window focus...",waitForever:xt+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:xt+"Waiting for 100% SWF load...",needFunction:xt+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:xt+"_debug(): Current sound objects",waitOnload:xt+"Waiting for window.onload()",docLoaded:xt+"Document already loaded",onload:xt+"initComplete(): calling soundManager.onload()",onloadOK:bt+".onload() complete",didInit:xt+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:xt+"Failed to remove Flash node.",shutdown:bt+".disable(): Shutting down",queue:xt+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+U.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:xt+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:bt+".load(): current URL already assigned.",badFV:bt+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:xt+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:xt+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:bt+".setup(): allowed parameters: %s",setupError:bt+'.setup(): "%s" cannot be assigned with this method.',setupUndef:bt+'.setup(): Could not find option "%s"',setupLate:bt+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:xt+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready.",reset:bt+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."},I=function(){var e,t,n=Ut.call(arguments),i=n.shift(),o=S&&S[i]?S[i]:"";
if(o&&n&&n.length)for(e=0,t=n.length;t>e;e++)o=o.replace("%s",n[e]);return o},V=function(e){return 8===d&&e.loops>1&&e.stream&&(p("as2loop"),e.stream=!1),e},z=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(gt._wD((t||"")+I("policy")),e.usePolicyFile=!0),e},X=function(e){tn&&console.warn!==t?console.warn(e):gt._wD(e)},l=function(){return!1},B=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=l);t=null},j=function(e){e===t&&(e=!1),(Dt||e)&&gt.disable(e)},H=function(e){var t,n=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(n=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+gt.movieURL,gt.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},C=function(){d=parseInt(gt.flashVersion,10),8!==d&&9!==d&&(gt._wD(I("badFV",d,Lt)),gt.flashVersion=d=Lt);var e=gt.debugMode||gt.debugFlash?"_debug.swf":".swf";gt.useHTML5Audio&&!gt.html5Only&&gt.audioFormats.mp4.required&&9>d&&(gt._wD(I("needfl9")),gt.flashVersion=d=9),gt.version=gt.versionNumber+(gt.html5Only?" (HTML5-only mode)":9===d?" (AS3/Flash 9)":" (AS2/Flash 8)"),d>8?(gt.defaultOptions=m(gt.defaultOptions,gt.flash9Options),gt.features.buffering=!0,gt.defaultOptions=m(gt.defaultOptions,gt.movieStarOptions),gt.filePatterns.flash9=new RegExp("\\.(mp3|"+fn.join("|")+")(\\?.*)?$","i"),gt.features.movieStar=!0):gt.features.movieStar=!1,gt.filePattern=gt.filePatterns[8!==d?"flash9":"flash8"],gt.movieURL=(8===d?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),gt.features.peakData=gt.features.waveformData=gt.features.eqData=d>8},A=function(e,t){return yt?(yt._setPolling(e,t),void 0):!1},q=function(){if(gt.debugURLParam.test(kt)&&(gt.debugMode=!0),s(gt.debugID))return!1;var e,t,n,i,o;if(!(!gt.debugMode||s(gt.debugID)||tn&&gt.useConsole&&gt.consoleOnly)){e=Ct.createElement("div"),e.id=gt.debugID+"-toggle",i={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(Ct.createTextNode("-")),e.onclick=W,e.title="Toggle SM2 debug console",$t.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand");for(o in i)i.hasOwnProperty(o)&&(e.style[o]=i[o]);if(t=Ct.createElement("div"),t.id=gt.debugID,t.style.display=gt.debugMode?"block":"none",gt.debugMode&&!s(e.id)){try{n=N(),n.appendChild(e)}catch(a){throw new Error(I("domError")+" \n"+a.toString())}n.appendChild(t)}}n=null},Q=this.getSoundById,p=function(e,t){return e?gt._wD(I(e),t):""},W=function(){var e=s(gt.debugID),t=s(gt.debugID+"-toggle");return e?(St?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),St=!St,void 0):!1},f=function(n,i,o){if(e.sm2Debugger!==t)try{sm2Debugger.handleEvent(n,i,o)}catch(a){return!1}return!0},R=function(){var e=[];return gt.debugMode&&e.push(U.sm2Debug),gt.debugFlash&&e.push(U.flashDebug),gt.useHighPerformance&&e.push(U.highPerf),e.join(" ")},F=function(){var e=I("fbHandler"),t=gt.getMoviePercent(),n=U,i={type:"FLASHBLOCK"};return gt.html5Only?!1:(gt.ok()?(gt.didFlashBlock&&gt._wD(e+": Unblocked"),gt.oMC&&(gt.oMC.className=[R(),n.swfDefault,n.swfLoaded+(gt.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(Rt&&(gt.oMC.className=R()+" "+n.swfDefault+" "+(null===t?n.swfTimedout:n.swfError),gt._wD(e+": "+I("fbTimeout")+(t?" ("+I("fbLoaded")+")":""))),gt.didFlashBlock=!0,b({type:"ontimeout",ignoreInit:!0,error:i}),L(i)),void 0)},y=function(e,n,i){Tt[e]===t&&(Tt[e]=[]),Tt[e].push({method:n,scope:i||null,fired:!1})},b=function(e){if(e||(e={type:gt.ok()?"onready":"ontimeout"}),!Mt&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(gt.ok()||Dt&&!e.ignoreInit))return!1;var t,n,i={success:e&&e.ignoreInit?gt.ok():!Dt},o=e&&e.type?Tt[e.type]||[]:[],a=[],r=[i],s=Rt&&!gt.ok();for(e.error&&(r[0].error=e.error),t=0,n=o.length;n>t;t++)o[t].fired!==!0&&a.push(o[t]);if(a.length)for(t=0,n=a.length;n>t;t++)a[t].scope?a[t].method.apply(a[t].scope,r):a[t].method.apply(this,r),s||(a[t].fired=!0);return!0},x=function(){e.setTimeout(function(){gt.useFlashBlock&&F(),b(),"function"==typeof gt.onload&&(p("onload",1),gt.onload.apply(e),p("onloadOK",1)),gt.waitForWindowLoad&&st.add(e,"load",x)},1)},ct=function(){if(ut!==t)return ut;var n,i,o,a=!1,r=navigator,s=r.plugins,l=e.ActiveXObject;if(s&&s.length)i="application/x-shockwave-flash",o=r.mimeTypes,o&&o[i]&&o[i].enabledPlugin&&o[i].enabledPlugin.description&&(a=!0);else if(l!==t&&!$t.match(/MSAppHost/i)){try{n=new l("ShockwaveFlash.ShockwaveFlash")}catch(u){n=null}a=!!n,n=null}return ut=a,a},et=function(){var e,t,n=gt.audioFormats,i=zt&&!!$t.match(/os (1|2|3_0|3_1)/i);if(i?(gt.hasHTML5=!1,gt.html5Only=!0,gt.oMC&&(gt.oMC.style.display="none")):gt.useHTML5Audio&&(gt.html5&&gt.html5.canPlayType||(gt._wD("SoundManager: No HTML5 Audio() support detected."),gt.hasHTML5=!1),en&&gt._wD(xt+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ut?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),gt.useHTML5Audio&&gt.hasHTML5){Z=!0;for(t in n)n.hasOwnProperty(t)&&n[t].required&&(gt.html5.canPlayType(n[t].type)?gt.preferFlash&&(gt.flash[t]||gt.flash[n[t].type])&&(e=!0):(Z=!1,e=!0))}return gt.ignoreFlash&&(e=!1,Z=!0),gt.html5Only=gt.hasHTML5&&gt.useHTML5Audio&&!e,!gt.html5Only},K=function(e){var t,n,i,o=0;if(e instanceof Array){for(t=0,n=e.length;n>t;t++)if(e[t]instanceof Object){if(gt.canPlayMIME(e[t].type)){o=t;break}}else if(gt.canPlayURL(e[t])){o=t;break}e[o].url&&(e[o]=e[o].url),i=e[o]}else i=e;return i},Y=function(e){e._hasTimer||(e._hasTimer=!0,!Zt&&gt.html5PollingInterval&&(null===It&&0===Ht&&(It=setInterval(J,gt.html5PollingInterval)),Ht++))},G=function(e){e._hasTimer&&(e._hasTimer=!1,!Zt&&gt.html5PollingInterval&&Ht--)},J=function(){var e;if(null!==It&&!Ht)return clearInterval(It),It=null,!1;for(e=gt.soundIDs.length-1;e>=0;e--)gt.sounds[gt.soundIDs[e]].isHTML5&&gt.sounds[gt.soundIDs[e]]._hasTimer&&gt.sounds[gt.soundIDs[e]]._onTimer()},L=function(n){n=n!==t?n:{},"function"==typeof gt.onerror&&gt.onerror.apply(e,[{type:n.type!==t?n.type:null}]),n.fatal!==t&&n.fatal&&gt.disable()},dt=function(){if(!en||!ct())return!1;var e,t,n=gt.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(gt._wD(bt+": Using flash fallback for "+t+" format"),gt.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;e>=0;e--)gt.html5[n[t].related[e]]=!1},this._setSandboxType=function(e){var n=gt.sandbox;n.type=e,n.description=n.types[n.types[e]!==t?e:"unknown"],"localWithFile"===n.type?(n.noRemote=!0,n.noLocal=!1,p("secNote",2)):"localWithNetwork"===n.type?(n.noRemote=!1,n.noLocal=!0):"localTrusted"===n.type&&(n.noRemote=!1,n.noLocal=!1)},this._externalInterfaceOK=function(e){if(gt.swfLoaded)return!1;var t;return f("swf",!0),f("flashtojs",!0),gt.swfLoaded=!0,on=!1,en&&dt(),e&&e.replace(/\+dev/i,"")===gt.versionNumber.replace(/\+dev/i,"")?(setTimeout(c,Qt?100:1),void 0):(t=bt+': Fatal: JavaScript file build "'+gt.versionNumber+'" does not match Flash SWF build "'+e+'" at '+gt.url+". Ensure both are up-to-date.",setTimeout(function(){throw new Error(t)},0),!1)},O=function(e,n){function i(){var e,t=[],n=[],i=" + ";e="SoundManager "+gt.version+(!gt.html5Only&&gt.useHTML5Audio?gt.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),gt.html5Only?gt.html5PollingInterval&&t.push("html5PollingInterval ("+gt.html5PollingInterval+"ms)"):(gt.preferFlash&&t.push("preferFlash"),gt.useHighPerformance&&t.push("useHighPerformance"),gt.flashPollingInterval&&t.push("flashPollingInterval ("+gt.flashPollingInterval+"ms)"),gt.html5PollingInterval&&t.push("html5PollingInterval ("+gt.html5PollingInterval+"ms)"),gt.wmode&&t.push("wmode ("+gt.wmode+")"),gt.debugFlash&&t.push("debugFlash"),gt.useFlashBlock&&t.push("flashBlock")),t.length&&(n=n.concat([t.join(i)])),gt._wD(e+(n.length?i+n.join(", "):""),1),pt()}function o(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(_t&&Et)return!1;if(gt.html5Only)return C(),i(),gt.oMC=s(gt.movieID),c(),_t=!0,Et=!0,!1;var a,r,l,u,d,f,p,h,m=n||gt.url,g=gt.altURL||m,v="JS/Flash audio component (SoundManager 2)",y=N(),b=R(),x=null,w=Ct.getElementsByTagName("html")[0];if(x=w&&w.dir&&w.dir.match(/rtl/i),e=e===t?gt.id:e,C(),gt.url=H(un?m:g),n=gt.url,gt.wmode=!gt.wmode&&gt.useHighPerformance?"transparent":gt.wmode,null!==gt.wmode&&($t.match(/msie 8/i)||!Qt&&!gt.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Ft.push(S.spcWmode),gt.wmode=null),a={name:e,id:e,src:n,quality:"high",allowScriptAccess:gt.allowScriptAccess,bgcolor:gt.bgColor,pluginspage:cn+"www.macromedia.com/go/getflashplayer",title:v,type:"application/x-shockwave-flash",wmode:gt.wmode,hasPriority:"true"},gt.debugFlash&&(a.FlashVars="debug=1"),gt.wmode||delete a.wmode,Qt)r=Ct.createElement("div"),u=['<object id="'+e+'" data="'+n+'" type="'+a.type+'" title="'+a.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+cn+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',o("movie",n),o("AllowScriptAccess",gt.allowScriptAccess),o("quality",a.quality),gt.wmode?o("wmode",gt.wmode):"",o("bgcolor",gt.bgColor),o("hasPriority","true"),gt.debugFlash?o("FlashVars",a.FlashVars):"","</object>"].join("");else{r=Ct.createElement("embed");for(l in a)a.hasOwnProperty(l)&&r.setAttribute(l,a[l])}if(q(),b=R(),y=N())if(gt.oMC=s(gt.movieID)||Ct.createElement("div"),gt.oMC.id)h=gt.oMC.className,gt.oMC.className=(h?h+" ":U.swfDefault)+(b?" "+b:""),gt.oMC.appendChild(r),Qt&&(d=gt.oMC.appendChild(Ct.createElement("div")),d.className=U.swfBox,d.innerHTML=u),Et=!0;else{if(gt.oMC.id=gt.movieID,gt.oMC.className=U.swfDefault+" "+b,f=null,d=null,gt.useFlashBlock||(gt.useHighPerformance?f={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(f={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},x&&(f.left=Math.abs(parseInt(f.left,10))+"px"))),Yt&&(gt.oMC.style.zIndex=1e4),!gt.debugFlash)for(p in f)f.hasOwnProperty(p)&&(gt.oMC.style[p]=f[p]);try{Qt||gt.oMC.appendChild(r),y.appendChild(gt.oMC),Qt&&(d=gt.oMC.appendChild(Ct.createElement("div")),d.className=U.swfBox,d.innerHTML=u),Et=!0}catch($){throw new Error(I("domError")+" \n"+$.toString())}}return _t=!0,i(),!0},_=function(){return gt.html5Only?(O(),!1):yt?!1:gt.url?(yt=gt.getMovie(gt.id),yt||(At?(Qt?gt.oMC.innerHTML=qt:gt.oMC.appendChild(At),At=null,_t=!0):O(gt.id,gt.url),yt=gt.getMovie(gt.id)),"function"==typeof gt.oninitmovie&&setTimeout(gt.oninitmovie,1),ht(),!0):(p("noURL"),!1)},w=function(){setTimeout($,1e3)},k=function(){e.setTimeout(function(){X(xt+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),gt.setup({preferFlash:!1}).reboot(),gt.didFlashBlock=!0,gt.beginDelayedInit()},1)},$=function(){var t,n=!1;return gt.url?Bt?!1:(Bt=!0,st.remove(e,"load",w),ut&&on&&!nn?(p("waitFocus"),!1):(Mt||(t=gt.getMoviePercent(),t>0&&100>t&&(n=!0)),setTimeout(function(){return t=gt.getMoviePercent(),n?(Bt=!1,gt._wD(I("waitSWF")),e.setTimeout(w,1),!1):(Mt||(gt._wD(bt+": No Flash response within expected time. Likely causes: "+(0===t?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(gt.debugFlash?" "+I("checkSWF"):""),2),!un&&t&&(p("localFail",2),gt.debugFlash||p("tryDebug",2)),0===t&&gt._wD(I("swf404",gt.url),1),f("flashtojs",!1," (Check flash security or flash blockers)")),!Mt&&an&&(null===t?gt.useFlashBlock||0===gt.flashLoadTimeout?(gt.useFlashBlock&&F(),p("waitForever")):!gt.useFlashBlock&&Z?k():(p("waitForever"),b({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===gt.flashLoadTimeout?p("waitForever"):!gt.useFlashBlock&&Z?k():j(!0)),void 0)},gt.flashLoadTimeout),void 0)):!1},T=function(){function t(){st.remove(e,"focus",T)}return nn||!on?(t(),!0):(an=!0,nn=!0,p("gotFocus"),Bt=!1,w(),t(),!0)},ht=function(){Ft.length&&(gt._wD("SoundManager 2: "+Ft.join(" "),1),Ft=[])},pt=function(){ht();var e,t=[];if(gt.useHTML5Audio&&gt.hasHTML5){for(e in gt.audioFormats)gt.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+gt.html5[e]+(!gt.html5[e]&&Rt&&gt.flash[e]?" (using flash)":gt.preferFlash&&gt.flash[e]&&Rt?" (preferring flash)":gt.html5[e]?"":" ("+(gt.audioFormats[e].required?"required, ":"")+"and no flash support)"));gt._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},h=function(t){if(Mt)return!1;if(gt.html5Only)return p("sm2Loaded"),Mt=!0,x(),f("onload",!0),!0;var n,i=gt.useFlashBlock&&gt.flashLoadTimeout&&!gt.getMoviePercent(),o=!0;return i||(Mt=!0),n={type:!ut&&Rt?"NO_FLASH":"INIT_TIMEOUT"},gt._wD("SoundManager 2 "+(Dt?"failed to load":"loaded")+" ("+(Dt?"Flash security/load error":"OK")+")",Dt?2:1),Dt||t?(gt.useFlashBlock&&gt.oMC&&(gt.oMC.className=R()+" "+(null===gt.getMoviePercent()?U.swfTimedout:U.swfError)),b({type:"ontimeout",error:n,ignoreInit:!0}),f("onload",!1),L(n),o=!1):f("onload",!0),Dt||(gt.waitForWindowLoad&&!Pt?(p("waitOnload"),st.add(e,"load",x)):(gt.waitForWindowLoad&&Pt&&p("docLoaded"),x())),o},u=function(){var e,n=gt.setupOptions;for(e in n)n.hasOwnProperty(e)&&(gt[e]===t?gt[e]=n[e]:gt[e]!==n[e]&&(gt.setupOptions[e]=gt[e]))},c=function(){function t(){st.remove(e,"load",gt.beginDelayedInit)}if(Mt)return p("didInit"),!1;if(gt.html5Only)return Mt||(t(),gt.enabled=!0,h()),!0;_();try{yt._externalInterfaceTest(!1),A(!0,gt.flashPollingInterval||(gt.useHighPerformance?10:50)),gt.debugMode||yt._disableDebug(),gt.enabled=!0,f("jstoflash",!0),gt.html5Only||st.add(e,"unload",l)}catch(n){return gt._wD("js/flash exception: "+n.toString()),f("jstoflash",!1),L({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),j(!0),h(),!1}return h(),t(),!0},M=function(){return P?!1:(P=!0,u(),q(),function(){var e="sm2-usehtml5audio=",t="sm2-preferflash=",n=null,i=null,o=kt.toLowerCase();-1!==o.indexOf(e)&&(n="1"===o.charAt(o.indexOf(e)+e.length),tn&&console.log((n?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),gt.setup({useHTML5Audio:n})),-1!==o.indexOf(t)&&(i="1"===o.charAt(o.indexOf(t)+t.length),tn&&console.log((i?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),gt.setup({preferFlash:i}))}(),!ut&&gt.hasHTML5&&(gt._wD("SoundManager 2: No Flash detected"+(gt.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),gt.setup({useHTML5Audio:!0,preferFlash:!1})),rt(),!ut&&Rt&&(Ft.push(S.needFlash),gt.setup({flashLoadTimeout:1})),Ct.removeEventListener&&Ct.removeEventListener("DOMContentLoaded",M,!1),_(),!0)},at=function(){return"complete"===Ct.readyState&&(M(),Ct.detachEvent("onreadystatechange",at)),!0},D=function(){Pt=!0,st.remove(e,"load",D)},E=function(){Zt&&((!gt.setupOptions.useHTML5Audio||gt.setupOptions.preferFlash)&&Ft.push(S.mobileUA),gt.setupOptions.useHTML5Audio=!0,gt.setupOptions.preferFlash=!1,(zt||Xt&&!$t.match(/android\s2\.3/i))&&(Ft.push(S.globalHTML5),zt&&(gt.ignoreFlash=!0),Wt=!0))},E(),ct(),st.add(e,"focus",T),st.add(e,"load",w),st.add(e,"load",D),Ct.addEventListener?Ct.addEventListener("DOMContentLoaded",M,!1):Ct.attachEvent?Ct.attachEvent("onreadystatechange",at):(f("onload",!1),L({type:"NO_DOM2_EVENTS",fatal:!0}))}var i=null;void 0!==e.SM2_DEFER&&SM2_DEFER||(i=new n),e.SoundManager=n,e.soundManager=i}(window),define("soundmanager2",function(e){return function(){var t;return t||e.soundManager}}(this)),define("audio-player/sound-manager-srv",["angular","observable","soundmanager2"],function(e,t,n){function i(i,o,a){function r(e){var t=n.createSound({url:e});return d[e]=t.id,f[t.id]=e,t.id}function s(e){return d[e]}var l,u=this,c=!1,d={},f={};e.extend(this,new t),n.setup({url:"/components/soundmanager/swf/",debugMode:o.debug,flashVersion:9,preferFlash:!1,ontimeout:function(){i.alert("SM2 init failed!")},defaultOptions:{volume:100}}),a.on("play",function(e){c=!0,u.trigger("play",e)}),a.on("pause",function(){c=!1,u.trigger("pause")}),a.on("resume",function(){c=!0,u.trigger("resume")}),a.on("stop",function(){c=!1,u.trigger("stop")}),a.on("finish",function(){var e=u.getCurrentUrl();c=!1,l=null,u.trigger("finish",e)}),["halfPlay","loading","playing"].forEach(function(e){a.on(e,u.trigger.bind(u,e))}),this.getCurrentUrl=function(){return l?f[l]:null},this.isPlaying=function(){return c},this.destroySound=function(e){var t=s(e);t&&(t===l&&(n.stop(l),l=null),delete d[e],delete f[t],n.destroySound(t))},this.play=function(e){var t=s(e)||r(e);l&&n.stop(l),l=t,n.play(t,a.getEventsHandler())},this.setPosition=function(e){l&&n.setPosition(l,1e3*e)},this.pause=function(){l&&n.pause(l)},this.resume=function(){return l?(n.resume(l),!0):!1},this.stop=function(){l&&n.stop(l)}}return i.$inject=["$window","config","soundSrv"],i}),define("audio-player/sound-srv",["angular","observable"],function(e,t){function n(){function n(e,t){s||++r>=t/2&&(i.trigger("halfPlay",r),s=!0)}var i=this,o=0,a=0,r=0,s=!1;e.extend(this,new t);var l=function(){o=0,a=0,r=0,s=!1,i.trigger("play",3===this.readyState)},u=function(){i.trigger("pause")},c=function(){i.trigger("resume")},d=function(){i.trigger("stop")},f=function(){i.trigger("finish")},p=function(){var e=this.bytesLoaded>.99999995?1:this.bytesLoaded,t=Math.floor(100*e/this.bytesTotal),n=t!==a;n&&(a=t,i.trigger("loading",t))},h=function(){var e,t=Math.floor(this.position/1e3),a=t!==o;a&&(o=t,e=Math.floor((3===this.readyState?this.duration:this.durationEstimate)/1e3),i.trigger("playing",{position:t,duration:e,percentage:Math.floor(100*t/e)}),n(this,e))};this.getEventsHandler=function(){return{onplay:l,onpause:u,onresume:c,onstop:d,onfinish:f,whileloading:p,whileplaying:h}}}return n}),define("audio-player/main",["angular","track-group","./audio-player-ctrl","./audio-player-queue-ctrl","./audio-player-srv","./sound-manager-srv","./sound-srv"],function(e,t,n,i,o,a,r){var s=e.module("soundrocket.audio-player",[t.name]);return s.controller("AudioPlayerCtrl",n).controller("AudioPlayerQueueCtrl",i).service("audioPlayerSrv",o).service("soundManagerSrv",a).service("soundSrv",r),s}),define("audio-player",["audio-player/main"],function(e){return e}),define("home/home-ctrl",[],function(){function e(e,t,n,i){function o(e){var n=620,i=450,o=t.screen.height/2-n/2,a=t.screen.width/2-i/2;t.open("/auth/"+e,"oauth","dialog=yes, height="+n+",width="+i+","+"top="+o+",left="+a)}t.setAuthResult=function(t){t&&e.$apply(function(){n.path("/"+i.getNickname())})},e.contactAddress="contact@stereobuns.com",e.signIn=function(e){o(e)}}return e.$inject=["$scope","$window","$location","userMdl"],e}),define("home/main",["angular","user","./home-ctrl"],function(e,t,n){var i=e.module("soundrocket.home",[t.name]);return i.controller("HomeCtrl",n),i}),define("home",["home/main"],function(e){return e}),define("layout/layout-ctrl",[],function(){function e(e,t){e.searchBarTemplateUrl=null,e.userMenuTemplateUrl=null,e.audioPlayerBarTemplateUrl=null,e.backgroundClass=null,e.$on("userMdl:setInvitationCode",function(){e.searchBarTemplateUrl="templates/track-search/track-search.html",e.audioPlayerBarTemplateUrl="templates/audio-player/audio-player.html"}),e.$on("$routeChangeSuccess",function(n,i){var o=t.hasInvitation();"templates/home/home.html"===i.loadedTemplateUrl?(e.searchBarTemplateUrl=null,e.userMenuTemplateUrl=null,e.audioPlayerBarTemplateUrl=null,e.backgroundClass="home-background"):(e.searchBarTemplateUrl=o?"templates/track-search/track-search.html":"",e.userMenuTemplateUrl="templates/user/user-menu.html",e.audioPlayerBarTemplateUrl=o?"templates/audio-player/audio-player.html":"",e.backgroundClass=null)})}return e.$inject=["$scope","userMdl"],e}),define("layout/main",["angular","user","./layout-ctrl"],function(e,t,n){return e.module("soundrocket.layout",[t.name]).controller("LayoutCtrl",n)}),define("layout",["layout/main"],function(e){return e}),define("settings/settings-ctrl",[],function(){function e(e,t,n,i,o){e.hasInvitation=o.hasInvitation(),e.invitationCode="",e.error=null,e.closeErrorAlert=function(){e.error=null},e.setInvitationCode=function(){return e.invitationForm.$valid?(e.closeErrorAlert(),o.setInvitationCode(e.invitationCode).then(function(){e.hasInvitation=!0},function(t){e.error=t,e.invitationCode=""}),void 0):e.invitationForm.$setDirty()},e.openDeleteConfirmationBox=function(){e.closeErrorAlert(),t.messageBox("Account Deletion","All your playlist will be deleted.",[{label:"Cancel",result:!1},{label:"Delete",result:!0,cssClass:"btn-danger"}]).open().then(function(t){t&&i.delete().then(function(){n.path("/")},function(t){e.error=t})})}}return e.$inject=["$scope","$dialog","$location","userSrv","userMdl"],e}),define("settings/main",["angular","user","./settings-ctrl"],function(e,t,n){var i=e.module("soundrocket.settings",[t.name]);return i.controller("SettingsCtrl",n),i}),define("settings",["settings/main"],function(e){return e}),define("track/track-ctrl",["angular"],function(e){function t(t,n){function i(){var e=n.getStatus().track;return e&&t.track&&e.url===t.track.url}var o={remove:!1,queue:!0,loved:!0};t.options=e.extend({},o,t.customOptions),t.isPlaying=!1,t.$watch("track",function(){t.isPlaying=i()&&n.getStatus().isPlaying}),t.$on("audioPlayer:play",function(){t.isPlaying=i()}),t.$on("audioPlayer:pause",function(){t.isPlaying=!1}),t.$on("audioPlayer:resume",function(){t.isPlaying=i()}),t.$on("audioPlayer:stop",function(){t.isPlaying=!1}),t.togglePlay=function(){i()?n.getStatus().isPlaying?n.pause():n.play():n.play(t.track)},t.remove=function(e){t.onRemove({track:e})}}return t.$inject=["$scope","audioPlayerSrv"],t}),define("track/progress/track-progress-ctrl",["angular"],function(){function e(e,t){var n;this.setPlayingPercentage=function(n){var i;e.progress&&(i=Math.round(n*e.progress.duration/100),t.setPosition(i))},e.progress=null,e.loadingPercentage=0,e.$on("audioPlayer:play",function(e,t){n=t?100:0}),e.$on("audioPlayer:stop",function(){e.progress=null,e.loadingPercentage=0}),e.$on("audioPlayer:loading",function(e,t){n=t}),e.$on("audioPlayer:playing",function(t,i){e.progress=i,e.loadingPercentage=i?n-i.percentage:n})}return e.$inject=["$scope","audioPlayerSrv"],e}),define("track/track-drt",[],function(){function e(){return{restrict:"E",replace:!0,scope:{customOptions:"=options",track:"=",onRemove:"&"},templateUrl:"templates/track/track.html",controller:"TrackCtrl"}}return e}),define("track/progress/track-progress-drt",[],function(){function e(){return{restrict:"E",replace:!0,scope:!0,templateUrl:"templates/track/progress/track-progress.html",controller:"TrackProgressCtrl",link:function(e,t,n,i){t.on("click",function(e){var t=this.clientWidth,n=e.pageX-this.getBoundingClientRect().left,o=Math.floor(100*n/t);i.setPlayingPercentage(o)})}}}return e}),define("track/main",["angular","audio-player","./track-ctrl","./progress/track-progress-ctrl","./track-drt","./progress/track-progress-drt"],function(e,t,n,i,o,a){var r=e.module("soundrocket.track",[t.name]);return r.controller("TrackCtrl",n).controller("TrackProgressCtrl",i).directive("srTrack",o).directive("srTrackProgress",a),r}),define("track",["track/main"],function(e){return e}),define("track-actions/track-actions-ctrl",["angular"],function(e){function t(t,n,i){var o={remove:!1,play:!1,queue:!0,playlists:!0,filterPlaylists:!0,loved:!0};t.playlistsOptions={filter:o.filterPlaylists},t.options=e.extend({},o,t.customOptions),t.playlistsOptions.filter=t.options.filterPlaylists,t.isMulti=!1,t.shouldBeVisible=!1,t.$watchCollection("tracks",function(n){t.isMulti=e.isArray(n),t.shouldBeVisible=t.isMulti?0!==n.length:e.isDefined(n)&&null!==n}),t.$on("trackGroup:add",function(e,n,i){"loved"===n&&i.url===t.tracks.url&&(t.tracks.loved=!0)}),t.$on("trackGroup:remove",function(e,n,i){"loved"===n&&i.url===t.tracks.url&&(t.tracks.loved=!1)}),t.play=function(){var e=n.enqueue(t.tracks);e.then(function(){n.play(t.isMulti?t.tracks[0]:t.tracks)})},t.queue=function(){n.enqueue(t.tracks)},t.toggleLove=function(){var e=i.get("loved");t.tracks.loved?e.remove(t.tracks):e.add(t.tracks)},t.remove=function(){t.onRemove({tracks:t.tracks})}}return t.$inject=["$scope","audioPlayerSrv","trackGroupMdl"],t}),define("track-actions/track-actions-drt",["angular"],function(){function e(){return{restrict:"E",replace:!0,scope:{customOptions:"=options",tracks:"=",onRemove:"&"},templateUrl:"templates/track-actions/track-actions.html",controller:"TrackActionsCtrl"}}return e}),define("track-actions/main",["angular","audio-player","track-group","./track-actions-ctrl","./track-actions-drt"],function(e,t,n,i,o){var a=e.module("soundrocket.track-actions",[t.name,n.name]);return a.controller("TrackActionsCtrl",i).directive("srTrackActions",o),a}),define("track-actions",["track-actions/main"],function(e){return e}),define("track-search/track-search-ctrl",[],function(){function e(e,t){e.query="",e.search=function(){e.searchForm.$valid&&(t.path("/search").search({q:e.query}),e.query="")}}return e.$inject=["$scope","$location"],e}),define("track-search/track-search-results-ctrl",[],function(){function e(e,t,n,i){function o(t){e.searchQuery=t,e.tracks.length=0,e.filteredTracks.length=0,e.isSearching=!0,e.filter=null,n.find(t).then(function(t){e.tracks=t,e.isSearching=!1,e.filterBy()})}e.searchQuery=null,e.tracks=[],e.filteredTracks=[],e.isSearching=!1,e.filter=null,e.filterBy=function(t){e.filter=t,e.filteredTracks=i(e.tracks,e.filter,e.searchQuery)},o(t.q)}return e.$inject=["$scope","$routeParams","trackSearchSrv","srSentenceFilterFilter"],e}),define("track-search/track-search-srv",[],function(){function e(e){this.find=function(t){return e.get("/api/tracks/search/"+t,{cache:!0}).then(function(e){return e.data})},this.findOne=function(e,t,n){return this.find(e+" "+t).then(function(i){var o,a,r=null;for(o=0,a=i.length;a>o&&(e!==i[o].artist||t!==i[o].name||(r=i[o],n&&n!==i[o].trackId));o++);return r})}}return e.$inject=["$http"],e}),define("track-search/main",["angular","common","./track-search-ctrl","./track-search-results-ctrl","./track-search-srv"],function(e,t,n,i,o){var a=e.module("soundrocket.track-search",[t.name]);return a.controller("TrackSearchCtrl",n).controller("TrackSearchResultsCtrl",i).service("trackSearchSrv",o),a}),define("track-search",["track-search/main"],function(e){return e}),define("track-info/track-info-ctrl",[],function(){function e(e,t,n,i){function o(){n.getComments(t.artist,t.track).then(function(t){e.comments=t})}e.newComment="",e.comments=null,e.song=null,i.findOne(t.artist,t.track,t.trackId).then(function(t){e.song=t}),e.addComment=function(){e.commentForm.$valid&&n.addComment(t.artist,t.track,e.newComment).then(function(){e.newComment="",o()})},o()}return e.$inject=["$scope","$routeParams","trackInfoSrv","trackSearchSrv"],e}),define("track-info/track-album-ctrl",[],function(){function e(e,t,n){e.album=null,n.getAlbum(t.artist,t.track).then(function(t){e.album=t})}return e.$inject=["$scope","$routeParams","trackInfoSrv"],e}),define("track-info/similar-tracks-ctrl",[],function(){function e(e,t,n){e.tracks=null,n.getSimilar(t.artist,t.track).then(function(t){e.tracks=t})}return e.$inject=["$scope","$routeParams","trackInfoSrv"],e}),define("track-info/track-info-srv",[],function(){function e(e){this.getAlbum=function(t,n){return e.get("/api/artists/"+t+"/tracks/"+n+"/album",{cache:!0}).then(function(e){return e.data})},this.getSimilar=function(t,n){return e.get("/api/artists/"+t+"/tracks/"+n+"/similar",{cache:!0}).then(function(e){return e.data})},this.addComment=function(t,n,i){return e.post("/api/artists/"+t+"/tracks/"+n+"/comments",{body:i})},this.getComments=function(t,n){return e.get("/api/artists/"+t+"/tracks/"+n+"/comments").then(function(e){return e.data})}}return e.$inject=["$http"],e}),define("track-info/main",["angular","track-search","./track-info-ctrl","./track-album-ctrl","./similar-tracks-ctrl","./track-info-srv"],function(e,t,n,i,o,a){var r=e.module("soundrocket.track-info",[t.name]);return r.controller("TrackInfoCtrl",n).controller("TrackAlbumCtrl",i).controller("SimilarTracksCtrl",o).service("trackInfoSrv",a),r}),define("track-info",["track-info/main"],function(e){return e}),define("playlist/playlist-ctrl",[],function(){function e(e,t,n,i,o,a){var r,s=a.isLoggedUser(t.user);o.get(t.user,t.name).then(function(t){e.playlistName=t.name,r=t,t.getTracks().then(function(t){e.tracks=t})}),e.tracksActionsOptions={play:!0,remove:s},e.trackOptions={remove:s,loved:s},e.canBeDeleted=s,e.emptyPlaylistMessageTemplateUrl="",e.playlistName="",e.tracks=null,e.$watchCollection("tracks",function(t){e.emptyPlaylistMessageTemplateUrl=!t||t.length?"":"templates/playlist/empty-playlist.html"}),e.$on("playlist:add",function(t,n,i){var o;n===e.playlistName&&(o=e.utils.indexOf(e.tracks,"url",i.url),0>o&&e.tracks.push(i))}),e.$on("playlist:remove",function(t,n,i){var o;n===e.playlistName&&(o=e.utils.indexOf(e.tracks,"url",i.url),e.tracks.splice(o,1))}),e.openDeleteConfirmationBox=function(){i.messageBox("Playlist Deletion",'"'+r.name+'" will be deleted.',[{label:"Cancel",result:!1},{label:"Delete",result:!0,cssClass:"btn-danger"}]).open().then(function(e){e&&o.delete(r.name).then(function(){n.path("/"+t.user)})})},e.remove=function(e){r.remove(e)}}return e.$inject=["$scope","$routeParams","$location","$dialog","playlistMdl","userMdl"],e}),define("playlist/empty-playlist-ctrl",[],function(){function e(e,t,n){var i=n.isLoggedUser(t.user);e.message=null,e.message=i?"You don't have any song in this playlist for the moment.<br />Once you find a song that you want to add, click on the <i class=\"icon-reorder\"></i> button to select the playlist.<br />Let's search for new music now!":t.user+" has no track in this playlist."}return e.$inject=["$scope","$routeParams","userMdl"],e}),define("playlist/playlist-srv",[],function(){function e(e,t){this.getPlaylists=function(n){return e.get("/api/users/"+n+"/playlists").error(function(){t.console.log("get playlists failed!")}).then(function(e){return e.data})},this.createPlaylist=function(n){return e.post("/api/users/me/playlists",{name:n}).error(function(){t.console.log("playlist: "+n+" has not been created")}).then(function(e){return 0!==e.data.count?(t.console.log("playlist: "+n+" has been created"),!0):!1})},this.deletePlaylist=function(n){return e.delete("/api/users/me/playlists/"+encodeURIComponent(n)).error(function(){t.console.log("playlist: "+n+" has not been removed")}).then(function(e){return 0!==e.data.count?(t.console.log("playlist: "+n+" has been removed"),!0):!1})},this.getPlaylistTracks=function(n,i){return e.get("/api/users/"+n+"/playlists/"+encodeURIComponent(i)+"/tracks").error(function(){t.console.log("get tracks failed for playlist: "+i)}).then(function(e){return e.data.songs})},this.addToPlaylist=function(n,i){return e.post("/api/users/me/playlists/"+encodeURIComponent(n)+"/tracks",i).error(function(){t.console.log("track: "+i.url+" has not been added.")}).then(function(e){return 0!==e.data.count?(t.console.log("track: "+i.url+" has been added."),i):null})},this.removeFromPlaylist=function(n,i){return e.delete("/api/users/me/playlists/"+encodeURIComponent(n)+"/tracks/"+i._id).error(function(){t.console.log("track: "+i.url+" has not been removed.")}).then(function(e){return 0!==e.data.count?(t.console.log("track: "+i.url+" has been removed."),i):null})}}return e.$inject=["$http","$window"],e}),define("playlist/playlist-mdl",["angular"],function(e){function t(t,n,i,o,a,r){function s(e,i,o){function a(){var n,o;if(0===--d){for(n=0,o=f.length;o>n;n++)t.$broadcast("playlist:"+e,i,f[n]);c.resolve(f)}}function r(e){e&&f.push(e),a()}function s(){a()}var l,u,c=n.defer(),d=o.length,f=[];for(l=0,u=o.length;u>l;l++)o[l].then(r,s);return c.promise}function l(n,i,o,r,l){var u,c,d,f=[];for(d=e.isArray(r)?r:[r],u=0,c=d.length;c>u;u++)f.push(a[n](o,l?t.utils.copy(d[u]):d[u]));return s(i,o,f)}function u(e,t){var n=this;this.name=t.name,this.length=t.length,this.getTracks=function(){return a.getPlaylistTracks(e,this.name).then(function(e){return n.length=e.length,e})},this.add=function(e){return l("addToPlaylist","add",this.name,e,!0).then(function(e){return n.length+=e.length,e
})},this.remove=function(e){return l("removeFromPlaylist","remove",this.name,e).then(function(e){return n.length-=e.length,e})}}this.getAll=function(e){var t=r.resolveNickname(e),n=o(t);return a.getPlaylists(t).then(function(e){var i,o,a,r;for(i=0,o=e.length;o>i;i++)a=e[i].name.toLowerCase(),n.get(a)||(r=new u(t,e[i]),n.put(a,r));return n.values()})},this.get=function(e,t){var n=r.resolveNickname(e),a=o(n);return a.get(t)?i(function(){return a.get(t)},0):this.getAll(n).then(function(){return a.get(t)})},this.create=function(e){var n=o("me");return a.createPlaylist(e).then(function(i){var o;return i?(o=new u("me",{name:e,length:0}),n.put(e.toLowerCase(),o),t.$broadcast("playlist:create",o),o):null})},this.delete=function(e){var n=o("me");return a.deletePlaylist(e).then(function(i){var o,a;return i?(o=e.toLowerCase(),a=n.get(o),n.remove(o),t.$broadcast("playlist:delete",a),a):null})}}return t.$inject=["$rootScope","$q","$timeout","cacheFactory","playlistSrv","userMdl"],t}),define("playlist/chooser/playlist-chooser-ctrl",["angular"],function(e){function t(t,i,o){function a(e){var t,o,a,r,s=[];for(t=0,o=e.length;o>t;t++)a=e[t],r=n.exec(i.path()),r&&r[1].toLowerCase()===a.name.toLowerCase()||s.push(a);return s}function r(){var n=e.extend({},s,t.options);o.getAll().then(function(e){t.playlists=n.filter?a(e):e})}var s={filter:!0};t.newPlaylistName="",t.$on("playlist:create",function(e,n){var i=t.playlists.indexOf(n);0>i&&t.playlists.push(n)}),t.$on("playlist:delete",function(e,n){var i=t.playlists.indexOf(n);i>-1&&t.playlists.splice(i,1)}),t.createPlaylist=function(){t.playlistForm.$valid&&(o.create(t.newPlaylistName),t.newPlaylistName="")},t.addToPlaylist=function(e){e.add(t.tracks)},r()}var n=/^\/.+\/playlist\/(.*)/i;return t.$inject=["$scope","$location","playlistMdl"],t}),define("playlist/chooser/playlist-chooser-drt",[],function(){function e(){return{restrict:"E",replace:!0,scope:{options:"=",tracks:"="},templateUrl:"templates/playlist/chooser/playlist-chooser.html",controller:"PlaylistChooserCtrl"}}return e}),define("playlist/main",["angular","user","common","./playlist-ctrl","./empty-playlist-ctrl","./playlist-srv","./playlist-mdl","./chooser/playlist-chooser-ctrl","./chooser/playlist-chooser-drt","angular-sanitize"],function(e,t,n,i,o,a,r,s,l){var u=e.module("soundrocket.playlist",["ngSanitize",t.name,n.name]);return u.controller("PlaylistCtrl",i).controller("EmptyPlaylistCtrl",o).service("playlistSrv",a).service("playlistMdl",r).controller("PlaylistChooserCtrl",s).directive("srPlaylistChooser",l),u}),define("playlist",["playlist/main"],function(e){return e}),define("user-profile/user-profile-menu-ctrl",[],function(){function e(e,i,o,a,r,s){var l=t.exec(i.path()),u=n.exec(i.path()),c=null!==l;e.isPlaylist=null!==u,e.userName=o.user,e.songsGroups=a.getAll(),e.noPlaylistMessage=s.isLoggedUser(o.user)?"You don't have any playlist.":o.user+" has not playlist.",r.getAll(o.user).then(function(t){e.playlists=t}),e.isCurrentSongsGroup=function(t){return c?l[1].toLowerCase()===t.id:!e.isPlaylist&&"loved"===t.id},e.isCurrentPlaylist=function(t){return e.isPlaylist?u[1].toLowerCase()===t.name.toLowerCase():!1}}var t=/^\/.+\/tracks\/(.*)/i,n=/^\/.+\/playlist\/(.*)/i;return e.$inject=["$scope","$location","$routeParams","trackGroupMdl","playlistMdl","userMdl"],e}),define("user-profile/user-profile-ctrl",[],function(){function e(e,t,n){n.getUser(t.user).then(function(t){e.user=t})}return e.$inject=["$scope","$routeParams","userMdl"],e}),define("user-profile/main",["angular","user","track-group","playlist","./user-profile-menu-ctrl","./user-profile-ctrl"],function(e,t,n,i,o,a){var r=e.module("soundrocket.user-profile",[t.name,n.name,i.name]);return r.controller("UserProfileMenuCtrl",o).controller("UserProfileCtrl",a),r}),define("user-profile",["user-profile/main"],function(e){return e}),define("app",["angular","common","artist-info","audio-player","home","keyboard-shortcuts","layout","settings","track","track-actions","track-info","track-group","track-search","user","user-profile","playlist"],function(e,t,n,i,o,a,r,s,l,u,c,d,f,p,h,m){var g=e.module("soundrocket",[t.name,n.name,i.name,o.name,a.name,r.name,s.name,l.name,u.name,c.name,d.name,f.name,p.name,h.name,m.name]);return g.constant("config",{debug:!1}),g.config(["$httpProvider",function(e){e.defaults.headers.common.Accept="application/json",e.interceptors.push(["$q","$location",function(e,t){return{responseError:function(n){return 401===n.status&&t.path("/"),e.reject(n)}}}])}]),g.run(["$rootScope",function(t){t.utils={copy:function(t){var n=e.copy(t);return delete n._id,n},indexOf:function(e,t,n){var i,o,a=-1;for(i=0,o=e.length;o>i;i++)if(e[i][t]===n){a=i;break}return a}}}]),g}),function(e,t){function n(){function e(e,n){return t.extend(new(t.extend(function(){},{prototype:e})),n)}function n(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},o=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(e,t,n,i){var a="?"===i?i:null,r="*"===i?i:null;return o.push({name:n,optional:!!a}),t=t||"",""+(a?"":t)+"(?:"+(a?t:"")+(r&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+e+"$",n?"i":""),i}var i={};this.when=function(e,o){if(i[e]=t.extend({reloadOnSearch:!0},o,e&&n(e,o)),e){var a="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";i[a]=t.extend({redirectTo:e},n(a,o))}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(n,o,a,r,s,l,u,c){function d(e,t){var n=t.keys,i={};if(!t.regexp)return null;var o=t.regexp.exec(e);if(!o)return null;for(var a=1,r=o.length;r>a;++a){var s=n[a-1],l="string"==typeof o[a]?decodeURIComponent(o[a]):o[a];s&&l&&(i[s.name]=l)}return i}function f(){var e=p(),i=g.current;e&&i&&e.$$route===i.$$route&&t.equals(e.pathParams,i.pathParams)&&!e.reloadOnSearch&&!m?(i.params=e.params,t.copy(i.params,a),n.$broadcast("$routeUpdate",i)):(e||i)&&(m=!1,n.$broadcast("$routeChangeStart",e,i),g.current=e,e&&e.redirectTo&&(t.isString(e.redirectTo)?o.path(h(e.redirectTo,e.params)).search(e.params).replace():o.url(e.redirectTo(e.pathParams,o.path(),o.search())).replace()),r.when(e).then(function(){if(e){var n,i,o=t.extend({},e.resolve);return t.forEach(o,function(e,n){o[n]=t.isString(e)?s.get(e):s.invoke(e)}),t.isDefined(n=e.template)?t.isFunction(n)&&(n=n(e.params)):t.isDefined(i=e.templateUrl)&&(t.isFunction(i)&&(i=i(e.params)),i=c.getTrustedResourceUrl(i),t.isDefined(i)&&(e.loadedTemplateUrl=i,n=l.get(i,{cache:u}).then(function(e){return e.data}))),t.isDefined(n)&&(o.$template=n),r.all(o)}}).then(function(o){e==g.current&&(e&&(e.locals=o,t.copy(e.params,a)),n.$broadcast("$routeChangeSuccess",e,i))},function(t){e==g.current&&n.$broadcast("$routeChangeError",e,i,t)}))}function p(){var n,a;return t.forEach(i,function(i){!a&&(n=d(o.path(),i))&&(a=e(i,{params:t.extend({},o.search(),n),pathParams:n}),a.$$route=i)}),a||i[null]&&e(i[null],{params:{},pathParams:{}})}function h(e,n){var i=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)i.push(e);else{var o=e.match(/(\w+)(.*)/),a=o[1];i.push(n[a]),i.push(o[2]||""),delete n[a]}}),i.join("")}var m=!1,g={routes:i,reload:function(){m=!0,n.$evalAsync(f)}};return n.$on("$locationChangeSuccess",f),g}]}function i(){this.$get=function(){return{}}}function o(e,n,i,o,a){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,s,l,u,c){function d(){p&&(p.$destroy(),p=null),h&&(a.leave(h),h=null)}function f(){var l=e.current&&e.current.locals,u=l&&l.$template;if(u){var f=r.$new();c(f,function(c){c.html(u),a.enter(c,null,h||s,function(){!t.isDefined(m)||m&&!r.$eval(m)||n()}),d();var v=i(c.contents()),y=e.current;if(p=y.scope=f,h=c,y.controller){l.$scope=p;var b=o(y.controller,l);y.controllerAs&&(p[y.controllerAs]=b),c.data("$ngControllerController",b),c.children().data("$ngControllerController",b)}v(p),p.$emit("$viewContentLoaded"),p.$eval(g)})}else d()}var p,h,m=l.autoscroll,g=l.onload||"";r.$on("$routeChangeSuccess",f),f()}}}var a=t.module("ngRoute",["ng"]).provider("$route",n);a.provider("$routeParams",i),a.directive("ngView",o),o.$inject=["$route","$anchorScroll","$compile","$controller","$animate"]}(window,window.angular),define("angular-route",["angular"],function(){}),define("routes",["angular","user","audio-player","angular-route"],function(e,t,n){var i=e.module("soundrocket.routes",["ngRoute",t.name,n.name]);return i.config(["$locationProvider","$routeProvider",function(e,t){e.html5Mode(!0),t.when("/",{templateUrl:"templates/home/home.html",controller:"HomeCtrl",pageTitle:"Welcome",authenticated:!1}).when("/settings/:id",{templateUrl:"templates/settings/settings.html",controller:"SettingsCtrl",pageTitle:"Settings",authenticated:!0}).when("/search",{templateUrl:"templates/track-search/track-search-results.html",controller:"TrackSearchResultsCtrl",pageTitle:"Search",authenticated:!0}).when("/artist/:artist",{templateUrl:"templates/artist-info/artist-info.html",controller:"ArtistInfoCtrl",pageTitle:"About artist",authenticated:!0}).when("/track/:artist/:track",{templateUrl:"templates/track-info/track-info.html",controller:"TrackInfoCtrl",pageTitle:"About track",authenticated:!0}).when("/:user",{templateUrl:"templates/track-group/track-group.html",controller:"TrackGroupCtrl",pageTitle:"Home",authenticated:!0}).when("/:user/tracks/:group",{templateUrl:"templates/track-group/track-group.html",controller:"TrackGroupCtrl",pageTitle:"Track group",authenticated:!0}).when("/:user/playlist/:name",{templateUrl:"templates/playlist/playlist.html",controller:"PlaylistCtrl",pageTitle:"Playlist",authenticated:!0}).otherwise({redirectTo:"/"})}]),i.run(["$rootScope","$window","$location","userMdl","audioPlayerSrv",function(e,t,n,i,o){function a(e){var n=t.document.title,i=n.indexOf("-"),o=n.substring(0,i+1);t.document.title=o+" "+e}e.$on("$locationChangeStart",function(e,t){var o=i.isLoggedIn(),a=i.hasInvitation();o&&(a?t.lastIndexOf("/")===t.length-1&&n.path("/"+i.getNickname()):n.path("/settings/account"))}),e.$on("$routeChangeStart",function(e,t){var a=i.isLoggedIn();!a&&t.$$route.authenticated?n.path("/"):"HomeCtrl"===t.$$route.controller&&o.stop()}),e.$on("$routeChangeSuccess",function(e,t){i.isLoggedIn()?i.getUser().then(function(e){a(e.name+" - "+t.$$route.pageTitle)}):a(t.$$route.pageTitle)})}]),i}),define("text",["module"],function(e){var t,n,i,o,a,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,c=u&&location.protocol&&location.protocol.replace(/\:/,""),d=u&&location.hostname,f=u&&(location.port||void 0),p={},h=e.config&&e.config()||{};return t={version:"2.0.10",strip:function(e){if(e){e=e.replace(s,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:h.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=r[t];try{e=new ActiveXObject(n)}catch(i){}if(e){r=[n];break}}return e},parseName:function(e){var t,n,i,o=!1,a=e.indexOf("."),r=0===e.indexOf("./")||0===e.indexOf("../");return-1!==a&&(!r||a>1)?(t=e.substring(0,a),n=e.substring(a+1,e.length)):t=e,i=n||t,a=i.indexOf("!"),-1!==a&&(o="strip"===i.substring(a+1),i=i.substring(0,a),n?n=i:t=i),{moduleName:t,ext:n,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,o){var a,r,s,l=t.xdRegExp.exec(e);return l?(a=l[2],r=l[3],r=r.split(":"),s=r[1],r=r[0],!(a&&a!==n||r&&r.toLowerCase()!==i.toLowerCase()||(s||r)&&s!==o)):!0},finishLoad:function(e,n,i,o){i=n?t.strip(i):i,h.isBuild&&(p[e]=i),o(i)},load:function(e,n,i,o){if(o.isBuild&&!o.inlineText)return i(),void 0;h.isBuild=o.isBuild;var a=t.parseName(e),r=a.moduleName+(a.ext?"."+a.ext:""),s=n.toUrl(r),l=h.useXhr||t.useXhr;return 0===s.indexOf("empty:")?(i(),void 0):(!u||l(s,c,d,f)?t.get(s,function(n){t.finishLoad(e,a.strip,n,i)},function(e){i.error&&i.error(e)}):n([r],function(e){t.finishLoad(a.moduleName+"."+a.ext,a.strip,e,i)}),void 0)},write:function(e,n,i){if(p.hasOwnProperty(n)){var o=t.jsEscape(p[n]);i.asModule(e+"!"+n,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,n,i,o,a){var r=t.parseName(n),s=r.ext?"."+r.ext:"",l=r.moduleName+s,u=i.toUrl(r.moduleName+s)+".js";t.load(l,i,function(){var n=function(e){return o(u,e)};n.asModule=function(e,t){return o.asModule(e,u,t)},t.write(e,l,n,a)},a)}},"node"===h.env||!h.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),t.get=function(e,t,i){try{var o=n.readFileSync(e,"utf8");0===o.indexOf("﻿")&&(o=o.substring(1)),t(o)}catch(a){i(a)}}):"xhr"===h.env||!h.env&&t.createXhr()?t.get=function(e,n,i,o){var a,r=t.createXhr();if(r.open("GET",e,!0),o)for(a in o)o.hasOwnProperty(a)&&r.setRequestHeader(a.toLowerCase(),o[a]);h.onXhr&&h.onXhr(r,e),r.onreadystatechange=function(){var t,o;4===r.readyState&&(t=r.status,t>399&&600>t?(o=new Error(e+" HTTP status: "+t),o.xhr=r,i(o)):n(r.responseText),h.onXhrComplete&&h.onXhrComplete(r,e))},r.send(null)}:"rhino"===h.env||!h.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,i,o="utf-8",a=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),o)),l="";try{for(n=new java.lang.StringBuffer,i=s.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=s.readLine());)n.append(r),n.append(i);l=String(n.toString())}finally{s.close()}t(l)}:("xpconnect"===h.env||!h.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,o=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in i,t.get=function(e,t){var n,r,s,l={};a&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),n.init(s,1,0,!1),r=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),r.init(n,"utf-8",n.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(n.available(),l),r.close(),n.close(),t(l.value)}catch(u){throw new Error((s&&s.path||"")+": "+u)}}),t}),define("text!angular-ui-bootstrap-template/dialog/message.html",[],function(){return'<div class="modal-header">\n	<h3>{{ title }}</h3>\n</div>\n<div class="modal-body">\n	<p>{{ message }}</p>\n</div>\n<div class="modal-footer">\n	<button ng-repeat="btn in buttons" ng-click="close(btn.result)" class="btn" ng-class="btn.cssClass">{{ btn.label }}</button>\n</div>\n'}),define("text!angular-ui-bootstrap-template/alert/alert.html",[],function(){return"<div class='alert' ng-class='type && \"alert-\" + type'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n"}),define("text!templates/artist-info/artist-info.html",[],function(){return'<div class="artist-info push-bottom row-fluid">\r\n  <div class="span9 push-top">\r\n    <div class="row-fluid">\r\n      <div class="artist span3">\r\n        <h2 class="name">{{ artist.name }}</h2>\r\n        <sr-artwork data="artist"></sr-artwork>  \r\n      </div>\r\n      <div class="span9" ng-include="\'templates/artist-info/top-albums.html\'"></div>\r\n    </div>\r\n    \r\n    <div class="row-fluid">\r\n      <div class="bio span3">\r\n        <h4 class="section-heading">Bio</h4>\r\n        <div ng-bind-html="artist.bio"></div>\r\n      </div>\r\n      <div class="span9" ng-include="\'templates/artist-info/top-tracks.html\'"></div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="span3 push-top">\r\n    <div ng-include="\'templates/artist-info/similar-artists.html\'"></div>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/artist-info/similar-artists.html",[],function(){return'<div class="similar-artists"\n     ng-controller="SimilarArtistsCtrl">\n  <h4 class="section-heading">Similar artists</h4>\n\n  <ul class="media-list">\n    <li ng-if="artists.length == 0">No similar artist found.</li>\n    <li class="media" ng-repeat="artist in artists">\n      <a class="thumbnail pull-left" href="/artist/{{ artist.name }}">\n        <sr-artwork data="artist"></sr-artwork>\n      </a>\n      <div class="media-body">\n        <h6 class="media-heading">\n          <a href="/artist/{{ artist.name }}">\n            {{ artist.name }}\n          </a>\n        </h6>\n      </div>\n    </li>\n  </ul>\n</div>\n'}),define("text!templates/artist-info/top-albums.html",[],function(){return'<div class="top-albums"\n     ng-controller="TopAlbumsCtrl">\n  <h4 class="section-heading">Top albums</h4>\n\n  <ul class="thumbnails">\n    <li ng-if="albums.length == 0">No top album found.</li>\n\n    <li ng-repeat="album in albums">\n      <div class="thumbnail">\n        <a class="dropdown-toggle" href="#" title="{{ album.name }}"\n           ng-click="$parent.loadAlbumTracks(album)">\n          <sr-artwork data="album"></sr-artwork>  \n        </a>\n        \n        <div class="dropdown-menu">\n          <h6>{{ album.name }}</h6>\n          <span class="divider"></span>\n          <ul class="nav nav-pills nav-stacked" sr-no-scroll-propagation>\n            <li ng-if="album.tracks.length == 0">No track found.</li>\n  \n            <li ng-repeat="track in album.tracks">\n              <a href="/track/{{ album.artist }}/{{ track.name }}">{{ track.name }}</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </li>\n  </ul>\n</div>\n'}),define("text!templates/artist-info/top-tracks.html",[],function(){return'<div class="top-tracks"\n     ng-controller="TopTracksCtrl">\n  <div class="row-fluid section-heading">\n    <h4 class="span8">Top tracks</h4>\n    <div class="span4">\n      <a class="pull-right"\n         href="/search?q={{ artist }}">Search more tracks...</a>  \n    </div>\n  </div>\n  \n  <div class="track-list-actions">\n    <span ng-show="tracks.length">{{ tracks.length }}</span>\n    <ng-pluralize count="tracks.length"\n        when="{ \'0\': \'\',\n                \'1\': \'track\',\n                \'other\': \'tracks\' }">\n    </ng-pluralize>\n    <sr-track-actions tracks="tracks" options="tracksActionsOptions"></sr-track-actions>\n  </div>\n\n  <ul class="track-list">\n    <li ng-repeat="track in tracks">\n      <sr-track track="track"></sr-track>\n    </li>\n  </ul>\n</div>\n'}),define("text!templates/audio-player/audio-player.html",[],function(){return'<div ng-controller="AudioPlayerCtrl"\r\n     sr-keyboard-shortcut="{ p: \'previous()\', space: \'togglePlay()\',\r\n                             n: \'next()\', r: \'toggleRepeat()\',\r\n                             q: \'toggleQueue()\', l: \'toggleLoveStatus()\' }">\r\n  <div ng-include="\'templates/audio-player/audio-player-queue.html\'"></div>\r\n  \r\n  <div class="navbar navbar-inverse navbar-fixed-bottom">\r\n    <div class="navbar-inner">    \r\n      <div class="row-fluid audio-player">    \r\n        <div class="span3 button-bar middle">\r\n          <div class="pull-right">\r\n            <button class="btn btn-clean" ng-click="previous()">\r\n              <i class="icon-step-backward icon-large"></i>\r\n            </button>\r\n            <button class="btn btn-clean" ng-click="togglePlay()">\r\n              <i class="icon-large" ng-class="{ \'icon-play\': !isPlaying, \'icon-pause\': isPlaying }"></i>\r\n            </button>\r\n            <button class="btn btn-clean" ng-click="next()">\r\n              <i class="icon-step-forward icon-large"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="span6 hidden-phone">\r\n          <div class="row-fluid">\r\n            <div class="span2">\r\n              <a class="pull-right" href="/track/{{ song.artist }}/{{ song.name }}?trackId={{ song.trackId }}">\r\n                <sr-artwork data="song"></sr-artwork>\r\n              </a>\r\n            </div>\r\n\r\n            <div class="span10 track-info">\r\n              <div class="row-fluid">\r\n                <div class="span1 button-bar">\r\n                  <button class="btn btn-clean" title="Love"\r\n                          ng-click="toggleLoveStatus()"\r\n                          ng-show="song">\r\n                    <i ng-class="{ \'icon-heart\': song.loved, \'icon-heart-empty\': !song.loved }"></i>\r\n                  </button>\r\n                </div>\r\n                <div class="span11">\r\n                  <a href="/artist/{{ song.artist }}">\r\n                    {{ song.artist }}\r\n                  </a>\r\n                </div>\r\n              </div>\r\n                \r\n              <div class="row-fluid">\r\n                <div class="span1">\r\n                  <a href="{{ song.linkUrl }}" title="{{ song.source }}" target="_blank"\r\n                     ng-if="song" ng-click="$event.stopPropagation()">\r\n                    <img class="source" alt="{{ song.source }}"\r\n                         ng-src="/tomahawk/resolvers/{{ song.source }}/icon.png">\r\n                  </a>\r\n                </div>\r\n                <div class="span11">\r\n                  <a href="/track/{{ song.artist }}/{{ song.name }}?trackId={{ song.trackId }}">\r\n                    {{ song.name }}\r\n                  </a>\r\n                </div>\r\n              </div>\r\n\r\n              <sr-track-progress></sr-track-progress>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="span3 button-bar middle">\r\n          <button class="btn btn-clean" ng-class="{ active: shouldRepeat }" ng-click="toggleRepeat()">\r\n            <i class="icon-retweet icon-large"></i>\r\n          </button>\r\n          <button class="btn btn-clean" ng-class="{ active: shouldOpenQueue }" ng-click="toggleQueue()">\r\n            <i class="icon-list icon-large"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/audio-player/audio-player-queue.html",[],function(){return'<div class="audio-player-queue container animate-show"\n     ng-controller="AudioPlayerQueueCtrl"\n     ng-show="shouldBeOpen">\n  <div class="modal-header">\n    <div class="row-fluid">\n      <div class="span6">\n        <h4>Queue</h4>\n      </div>\n      <div class="span6">\n        <button class="btn btn-primary pull-right"\n                ng-click="close()">\n          Close\n        </button>\n      </div>\n    </div>\n  </div>\n  \n  <div class="modal-body" sr-no-scroll-propagation>\n    <div class="track-list-actions">\n      <span ng-show="songs.length">{{ songs.length }}</span>\n      <ng-pluralize count="songs.length"\n        when="{ \'0\': \'empty\',\n                \'1\': \'track\',\n                \'other\': \'tracks\' }">\n      </ng-pluralize>\n      <sr-track-actions tracks="songs" options="songsActionsOptions"\n                        on-remove="dequeue(tracks)"></sr-track-actions>\n    </div>\n    \n    <ul class="track-list">\n      <li ng-repeat="song in songs">\n        <sr-track track="song" options="songOptions" on-remove="dequeue(track)"></sr-track>\n      </li>\n    </ul>\n  </div>\n</div>\n'}),define("text!templates/home/home.html",[],function(){return'<div class="home">\r\n  <div class="row-fluid">\r\n    <div class="span6 introduction">\r\n      <p>\r\n        <span><strong>A new music experience.</strong></span>\r\n        <br />\r\n        <span>Now in private beta.</span>\r\n      </p>\r\n    </div>\r\n\r\n    <div class="span5 offset1 oauths">\r\n      <button class="btn btn-oauth btn-oauth-google" ng-click="signIn(\'google\')">\r\n        <i class="icon-google-plus-sign icon-2x btn-oauth-icon"></i>\r\n        Sign-in with Google\r\n      </button>\r\n\r\n      <button class="btn btn-oauth btn-oauth-facebook" ng-click="signIn(\'facebook\')">\r\n        <i class="icon-facebook-sign icon-2x btn-oauth-icon"></i>\r\n        Sign-in with Facebook\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <footer>\r\n    <p>\r\n      &copy; 2013 stereobuns\r\n    </p>\r\n    <span> - </span>\r\n    <ul class="links">\r\n      <li>\r\n        <a href="mailto:{{ contactAddress }}">contact us</a>\r\n      </li>\r\n    </ul>\r\n  </footer>\r\n</div>\r\n'}),define("text!templates/keyboard-shortcuts/keyboard-shortcuts.html",[],function(){return'<div class="modal-header">\n  <h3>Keyboard Shortcuts</h3>\n</div>\n<div class="modal-body">\n  <div class="row-fluid keyboard-shortcuts">\n    <div class="span6">\n      <h4>Navigation</h4>\n      <dl>\n        <dt>\n          <xkb>h</xkb>\n        </dt>\n        <dd>This help</dd>\n        <dt>\n          <xkb>esc</xkb>\n        </dt>\n        <dd>Close dialog window</dd>\n      </dl>\n    </div>\n    <div class="span6">\n      <h4>Player</h4>\n      <dl>\n        <dt>\n          <xkb>Space</xkb>\n        </dt>\n        <dd>Toggle play & pause</dd>\n        <dt>\n          <xkb>p</xkb>\n        </dt>\n        <dd>Previous song</dd>\n        <dt>\n          <xkb>n</xkb>\n        </dt>\n        <dd>Next song</dd>\n        <dt>\n          <xkb>r</xkb>\n        </dt>\n        <dd>Toggle repeat mode</dd>\n        <dt>\n          <xkb>q</xkb>\n        </dt>\n        <dd>Open/Close the queue</dd>\n        <dt>\n          <xkb>l</xkb>\n        </dt>\n        <dd>Love/Unlove playing song</dd>\n      </dl>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-primary" ng-click="close()">Close</button>\n</div>\n'}),define("text!templates/settings/settings.html",[],function(){return'<div class="settings push-bottom row-fluid">\n  <div class="span2">\n    <div class="push-top">\n      <ul class="nav nav-pills nav-stacked">\n        <li class="active">\n          <a href="/settings/account">\n            Account\n            <i class="icon-caret-right pull-right"></i>\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n  \n  <div class="span10">\n    <div class="heading well well-small">\n      <h2>Account</h2>\n      <p>Change your personal account settings</p>\n    </div>\n\n    <alert ng-if="error"\n           type="error.isBusiness ? \'warning\' : \'error\'"\n           close="closeErrorAlert()">\n      <strong>{{ error.title }} </strong>\n      {{ error.message }}\n    </alert>\n    \n    <form class="form-horizontal"\n          name="invitationForm"\n          ng-submit="setInvitationCode()"\n          novalidate>\n      <fieldset>\n        <legend>Invitation</legend>\n\n        <div ng-switch on="hasInvitation">\n          <div ng-switch-when="true" class="alert alert-success">\n            <strong>Hooray! </strong>\n            You have access to stereobuns.\n          </div>\n\n          <div ng-switch-default>\n            <div class="alert alert-info">\n              <strong>Hey, </strong>\n              Enter your invitation code to unlock stereobuns. \n            </div>\n        \n            <div class="control-group">\n              <label class="control-label" for="codeInput">Code</label>\n              <div class="controls">\n                <input type="text" id="codeInput" name="codeInput"\n                       placeholder="ex: 21EC20203AEA"\n                       ng-model="$parent.invitationCode"\n                       required\n                       ng-pattern="/^[0-9a-f]{12}$/i">\n                <span class="error" ng-show="invitationForm.codeInput.$error.required">Required!</span>\n                <span class="error" ng-show="invitationForm.codeInput.$error.pattern">Invalid format!</span>\n              </div>\n            </div>\n\n            <div class="control-group">\n              <div class="controls">\n                <button type="submit" class="btn">Submit</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </fieldset>\n    </form>\n\n    <fieldset>\n      <legend>Delete Account</legend>\n\n      <div class="alert">\n        <strong>Warning! </strong>\n        This operation cannot be undone. Please be certain.\n      </div>\n\n      <a href="#" class="btn btn-danger"\n         ng-click="openDeleteConfirmationBox(); $event.preventDefault()">Delete your account</a>\n    </fieldset>\n  </div>\n</div>\n'}),define("text!templates/track/track.html",[],function(){return'<div class="track">\n  <a href="/track/{{ track.artist }}/{{ track.name }}?trackId={{ track.trackId }}"\n     class="thumbnail">\n    <sr-artwork data="track"></sr-artwork>\n  </a>\n\n  <div class="track-heading">\n    <div class="track-player">\n      <img src="/img/vinyl.png" class="vinyl"\n           ng-class="{ play: isPlaying }">\n      <button class="btn btn-clean play" title="Play"\n              ng-click="togglePlay(); $event.stopPropagation()" ng-if="!isPlaying">\n        <i class="icon-play icon-large"></i>\n      </button>\n      <button class="btn btn-clean pause" title="Pause"\n              ng-click="togglePlay(); $event.stopPropagation()" ng-if="isPlaying">\n        <i class="icon-pause icon-large"></i>\n      </button>\n    </div>\n      \n    <h4 class="track-artist">\n      <a href="/artist/{{ track.artist }}">\n        {{ track.artist }}\n      </a>\n    </h4>\n  </div>\n  \n  <p>\n    <a href="/track/{{ track.artist }}/{{ track.name }}?trackId={{ track.trackId }}">\n      {{ track.name }}\n    </a>\n  </p>\n\n  <sr-track-progress ng-if="isPlaying"></sr-track-progress>\n    \n  <div class="row-fluid">\n    <div class="span8">\n      <sr-track-actions tracks="track" options="options"\n                        on-remove="remove(tracks)"></sr-track-actions>\n    </div>\n      \n    <div class="span4">\n      <p class="track-links pull-right">\n        <a href="{{ track.linkUrl }}" title="{{ track.source }}" target="_blank"\n           ng-click="$event.stopPropagation()">\n          <img class="source" alt="{{ track.source }}"\n               ng-src="/tomahawk/resolvers/{{ track.source }}/icon.png">\n        </a>\n      </p>\n    </div>\n  </div>\n</div>\n'}),define("text!templates/track/progress/track-progress.html",[],function(){return'<div class="track-progress">\r\n  <span class="progress-position">{{ progress.position | srTime }}</span>\r\n  <div class="progress">\r\n    <div class="bar bar-info" style="width: {{ progress.percentage + \'%\' }};"></div>\r\n    <div class="bar bar-success loading" style="width: {{ loadingPercentage + \'%\' }};"></div>\r\n  </div>\r\n  <span class="progress-duration">{{ progress.duration | srTime }}</span>\r\n</div>\r\n'}),define("text!templates/track-actions/track-actions.html",[],function(){return'<div class="track-actions"\n     ng-click="$event.stopPropagation()"\n     ng-show="shouldBeVisible">\n  <div class="btn-group" ng-show="options.playlists">\n    <button class="btn dropdown-toggle" title="Add to playlist">\n      <i class="icon-reorder"></i>\n      Add to playlist\n    </button>\n    <div class="dropdown-menu">\n      <sr-playlist-chooser tracks="tracks" options="playlistsOptions"></sr-playlist-chooser>\n    </div>\n  </div>\n  \n  <button class="btn" title="Play" ng-click="play()" ng-show="options.play">\n    <i class="icon-play"></i>\n    Play\n  </button>\n  \n  <button class="btn" title="Queue" ng-click="queue()" ng-show="options.queue">\n    <i class="icon-plus"></i>\n    Queue\n  </button>\n  \n  <button class="btn" title="Love"\n          ng-click="toggleLove()"\n          ng-if="options.loved && !isMulti"\n          ng-switch="tracks.loved">\n    <i ng-class="{ \'icon-heart\': tracks.loved, \'icon-heart-empty\': !tracks.loved }"></i>\n    <span ng-switch-when="true"></span>\n    <span ng-switch-default="">Love</span>\n  </button>\n  \n  <button class="btn btn-danger" title="Remove" ng-click="remove()" ng-show="options.remove">\n    <i class="icon-remove"></i>\n  </button>\n</div>\n'
}),define("text!templates/track-info/track-info.html",[],function(){return'<div class="track-info push-bottom row-fluid">\r\n  <div class="span9 push-top">\r\n    <a class="pull-right"\r\n       href="/search?q={{ song.artist }} {{ song.name }}"\r\n       ng-show="song">More results...</a>  \r\n    <sr-track track="song"></sr-track>\r\n    <form name="commentForm"\r\n          ng-submit="addComment()"\r\n          novalidate>\r\n      <input type="text" name="commentInput" class="input-block-level"\r\n             placeholder="Write a comment..."\r\n             maxlength="140"\r\n             ng-model="newComment"\r\n             required\r\n             ng-minlength="1"\r\n             ng-maxlength="140">\r\n    </form>\r\n    \r\n    <div class="comments">\r\n      <h4 class="section-heading">Comments</h4>\r\n    \r\n      <span ng-show="comments.length">{{ comments.length }}</span>\r\n      <ng-pluralize count="comments.length"\r\n          when="{ \'0\': \'Be the first to write a comment.\',\r\n                  \'1\': \'comment\',\r\n                  \'other\': \'comments\' }">\r\n      </ng-pluralize>\r\n      \r\n      <ul class="media-list">\r\n        <li class="media" ng-repeat="comment in comments">\r\n          <a class="thumbnail pull-left" href="/{{ comment._creator.name }}">\r\n            <img class="media-object" alt="{{ comment._creator.name }}"\r\n                 ng-src="{{ comment._creator.picture }}">\r\n          </a>\r\n          <div class="media-body">\r\n            <h6 class="media-heading">\r\n              <a href="/{{ comment._creator.name }}">\r\n                {{ comment._creator.name }}\r\n              </a>\r\n              <small>on {{ comment.createdAt | date: \'medium\' }}</small>\r\n            </h6>\r\n            {{ comment.body }}\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class="span3 push-top">\r\n    <div ng-include="\'templates/track-info/track-album.html\'"></div>\r\n    <div ng-include="\'templates/track-info/similar-tracks.html\'"></div>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/track-info/track-album.html",[],function(){return'<div class="track-album"\r\n     ng-controller="TrackAlbumCtrl">\r\n  <h4 class="section-heading">Featured on album</h4>\r\n  \r\n  <div ng-switch="album">\r\n    <p ng-switch-when="">\r\n      The album of this track has not been found.\r\n    </p>\r\n    \r\n    <div ng-switch-default>\r\n      <sr-artwork data="album"></sr-artwork>\r\n      <h5>{{ album.name }}</h5>\r\n      \r\n      <ul class="nav">\r\n        <li ng-if="album.tracks.length == 0">No track found.</li>\r\n      \r\n        <li ng-repeat="track in album.tracks">\r\n          <a href="/track/{{ song.artist }}/{{ track.name }}">{{ track.name }}</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/track-info/similar-tracks.html",[],function(){return'<div class="similar-tracks"\n     ng-controller="SimilarTracksCtrl">\n  <h4 class="section-heading">Similar tracks</h4>\n  \n  <ul class="media-list">\n    <li ng-if="!tracks.length">No similar track found.</li>\n\n    <li class="media" ng-repeat="track in tracks">\n      <a class="thumbnail pull-left" href="/track/{{ track.artist }}/{{ track.name }}">\n        <sr-artwork data="track"></sr-artwork>\n      </a>\n      <div class="media-body">\n        <h6 class="media-heading">\n          <a href="/artist/{{ track.artist }}">\n            {{ track.artist }}\n          </a>\n        </h6>\n        <a href="/track/{{ track.artist }}/{{ track.name }}">\n          {{ track.name }}\n        </a>\n      </div>\n    </li>\n  </ul>\n</div>\n'}),define("text!templates/track-group/track-group.html",[],function(){return'<div class="track-group push-bottom">\r\n  <div class="push-top">\r\n    <div ng-include="\'templates/user-profile/user-profile.html\'"></div>\r\n    <div ng-include="\'templates/user-profile/user-profile-menu.html\'"></div>\r\n\r\n    <div class="track-list-actions">\r\n      <span ng-show="tracks.length">{{ tracks.length }}</span>\r\n      <ng-pluralize count="tracks.length"\r\n          when="{ \'0\': \'\',\r\n                  \'1\': \'track\',\r\n                  \'other\': \'tracks\' }">\r\n      </ng-pluralize>\r\n      <sr-track-actions tracks="tracks" options="tracksActionsOptions"></sr-track-actions>\r\n    </div>\r\n\r\n    <div ng-include="noTrackTemplateUrl"></div>\r\n\r\n    <ul class="track-list">\r\n      <li ng-repeat="track in tracks">\r\n        <sr-track track="track" options="trackActionsOptions"></sr-track>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/track-group/empty-group.html",[],function(){return'<div ng-controller="EmptyGroupCtrl" class="well well-large well-transparent">\n  <i class="icon-info icon-4x icon-muted pull-left"></i>\n  <p ng-bind-html="message"></p>\n</div>\n'}),define("text!templates/track-search/track-search.html",[],function(){return'<form novalidate class="navbar-search pull-left" name="searchForm"\r\n      ng-controller="TrackSearchCtrl" ng-submit="search()">\r\n    <input type="text" class="search-query" name="queryField" placeholder="Search" ng-model="query" required>\r\n</form>\r\n'}),define("text!templates/track-search/track-search-results.html",[],function(){return'<div class="track-search-results push-bottom">\r\n  <div class="searching text-center" ng-if="isSearching">\r\n    <i class="icon-spinner icon-spin icon-large"></i> Searching...\r\n  </div>\r\n    \r\n  <div class="row-fluid" ng-hide="isSearching">\r\n    <div class="span2 push-top">\r\n      <h4>Filter</h4>\r\n      \r\n      <ul class="nav nav-pills nav-stacked" ng-show="tracks.length">\r\n        <li ng-class="{ active: !filter }">\r\n          <a href="#" ng-click="filterBy(); $event.preventDefault()">\r\n            No filter\r\n          </a>\r\n        </li>\r\n        <li ng-class="{ active: filter == \'artist\' }">\r\n          <a href="#" ng-click="filterBy(\'artist\'); $event.preventDefault()">\r\n            Artist name\r\n          </a>\r\n        </li>\r\n        <li ng-class="{ active: filter == \'name\' }">\r\n          <a href="#" ng-click="filterBy(\'name\'); $event.preventDefault()">\r\n            Track name\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n      \r\n    <div class="span10">\r\n      <form novalidate class="form-search" name="searchForm"\r\n            ng-controller="TrackSearchCtrl"\r\n            ng-submit="search()"\r\n            ng-init="query = $parent.searchQuery">\r\n        <input type="text" name="queryField" placeholder="Search"\r\n               class="search-query input-block-level"\r\n               ng-model="query"\r\n               required>\r\n      </form>\r\n      \r\n      <div class="track-list-actions">\r\n        <span ng-show="filteredTracks.length">{{ filteredTracks.length }}</span>\r\n        <ng-pluralize count="filteredTracks.length"\r\n            when="{ \'0\': \'no track\',\r\n                    \'1\': \'track\',\r\n                    \'other\': \'tracks\' }">\r\n        </ng-pluralize>\r\n        <span ng-show="filteredTracks.length">found</span>\r\n      </div>\r\n      \r\n      <ul class="track-list">\r\n        <li ng-repeat="track in filteredTracks">\r\n          <sr-track track="track"></sr-track>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/user/user-menu.html",[],function(){return'<div class="user-menu"\r\n     ng-controller="UserMenuCtrl"\r\n     sr-keyboard-shortcut="{ h: \'openKeyboardShortcuts()\' }">\r\n\r\n  <div class="dropdown visible-desktop" ng-init="isOpen = false">\r\n    <button class="btn btn-clean dropdown-toggle" ng-class="{ active: isOpen }" ng-click="isOpen = !isOpen">\r\n      <img alt="{{ user.name }}" ng-src="{{ user.picture }}">\r\n      {{ user.name }}\r\n      <i class="icon-caret-down icon-large"></i>\r\n    </button>\r\n    <ul class="dropdown-menu">\r\n      <li>\r\n        <a href="#" ng-click="openKeyboardShortcuts(); $event.preventDefault()">Keyboard shortcuts</a>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li>\r\n        <a href="/settings/account">Settings</a>\r\n      </li>\r\n      <li>\r\n        <a href="#" ng-click="signOut(); $event.preventDefault()">Sign out</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  \r\n  <div class="hidden-desktop">\r\n    <img alt="{{ user.name }}" ng-src="{{ user.picture }}">\r\n    {{ user.name }}\r\n    <ul class="nav nav-pills nav-stacked">\r\n      <li>\r\n        <a href="/settings/account">Settings</a>\r\n      </li>\r\n      <li>\r\n        <a href="#" ng-click="signOut(); $event.preventDefault()">Sign out</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/user-profile/user-profile.html",[],function(){return'<div class="user-profile media"\r\n     ng-controller="UserProfileCtrl">\r\n  <span class="pull-left">\r\n    <img alt="{{ user.name }}" class="media-object" ng-src="{{ user.picture }}">\r\n  </span>\r\n  <div class="media-body">\r\n    <h4>{{ user.name }}</h4>\r\n  </div>\r\n</div>\r\n'}),define("text!templates/user-profile/user-profile-menu.html",[],function(){return'<ul class="user-profile-menu nav nav-tabs"\r\n    ng-controller="UserProfileMenuCtrl">\r\n  <li ng-repeat="songsGroup in songsGroups"\r\n      ng-class="{ active: $parent.isCurrentSongsGroup(songsGroup) }">\r\n    <a href="/{{ userName }}/tracks/{{ songsGroup.id }}">\r\n      <i class="{{ songsGroup.icon }}"></i>\r\n      {{ songsGroup.name }}\r\n    </a>\r\n  </li>\r\n  \r\n  <li class="dropdown"\r\n      ng-class="{ active: isPlaylist }">\r\n    <a class="dropdown-toggle" href="#">\r\n      <i class="icon-reorder"></i>\r\n      Playlists\r\n      <span class="badge">{{ playlists.length }}</span>\r\n      <i class="icon-caret-down"></i>\r\n    </a>\r\n    <ul class="dropdown-menu">\r\n      <li ng-if="!playlists.length">{{ noPlaylistMessage }}</li>\r\n    \r\n      <li ng-repeat="playlist in playlists"\r\n          ng-class="{ active: $parent.isCurrentPlaylist(playlist) }">\r\n        <a href="/{{ userName }}/playlist/{{ playlist.name | lowercase | srEncode }}">\r\n          {{ playlist.name }}<span class="badge pull-right">{{ playlist.length }}</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </li>\r\n</ul>\r\n'}),define("text!templates/playlist/playlist.html",[],function(){return'<div class="playlist push-bottom">\n  <div class="push-top">\n    <div ng-include="\'templates/user-profile/user-profile.html\'"></div>\n    <div ng-include="\'templates/user-profile/user-profile-menu.html\'"></div>\n  \n    <div class="header">\n      <h2>{{ playlistName }}</h2>\n      <a href="#" class="btn btn-danger"\n         ng-if="canBeDeleted"\n         ng-click="openDeleteConfirmationBox(); $event.preventDefault()">Delete this playlist</a>\n    </div>\n    \n    <div class="track-list-actions">\n      <span ng-show="tracks.length">{{ tracks.length }}</span>\n      <ng-pluralize count="tracks.length"\n          when="{ \'0\': \'\',\n                  \'1\': \'track\',\n                  \'other\': \'tracks\' }">\n      </ng-pluralize>\n      <sr-track-actions tracks="tracks" options="tracksActionsOptions"\n                        on-remove="remove(tracks)"></sr-track-actions>\n    </div>\n\n    <div ng-include="emptyPlaylistMessageTemplateUrl"></div>\n\n    <ul class="track-list">\n      <li ng-repeat="track in tracks">\n        <sr-track track="track" options="trackOptions" on-remove="$parent.remove(track)"></sr-track>\n      </li>\n    </ul>\n  </div>\n</div>\n'}),define("text!templates/playlist/empty-playlist.html",[],function(){return'<div ng-controller="EmptyPlaylistCtrl" class="well well-large well-transparent">\n  <i class="icon-info icon-4x icon-muted pull-left"></i>\n  <p ng-bind-html="message"></p>\n</div>\n'}),define("text!templates/playlist/chooser/playlist-chooser.html",[],function(){return'<div class="playlist-chooser">\n  <ul class="nav nav-pills nav-stacked" sr-no-scroll-propagation>\n    <li ng-repeat="playlist in playlists">\n      <a href="#" ng-click="$parent.addToPlaylist(playlist); $event.preventDefault()">{{ playlist.name }}</a>\n    </li>\n  </ul>\n  <span class="divider"></span>\n  <form class="form-inline" name="playlistForm" ng-submit="createPlaylist()" ng-click="$event.stopPropagation()">\n    <input type="text" placeholder="Name your new playlist" class="input-medium" name="nameField"\n           ng-model="newPlaylistName" required maxlength="20">\n    <input type="submit" class="btn" value="Create">\n  </form>\n</div>\n'}),function(e,t,n){t.module("ngAnimate",["ng"]).config(["$provide","$animateProvider",function(i,o){var a=t.noop,r=t.forEach,s=o.$$selectors,l=1,u="$$ngAnimateState",c="ng-animate",d={running:!0};i.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$timeout","$rootScope","$document",function(e,n,i,o,f,p){function h(e){if(e){var t=[],o={},a=e.substr(1).split(".");(i.transitions||i.animations)&&a.push("");for(var r=0;r<a.length;r++){var l=a[r],u=s[l];u&&!o[l]&&(t.push(n.get(u)),o[l]=!0)}return t}}function m(e,t,n,i,o,s,l){function d(e){if(s(),e===!0)return g(),void 0;var t=n.data(u);t&&(t.done=g,n.data(u,t)),p(T,"after",g)}function p(i,o,s){function l(e,t){var n=t+"Complete",o=i[e];o[n]=!0,(o[u]||a)();for(var r=0;r<i.length;r++)if(!i[r][n])return;s()}var u=o+"End";r(i,function(i,a){var r=function(){l(a,o)};return"before"!=o||"enter"!=e&&"move"!=e?(i[o]?i[u]=k?i[o](n,t,r):i[o](n,r):r(),void 0):(r(),void 0)})}function m(){l&&f(l,0,!1)}function g(){if(!g.hasBeenRun){g.hasBeenRun=!0;var e=n.data(u);e&&(k?y(n):(e.closeAnimationTimeout=f(function(){y(n)},0,!1),n.data(u,e))),m()}}var x=(n.attr("class")||"")+" "+t,w=(" "+x).replace(/\s+/g,".");i||(i=o?o.parent():n.parent());var $=h(w),k="addClass"==e||"removeClass"==e,C=n.data(u)||{};if(b(n,i)||0===$.length)return s(),g(),void 0;var T=[];return C.running&&k&&C.structural||r($,function(i){if(!i.allowCancel||i.allowCancel(n,e,t)){var o,a=i[e];"leave"==e?(o=a,a=null):o=i["before"+e.charAt(0).toUpperCase()+e.substr(1)],T.push({before:o,after:a})}}),0===T.length?(s(),m(),void 0):(C.running&&(f.cancel(C.closeAnimationTimeout),y(n),v(C.animations),(C.done||a)(!0)),"addClass"==e&&n.hasClass(t)||"removeClass"==e&&!n.hasClass(t)?(s(),m(),void 0):(n.addClass(c),n.data(u,{running:!0,structural:!k,animations:T,done:d}),p(T,"before",d),void 0))}function g(e){var n=e[0];n.nodeType==l&&r(n.querySelectorAll("."+c),function(e){e=t.element(e);var n=e.data(u);n&&(v(n.animations),y(e))})}function v(e){var t=!0;r(e,function(n){e.beforeComplete||(n.beforeEnd||a)(t),e.afterComplete||(n.afterEnd||a)(t)})}function y(e){e[0]==o[0]?d.disabled||(d.running=!1,d.structural=!1):(e.removeClass(c),e.removeData(u))}function b(e,t){if(d.disabled)return!0;if(e[0]==o[0])return d.disabled||d.running;do{if(0===t.length)break;var n=t[0]==o[0],i=n?d:t.data(u),a=i&&(!!i.disabled||!!i.running);if(n||a)return a;if(n)return!0}while(t=t.parent());return!0}return o.data(u,d),p.$$postDigest(function(){d.running=!1}),{enter:function(t,n,i,o){this.enabled(!1,t),e.enter(t,n,i),p.$$postDigest(function(){m("enter","ng-enter",t,n,i,a,o)})},leave:function(t,n){g(t),this.enabled(!1,t),p.$$postDigest(function(){m("leave","ng-leave",t,null,null,function(){e.leave(t)},n)})},move:function(t,n,i,o){g(t),this.enabled(!1,t),e.move(t,n,i),p.$$postDigest(function(){m("move","ng-move",t,n,i,a,o)})},addClass:function(t,n,i){m("addClass",n,t,null,null,function(){e.addClass(t,n)},i)},removeClass:function(t,n,i){m("removeClass",n,t,null,null,function(){e.removeClass(t,n)},i)},enabled:function(e,t){switch(arguments.length){case 2:if(e)y(t);else{var n=t.data(u)||{};n.disabled=!0,t.data(u,n)}break;case 1:d.disabled=!e;break;default:e=!d.disabled}return!!e}}}]),o.register("",["$window","$sniffer","$timeout",function(i,o,s){function u(e){j.push(e),s.cancel(_),_=s(function(){r(j,function(e){e()}),j=[],_=null,q={}},10,!1)}function c(e,t){var n=e.getAttribute("style")||"",i=(n.length>0?"; ":"")+t;return e.setAttribute("style",i),n}function d(e,t){var n=t?q[t]:null;if(!n){var o,a,s,u,c=0,d=0,p=0,h=0;r(e,function(e){if(e.nodeType==l){var t=i.getComputedStyle(e)||{};s=t[$+E],c=Math.max(f(s),c),u=t[$+M],o=t[$+D],d=Math.max(f(o),d),a=t[C+D],h=Math.max(f(a),h);var n=f(t[C+E]);n>0&&(n*=parseInt(t[C+P],10)||1),p=Math.max(n,p)}}),n={total:0,transitionPropertyStyle:u,transitionDurationStyle:s,transitionDelayStyle:o,transitionDelay:d,transitionDuration:c,animationDelayStyle:a,animationDelay:h,animationDuration:p},t&&(q[t]=n)}return n}function f(e){var n=0,i=t.isString(e)?e.split(/\s*,\s*/):[];return r(i,function(e){n=Math.max(parseFloat(e)||0,n)}),n}function p(e){var t=e.parent(),n=t.data(N);return n||(t.data(N,++B),n=B),n+"-"+e[0].className}function h(e,t){var n=p(e),i=n+" "+t,o={},a=q[i]?++q[i].total:0;if(a>0){var s=t+"-stagger",l=n+" "+s,u=!q[l];u&&e.addClass(s),o=d(e,l),u&&e.removeClass(s)}e.addClass(t);var c=d(e,i),f=Math.max(c.transitionDuration,c.animationDuration);if(0===f)return e.removeClass(t),!1;var h=e[0],m="";return c.transitionDuration>0&&(e.addClass(L),m+=A+" ",h.style[$+M]="none"),r(t.split(" "),function(e,t){m+=(t>0?" ":"")+e+"-active"}),e.data(O,{className:t,activeClassName:m,maxDuration:f,classes:t+" "+m,timings:c,stagger:o,ii:a}),!0}function m(e,t,n){function i(e){e.stopPropagation();var t=e.originalEvent||e,i=t.$manualTimeStamp||t.timeStamp||Date.now();Math.max(i-m,0)>=h&&t.elapsedTime>=f&&n()}var a=e.data(O);if(!e.hasClass(t)||!a)return n(),void 0;var r,s,l=e[0],u=a.timings,d=a.stagger,f=a.maxDuration,p=a.activeClassName,h=1e3*Math.max(u.transitionDelay,u.animationDelay),m=Date.now(),v=T+" "+k,y=a.ii,b="";if(u.transitionDuration>0){l.style[$+M]="";var w=u.transitionPropertyStyle;if(-1==w.indexOf("all")){s=!0;var C=o.msie?"-ms-zoom":"clip";b+=S+"transition-property: "+w+", "+C+"; ",b+=S+"transition-duration: "+u.transitionDurationStyle+", "+u.transitionDuration+"s; "}}if(y>0){if(d.transitionDelay>0&&0===d.transitionDuration){var _=u.transitionDelayStyle;s&&(_+=", "+u.transitionDelay+"s"),b+=S+"transition-delay: "+g(_,d.transitionDelay,y)+"; "}d.animationDelay>0&&0===d.animationDuration&&(b+=S+"animation-delay: "+g(u.animationDelayStyle,d.animationDelay,y)+"; ")}return b.length>0&&(r=c(l,b)),e.on(v,i),e.addClass(p),function(){e.off(v,i),e.removeClass(p),x(e,t),null!=r&&(r.length>0?l.setAttribute("style",r):l.removeAttribute("style"))}}function g(e,t,n){var i="";return r(e.split(","),function(e,o){i+=(o>0?",":"")+(n*t+parseInt(e,10))+"s"}),i}function v(e,t){return h(e,t)?function(n){n&&x(e,t)}:void 0}function y(e,t,n){return e.data(O)?m(e,t,n):(x(e,t),n(),void 0)}function b(e,t,n){var i=v(e,t);if(!i)return n(),void 0;var o=i;return u(function(){o=y(e,t,n)}),function(e){(o||a)(e)}}function x(e,t){e.removeClass(t),e.removeClass(L),e.removeData(O)}function w(e,n){var i="";return e=t.isArray(e)?e:e.split(/\s+/),r(e,function(e,t){e&&e.length>0&&(i+=(t>0?" ":"")+e+n)}),i}var $,k,C,T,S="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(S="-webkit-",$="WebkitTransition",k="webkitTransitionEnd transitionend"):($="transition",k="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(S="-webkit-",C="WebkitAnimation",T="webkitAnimationEnd animationend"):(C="animation",T="animationend");var _,E="Duration",M="Property",D="Delay",P="IterationCount",N="$$ngAnimateKey",O="$$ngAnimateCSS3Data",L="ng-animate-start",A="ng-animate-active",q={},B=0,j=[];return{allowCancel:function(e,n,i){var o=(e.data(O)||{}).classes;if(!o||["enter","leave","move"].indexOf(n)>=0)return!0;var a=e.parent(),s=t.element(e[0].cloneNode());s.attr("style","position:absolute; top:-9999px; left:-9999px"),s.removeAttr("id"),s.html(""),r(o.split(" "),function(e){s.removeClass(e)});var l="addClass"==n?"-add":"-remove";s.addClass(w(i,l)),a.append(s);var u=d(s);return s.remove(),Math.max(u.transitionDuration,u.animationDuration)>0},enter:function(e,t){return b(e,"ng-enter",t)},leave:function(e,t){return b(e,"ng-leave",t)},move:function(e,t){return b(e,"ng-move",t)},beforeAddClass:function(e,t,n){var i=v(e,w(t,"-add"));return i?(u(n),i):(n(),void 0)},addClass:function(e,t,n){return y(e,w(t,"-add"),n)},beforeRemoveClass:function(e,t,n){var i=v(e,w(t,"-remove"));return i?(u(n),i):(n(),void 0)},removeClass:function(e,t,n){return y(e,w(t,"-remove"),n)}}}])}])}(window,window.angular),define("angular-animate",["angular"],function(){}),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function i(e){for(var t in e)if(void 0!==a.style[t])return e[t]}var o=function(i,a,r){r=r||{};var s=e.defer(),l=o[r.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){i.unbind(l,u),s.resolve(i)})};return l&&i.bind(l,u),t(function(){angular.isString(a)?i.addClass(a):angular.isFunction(a)?a(i):angular.isObject(a)&&i.css(a),l||s.resolve(i)}),s.promise.cancel=function(){l&&i.unbind(l,u),s.reject("Transition cancelled")},s.promise},a=document.createElement("trans"),r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return o.transitionEndEventName=i(r),o.animationEndEventName=i(s),o}]),define("angular-ui-bootstrap-transition",["angular"],function(){}),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){var t=function(e,t,n){t.removeClass("collapse"),t.css({height:n}),t[0].offsetWidth,t.addClass("collapse")};return{link:function(n,i,o){var a,r=!0;n.$watch(function(){return i[0].scrollHeight},function(){0!==i[0].scrollHeight&&(a||(r?t(n,i,i[0].scrollHeight+"px"):t(n,i,"auto")))}),n.$watch(o.collapse,function(e){e?c():u()});var s,l=function(t){return s&&s.cancel(),s=e(i,t),s.then(function(){s=void 0},function(){s=void 0}),s},u=function(){r?(r=!1,a||t(n,i,"auto")):l({height:i[0].scrollHeight+"px"}).then(function(){a||t(n,i,"auto")}),a=!1},c=function(){a=!0,r?(r=!1,t(n,i,0)):(t(n,i,i[0].scrollHeight+"px"),l({height:"0"}))}}}}]),define("angular-ui-bootstrap-collapse",["angular-ui-bootstrap-transition"],function(){}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(e){var t=null,n=angular.noop;return{restrict:"CA",link:function(i,o){i.$watch("$location.path",function(){n()}),o.parent().bind("click",function(){n()}),o.bind("click",function(i){var a=o===t;i.preventDefault(),i.stopPropagation(),t&&n(),a||(o.parent().addClass("open"),t=o,n=function(i){i&&(i.preventDefault(),i.stopPropagation()),e.unbind("click",n),o.parent().removeClass("open"),n=angular.noop,t=null},e.bind("click",n))})}}}]),define("angular-ui-bootstrap-dropdownToggle",["angular"],function(){});var dialogModule=angular.module("ui.bootstrap.dialog",["ui.bootstrap.transition"]);dialogModule.controller("MessageBoxController",["$scope","dialog","model",function(e,t,n){e.title=n.title,e.message=n.message,e.buttons=n.buttons,e.close=function(e){t.close(e)}}]),dialogModule.provider("$dialog",function(){var e={backdrop:!0,dialogClass:"modal",backdropClass:"modal-backdrop",transitionClass:"fade",triggerClass:"in",resolve:{},backdropFade:!1,dialogFade:!1,keyboard:!0,backdropClick:!0},t={},n={value:0};this.options=function(e){t=e},this.$get=["$http","$document","$compile","$rootScope","$controller","$templateCache","$q","$transition","$injector",function(i,o,a,r,s,l,u,c,d){function f(e){var t=angular.element("<div>");return t.addClass(e),t}function p(n){var i=this,o=this.options=angular.extend({},e,t,n);this._open=!1,this.backdropEl=f(o.backdropClass),o.backdropFade&&(this.backdropEl.addClass(o.transitionClass),this.backdropEl.removeClass(o.triggerClass)),this.modalEl=f(o.dialogClass),o.dialogFade&&(this.modalEl.addClass(o.transitionClass),this.modalEl.removeClass(o.triggerClass)),this.handledEscapeKey=function(e){27===e.which&&(i.close(),e.preventDefault(),i.$scope.$apply())},this.handleBackDropClick=function(e){i.close(),e.preventDefault(),i.$scope.$apply()}}var h=o.find("body");return p.prototype.isOpen=function(){return this._open},p.prototype.open=function(e,t){var n=this,i=this.options;if(e&&(i.templateUrl=e),t&&(i.controller=t),!i.template&&!i.templateUrl)throw new Error("Dialog.open expected template or templateUrl, neither found. Use options or open method to specify them.");return this._loadResolves().then(function(e){var t=e.$scope=n.$scope=e.$scope?e.$scope:r.$new();if(n.modalEl.html(e.$template),n.options.controller){var i=s(n.options.controller,e);n.modalEl.children().data("ngControllerController",i)}a(n.modalEl)(t),n._addElementsToDom(),setTimeout(function(){n.options.dialogFade&&n.modalEl.addClass(n.options.triggerClass),n.options.backdropFade&&n.backdropEl.addClass(n.options.triggerClass)}),n._bindEvents()}),this.deferred=u.defer(),this.deferred.promise},p.prototype.close=function(e){function t(e){e.removeClass(i.options.triggerClass)}function n(){i._open&&i._onCloseComplete(e)}var i=this,o=this._getFadingElements();if(o.length>0)for(var a=o.length-1;a>=0;a--)c(o[a],t).then(n);else this._onCloseComplete(e)},p.prototype._getFadingElements=function(){var e=[];return this.options.dialogFade&&e.push(this.modalEl),this.options.backdropFade&&e.push(this.backdropEl),e},p.prototype._bindEvents=function(){this.options.keyboard&&h.bind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.bind("click",this.handleBackDropClick)},p.prototype._unbindEvents=function(){this.options.keyboard&&h.unbind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.unbind("click",this.handleBackDropClick)},p.prototype._onCloseComplete=function(e){this._removeElementsFromDom(),this._unbindEvents(),this.deferred.resolve(e)},p.prototype._addElementsToDom=function(){h.append(this.modalEl),this.options.backdrop&&(0===n.value&&h.append(this.backdropEl),n.value++),this._open=!0},p.prototype._removeElementsFromDom=function(){this.modalEl.remove(),this.options.backdrop&&(n.value--,0===n.value&&this.backdropEl.remove()),this._open=!1},p.prototype._loadResolves=function(){var e,t=[],n=[],o=this;return this.options.template?e=u.when(this.options.template):this.options.templateUrl&&(e=i.get(this.options.templateUrl,{cache:l}).then(function(e){return e.data})),angular.forEach(this.options.resolve||[],function(e,i){n.push(i),t.push(angular.isString(e)?d.get(e):d.invoke(e))}),n.push("$template"),t.push(e),u.all(t).then(function(e){var t={};return angular.forEach(e,function(e,i){t[n[i]]=e}),t.dialog=o,t})},{dialog:function(e){return new p(e)},messageBox:function(e,t,n){return new p({templateUrl:"template/dialog/message.html",controller:"MessageBoxController",resolve:{model:function(){return{title:e,message:t,buttons:n}}}})}}}]}),define("angular-ui-bootstrap-dialog",["angular-ui-bootstrap-transition"],function(){}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"},link:function(e,t,n){e.closeable="close"in n}}}),define("angular-ui-bootstrap-alert",["angular"],function(){}),define("templates-loader",["angular","text!angular-ui-bootstrap-template/dialog/message.html","text!angular-ui-bootstrap-template/alert/alert.html","text!templates/artist-info/artist-info.html","text!templates/artist-info/similar-artists.html","text!templates/artist-info/top-albums.html","text!templates/artist-info/top-tracks.html","text!templates/audio-player/audio-player.html","text!templates/audio-player/audio-player-queue.html","text!templates/home/home.html","text!templates/keyboard-shortcuts/keyboard-shortcuts.html","text!templates/settings/settings.html","text!templates/track/track.html","text!templates/track/progress/track-progress.html","text!templates/track-actions/track-actions.html","text!templates/track-info/track-info.html","text!templates/track-info/track-album.html","text!templates/track-info/similar-tracks.html","text!templates/track-group/track-group.html","text!templates/track-group/empty-group.html","text!templates/track-search/track-search.html","text!templates/track-search/track-search-results.html","text!templates/user/user-menu.html","text!templates/user-profile/user-profile.html","text!templates/user-profile/user-profile-menu.html","text!templates/playlist/playlist.html","text!templates/playlist/empty-playlist.html","text!templates/playlist/chooser/playlist-chooser.html","angular-animate","angular-ui-bootstrap-collapse","angular-ui-bootstrap-dropdownToggle","angular-ui-bootstrap-dialog","angular-ui-bootstrap-alert"],function(e,t,n,i,o,a,r,s,l,u,c,d,f,p,h,m,g,v,y,b,x,w,$,k,C,T,S,_){var E=e.module("soundrocket.templates-loader",["ngAnimate","ui.bootstrap.collapse","ui.bootstrap.dropdownToggle","ui.bootstrap.dialog","ui.bootstrap.alert"]);return E.run(["$templateCache",function(e){e.put("template/dialog/message.html",t),e.put("template/alert/alert.html",n),e.put("templates/artist-info/artist-info.html",i),e.put("templates/artist-info/similar-artists.html",o),e.put("templates/artist-info/top-albums.html",a),e.put("templates/artist-info/top-tracks.html",r),e.put("templates/audio-player/audio-player.html",s),e.put("templates/audio-player/audio-player-queue.html",l),e.put("templates/home/home.html",u),e.put("templates/keyboard-shortcuts/keyboard-shortcuts.html",c),e.put("templates/settings/settings.html",d),e.put("templates/track/track.html",f),e.put("templates/track/progress/track-progress.html",p),e.put("templates/track-actions/track-actions.html",h),e.put("templates/track-info/track-info.html",m),e.put("templates/track-info/track-album.html",g),e.put("templates/track-info/similar-tracks.html",v),e.put("templates/track-group/track-group.html",y),e.put("templates/track-group/empty-group.html",b),e.put("templates/track-search/track-search.html",x),e.put("templates/track-search/track-search-results.html",w),e.put("templates/user/user-menu.html",$),e.put("templates/user-profile/user-profile.html",k),e.put("templates/user-profile/user-profile-menu.html",C),e.put("templates/playlist/playlist.html",T),e.put("templates/playlist/empty-playlist.html",S),e.put("templates/playlist/chooser/playlist-chooser.html",_)}]),E}),require.config({paths:{templates:"../templates",text:"../components/requirejs-text/text",angular:"../components/angular/angular","angular-route":"../components/angular-route/angular-route","angular-cookies":"../components/angular-cookies/angular-cookies","angular-animate":"../components/angular-animate/angular-animate","angular-sanitize":"../components/angular-sanitize/angular-sanitize","angular-ui-bootstrap-template":"../components/angular-ui-bootstrap/template","angular-ui-bootstrap-transition":"../components/angular-ui-bootstrap/src/transition/transition","angular-ui-bootstrap-collapse":"../components/angular-ui-bootstrap/src/collapse/collapse","angular-ui-bootstrap-dialog":"../components/angular-ui-bootstrap/src/dialog/dialog","angular-ui-bootstrap-dropdownToggle":"../components/angular-ui-bootstrap/src/dropdownToggle/dropdownToggle","angular-ui-bootstrap-alert":"../components/angular-ui-bootstrap/src/alert/alert",soundmanager2:"../components/soundmanager/script/soundmanager2",observable:"lib/observable"},shim:{angular:{exports:"angular"},"angular-route":{deps:["angular"]},"angular-cookies":{deps:["angular"]},"angular-animate":{deps:["angular"]},"angular-sanitize":{deps:["angular"]},"angular-ui-bootstrap-dropdownToggle":{deps:["angular"]},"angular-ui-bootstrap-alert":{deps:["angular"]},"angular-ui-bootstrap-transition":{deps:["angular"]},"angular-ui-bootstrap-collapse":{deps:["angular-ui-bootstrap-transition"]},"angular-ui-bootstrap-dialog":{deps:["angular-ui-bootstrap-transition"]},soundmanager2:{exports:"soundManager"}},packages:["common","artist-info","audio-player","home","keyboard-shortcuts","layout","settings","track","track-actions","track-group","track-info","track-search","user","user-profile","playlist"]}),require(["angular","app","routes","templates-loader"],function(e,t,n,i){var o=e.element(document);
o.ready(function(){var a=o.find("html");e.bootstrap(a,[t.name,n.name,i.name]),a.addClass("ng-app")})}),define("main",function(){});