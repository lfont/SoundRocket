<div class="settings push-bottom row-fluid">
  <div class="span2">
    <div class="push-top">
      <ul class="nav nav-pills nav-stacked">
        <li class="active">
          <a href="/settings/account">
            Account
            <i class="icon-caret-right pull-right"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>
  
  <div class="span10">
    <div class="heading well well-small">
      <h2>Account</h2>
      <p>Change your personal account settings</p>
    </div>

    <alert ng-if="error"
           type="error.isBusiness ? 'warning' : 'error'"
           close="closeErrorAlert()">
      <strong>{{ error.title }} </strong>
      {{ error.message }}
    </alert>
    
    <form class="form-horizontal"
          name="invitationForm"
          ng-submit="setInvitationCode()"
          novalidate>
      <fieldset>
        <legend>Invitation</legend>

        <div ng-switch on="hasInvitation">
          <div ng-switch-when="true" class="alert alert-success">
            <strong>Hooray! </strong>
            You have access to StereoBuns.
          </div>

          <div ng-switch-default>
            <div class="alert alert-info">
              <strong>Hey, </strong>
              Enter your invitation code to unlock StereoBuns. 
            </div>
        
            <div class="control-group">
              <label class="control-label" for="codeInput">Code</label>
              <div class="controls">
                <input type="text" id="codeInput" name="codeInput"
                       placeholder="ex: 21EC20203AEA"
                       ng-model="$parent.invitationCode"
                       required
                       ng-pattern="/^[0-9a-f]{12}$/i">
                <span class="error" ng-show="invitationForm.codeInput.$error.required">Required!</span>
                <span class="error" ng-show="invitationForm.codeInput.$error.pattern">Invalid format!</span>
              </div>
            </div>

            <div class="control-group">
              <div class="controls">
                <button type="submit" class="btn">Submit</button>
              </div>
            </div>
          </div>
        </div>
      </fieldset>
    </form>

    <fieldset>
      <legend>Delete Account</legend>

      <div class="alert">
        <strong>Warning! </strong>
        This operation cannot be undone. Please be certain.
      </div>

      <a href="#" class="btn btn-danger"
         ng-click="openDeleteConfirmationBox(); $event.preventDefault()">Delete your account</a>
    </fieldset>
  </div>
</div>
