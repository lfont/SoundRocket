<div class="track-search-results push-bottom">
  <div class="searching text-center" ng-if="isSearching">
    <i class="icon-spinner icon-spin icon-large"></i> Searching...
  </div>
    
  <div class="row-fluid" ng-hide="isSearching">
    <div class="span2 push-top">
      <h4>Filter</h4>
      
      <ul class="nav nav-pills nav-stacked" ng-show="tracks.length">
        <li ng-class="{ active: !filter }">
          <a href="#" ng-click="filterBy(); $event.preventDefault()">
            No filter
          </a>
        </li>
        <li ng-class="{ active: filter == 'artist' }">
          <a href="#" ng-click="filterBy('artist'); $event.preventDefault()">
            Artist name
          </a>
        </li>
        <li ng-class="{ active: filter == 'name' }">
          <a href="#" ng-click="filterBy('name'); $event.preventDefault()">
            Track name
          </a>
        </li>
      </ul>
    </div>
      
    <div class="span10">
      <form novalidate class="form-search" name="searchForm"
            ng-controller="TrackSearchCtrl"
            ng-submit="search()"
            ng-init="query = $parent.searchQuery">
        <input type="text" name="queryField" placeholder="Search"
               class="search-query input-block-level"
               ng-model="query"
               required>
      </form>
      
      <div class="track-list-actions">
        <span ng-show="filteredTracks.length">{{ filteredTracks.length }}</span>
        <ng-pluralize count="filteredTracks.length"
            when="{ '0': 'no track',
                    '1': 'track',
                    'other': 'tracks' }">
        </ng-pluralize>
        <span ng-show="filteredTracks.length">found</span>
      </div>
      
      <ul class="track-list">
        <li ng-repeat="track in filteredTracks">
          <sr-track track="track"></sr-track>
        </li>
      </ul>
    </div>
  </div>
</div>
